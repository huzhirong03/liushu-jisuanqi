    <!DOCTYPE html>
    <!--
    ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
    ‚ïë                      ÂÖ≠ÂèîÁÅ´ÁÆ≠ËÆ°ÁÆóÂô® - ÁâàÊú¨‰ø°ÊÅØ                              ‚ïë
    ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
    ‚ïë  ÁâàÊú¨Âè∑: v2.5.0                                                            ‚ïë
    ‚ïë  Êõ¥Êñ∞Êó•Êúü: 2025-12-25                                                      ‚ïë
    ‚ïë  ÊèêÁ§∫ËØçÁâàÊú¨: v2.1                                                          ‚ïë
    ‚ïë  ÊµãËØïÁî®‰æãÁâàÊú¨: v1.1 (35‰∏™Áî®‰æã)                                             ‚ïë
    ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
    ‚ïë  Êõ¥Êñ∞Êó•Âøó:                                                                 ‚ïë
    ‚ïë  v1.9.0 - ÊèêÁ§∫ËØç‰ºòÂåñv2                                                     ‚ïë
    ‚ïë    - ÊîØÊåÅÁîüËÇñ+xÊ†ºÂºèÔºàÈæôx10„ÄÅÁãóX80„ÄÅÁå¥È∏°x50Ôºâ                                ‚ïë
    ‚ïë    - ÊîØÊåÅÂ∞èÊï∞/Â§ßÊï∞/ÂçïÊï∞/ÂèåÊï∞ËåÉÂõ¥                                           ‚ïë
    ‚ïë    - ÊîØÊåÅÂ§öÁßçÂàÜÈöîÁ¨¶ÔºàÁ©∫Ê†º/ÁÇπ/ÈÄóÂè∑/È°øÂè∑/ÊñúÊù†/Ê®™Êù†Ôºâ                          ‚ïë
    ‚ïë    - ÊîØÊåÅ‰∏≠ÊñáÈáëÈ¢ùÔºàÂêÑ‰∫åÂçÅ„ÄÅÂêÑ‰∏ÄÁôæÔºâ                                        ‚ïë
    ‚ïë    - Êñ∞Â¢ûR29/R30ÁêÜÁî±‰ª£Á†Å                                                   ‚ïë
    ‚ïë    - Êñ∞Â¢ûÊâπÈáèËæπÁºòÊµãËØïÂäüËÉΩÔºà32‰∏™Áî®‰æãÔºâ                                       ‚ïë
    ‚ïë    - ÊµãËØïÂÆåÊàêËá™Âä®ÂØºÂá∫JSON+CSV                                              ‚ïë
    ‚ïë  v1.8.0 - Ê®°ÂûãÊØîÊãºÁ≥ªÁªü                                                     ‚ïë
    ‚ïë    - 5ËΩÆÊµãËØï„ÄÅÊ†áÂáÜÁ≠îÊ°àÂØπÊØî„ÄÅCSVÂØºÂá∫„ÄÅËØÑÂàÜÁªüËÆ°                              ‚ïë
    ‚ïë  v1.7.0 - ÂÖîÂ≠êAPIÂ§öÁ´ôÁÇπÊô∫ËÉΩÂàáÊç¢                                            ‚ïë
    ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
    ‚ïë  ‚ö†Ô∏è Êñ∞ÂØπËØùÂøÖËØª: PROJECT_INFO.md (ÂåÖÂê´È°πÁõÆÁªìÊûÑ„ÄÅÊ®°ÂûãÈÖçÁΩÆ„ÄÅÊµãËØïÂéÜÂè≤)          ‚ïë
    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

    ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
    ‚ïë                      ÂÖ≠ÂèîÁÅ´ÁÆ≠ËÆ°ÁÆóÂô® - ‰ª£Á†ÅÁ¥¢Âºï                              ‚ïë
    ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
    ‚ïë                                                                           ‚ïë
    ‚ïë  „ÄêÊü•ÊâæÊñπÊ≥ï„ÄëÊåâ Ctrl+F ÊêúÁ¥¢ÂÖ≥ÈîÆËØç                                          ‚ïë
    ‚ïë                                                                           ‚ïë
    ‚ïë  1. ÈªòËÆ§ÂºÄÂ•ñÂè∑Á†ÅÔºàÊµãËØïÁî®Ôºâ                                                  ‚ïë
    ‚ïë     ÊêúÁ¥¢: „ÄêÊµãËØïÁî®„ÄëÈªòËÆ§ÂºÄÂ•ñÂè∑Á†Å                                            ‚ïë
    ‚ïë                                                                           ‚ïë
    ‚ïë  2. Ê†ºÂºèËß£ÊûêÊ®°ÂùóÔºàËß£Êûê‰∏ãÊ≥®ÊñáÊú¨Ôºâ                                            ‚ïë
    ‚ïë     ÊêúÁ¥¢: „ÄêÊ®°Âùó1„ÄëÊ†ºÂºèËß£ÊûêÊ®°Âùó                                             ‚ïë
    ‚ïë                                                                           ‚ïë
    ‚ïë  3. ËÆ°ÁÆóÈÄªËæëÊ®°ÂùóÔºàËÆ°ÁÆó‰∏≠Â•ñÁªìÊûúÔºâ                                            ‚ïë
    ‚ïë     ÊêúÁ¥¢: „ÄêÊ®°Âùó2„ÄëËÆ°ÁÆóÈÄªËæëÊ®°Âùó                                             ‚ïë
    ‚ïë                                                                           ‚ïë
    ‚ïë  4. ËµîÁéáËÆæÁΩÆÊ®°ÂùóÔºàËµîÁéáËØªÂÜôÂØºÂÖ•ÂØºÂá∫Ôºâ                                        ‚ïë
    ‚ïë     ÊêúÁ¥¢: „ÄêÊ®°Âùó3„ÄëËµîÁéáËÆæÁΩÆÊ®°Âùó                                             ‚ïë
    ‚ïë                                                                           ‚ïë
    ‚ïë  5. ÂØºÂá∫/ÂØºÂÖ•ËµîÁéáÊåâÈíÆ                                                      ‚ïë
    ‚ïë     ‰ΩçÁΩÆ: ÊøÄÊ¥ª‰ºöÂëòÈ°µÈù¢ ‚Üí ËµîÁéáÈÖçÁΩÆÂ§á‰ªΩ                                       ‚ïë
    ‚ïë                                                                           ‚ïë
    ‚ïë  ‚òÖ‚òÖ‚òÖ 6. „ÄêAIÊèêÁ§∫ËØç„ÄëÂ§ßÊ®°ÂûãËæìÂÖ•ÊèêÁ§∫ËØç ‚òÖ‚òÖ‚òÖ                                  ‚ïë
    ‚ïë     ÊêúÁ¥¢: „ÄêAIÊèêÁ§∫ËØçÂºÄÂßã„Äë                                                  ‚ïë
    ‚ïë     ËØ¥Êòé: ÂèëÈÄÅÁªôDeepSeekÂ§ßÊ®°ÂûãÁöÑÊèêÁ§∫ËØçÔºåÊéßÂà∂AIÂ¶Ç‰ΩïËß£ÊûêÁî®Êà∑ËæìÂÖ•              ‚ïë
    ‚ïë                                                                           ‚ïë
    ‚ïë  ‚òÖ‚òÖ‚òÖ 7. „ÄêAIË∞ÉËØïÊòæÁ§∫„ÄëÊµãËØïÂÆåÊàêÂêéÂà†Èô§ ‚òÖ‚òÖ‚òÖ                                  ‚ïë
    ‚ïë     ÊêúÁ¥¢: „ÄêAIË∞ÉËØïÊòæÁ§∫„Äë                                                    ‚ïë
    ‚ïë     ËØ¥Êòé: ÂëäËØâAI"Âà†Èô§AIË∞ÉËØïÊòæÁ§∫‰ª£Á†Å"Âç≥ÂèØÁßªÈô§                               ‚ïë
    ‚ïë                                                                           ‚ïë
    ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
    ‚ïë  „ÄêÊîØÊåÅÁöÑÁé©Ê≥ïÁ±ªÂûã„ÄëÂÖ±24Áßç                                                   ‚ïë
    ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
    ‚ïë  ÁâπÁ†ÅÁ±ª:     ÁâπÁ†Å„ÄÅÁîüËÇñÁâπÁ†ÅÔºà‰π∞XÂêÑYÔºâ„ÄÅÂ§ßÂ∞èÂçïÂèå                             ‚ïë
    ‚ïë  Âπ≥ÁâπÁ±ª:     Âπ≥Áâπ‰∏ÄËÇñ(‰∏ÄÂèã)„ÄÅÂπ≥Áâπ‰∫åËøûËÇñ(‰∫åÂèã)„ÄÅÂπ≥Áâπ‰∏âËøûËÇñ(‰∏âÂèã)„ÄÅ           ‚ïë
    ‚ïë             Âπ≥ÁâπÂõõËøûËÇñ„ÄÅÂπ≥Áâπ‰∫îËøûËÇñ„ÄÅÂπ≥ÁâπÂ∞æÊï∞                               ‚ïë
    ‚ïë  ÁîüËÇñÁ±ª:     ÁîüËÇñ„ÄÅÂÖ≠ËÇñ„ÄÅÁâπËÇñ„ÄÅÂêàËÇñ„ÄÅÊ≠£ËÇñ                                    ‚ïë
    ‚ïë  Ê≥¢Ëâ≤Á±ª:     Ê≥¢Ëâ≤„ÄÅÂçäÊ≥¢(Á∫¢Âçï/Á∫¢Âèå/ËìùÂçï/ËìùÂèå/ÁªøÂ§ß/ÁªøÂ∞èÁ≠â)                    ‚ïë
    ‚ïë  Âπ≥Á†ÅÁ±ª:     ÂçïÂπ≥/Âπ≥Á†Å                                                     ‚ïë
    ‚ïë  ËøûÁ†ÅÁ±ª:     ‰∫å‰∏≠‰∫å„ÄÅ‰∏â‰∏≠‰∏â„ÄÅ‰∫åÂÖ®‰∏≠„ÄÅ‰∏âÂÖ®‰∏≠„ÄÅ‰∫å‰∏≠Áâπ„ÄÅ‰∏â‰∏≠Áâπ„ÄÅÁâπ‰∏≤           ‚ïë
    ‚ïë  ‰∏ç‰∏≠Á±ª:     ‰∫î‰∏ç‰∏≠~ÂçÅ‰∫å‰∏ç‰∏≠                                               ‚ïë
    ‚ïë  ÂÖ∂‰ªñ:       ÊÄªÂíåÂ§ßÂ∞èÂçïÂèå„ÄÅ‰∫îË°å„ÄÅÂÆ∂Á¶ΩÈáéÂÖΩ„ÄÅÂ§¥Â∞æÊï∞                           ‚ïë
    ‚ïë                                                                           ‚ïë
    ‚ïë  „ÄêÈáçË¶ÅÂå∫ÂàÜ„Äë"‰π∞Áå™ÂêÑ10" vs "Áå™x10"                                          ‚ïë
    ‚ïë  ‰π∞Áå™ÂêÑ10 ‚Üí ÁîüËÇñÁâπÁ†ÅÔºö‰π∞Áå™ÁöÑÂè∑Á†Å(7,19,31,43)ÂêÑ10ÂÖÉ=40ÂÖÉÔºåËµîÁéá43            ‚ïë
    ‚ïë  Áå™x10   ‚Üí ÁîüËÇñÁâπÁ†ÅÔºöÁå™ÁöÑÂè∑Á†ÅÂêÑ10ÂÖÉÔºàÂêå‰∏äÔºâ                                ‚ïë
    ‚ïë  Áå™10    ‚Üí ÁîüËÇñÔºö‰π∞Áå™ÁîüËÇñ10ÂÖÉÔºåËµîÁéá12                                      ‚ïë
    ‚ïë                                                                           ‚ïë
    ‚ïë  „ÄêÂà´ÂêçÊò†Â∞Ñ„Äë                                                              ‚ïë
    ‚ïë  ‰∏ÄÂèã=Âπ≥Áâπ‰∏ÄËÇñ  ‰∫åÂèã=Âπ≥Áâπ‰∫åËøûËÇñ  ‰∏âÂèã=Âπ≥Áâπ‰∏âËøûËÇñ  Âπ≥Á†Å=ÂçïÂπ≥  +=ÂçÅ(Âè∑Á†Å)     ‚ïë
    ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
    ‚ïë  ‚òÖ‚òÖ‚òÖ 8. „Äê‰∏¥Êó∂-Ê®°ÂûãÊØîÊãº„ÄëÂ§ßÊ®°ÂûãÊµãËØïÁ≥ªÁªüÔºàÂêéÊúüÂà†Èô§Ôºâ ‚òÖ‚òÖ‚òÖ                   ‚ïë
    ‚ïë     ÊêúÁ¥¢: „Äê‰∏¥Êó∂-Ê®°ÂûãÊØîÊãº„Äë                                                ‚ïë
    ‚ïë     ËØ¥Êòé: Áî®‰∫éÊØîÊãºÂêÑÂ§ßÊ®°ÂûãÊÄßËÉΩÔºåÊâæÂà∞ÊúÄÈÄÇÂêàÁöÑÊ®°ÂûãÁªÑÂêà                        ‚ïë
    ‚ïë     Âà†Èô§: ÂëäËØâAI"Âà†Èô§‰∏¥Êó∂-Ê®°ÂûãÊØîÊãºÂäüËÉΩ"Âç≥ÂèØÁßªÈô§                            ‚ïë
    ‚ïë     ÂåÖÂê´: 5ËΩÆÊµãËØï„ÄÅËæπÁºòÊµãËØï„ÄÅÊ†áÂáÜÁ≠îÊ°àÂØπÊØî„ÄÅCSV+JSONÂØºÂá∫                    ‚ïë
    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
    -->
    <html lang="zh-CN">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title" content="ÂÖ≠ÂèîÁÅ´ÁÆ≠ËÆ°ÁÆóÂô®">
        <meta name="theme-color" content="#1a1a2e">
        
        <title>ÂÖ≠ÂèîÁÅ´ÁÆ≠ËÆ°ÁÆóÂô®</title>
        <link rel="manifest" href="manifest.json">
        <link rel="apple-touch-icon" href="icon-192.png">
        
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'PingFang SC', 'Helvetica Neue', Arial, sans-serif;
                background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
                min-height: 100vh;
                color: #fff;
                padding: 15px;
                padding-top: max(15px, env(safe-area-inset-top));
                padding-bottom: max(15px, env(safe-area-inset-bottom));
            }
            
            .container {
                max-width: 500px;
                margin: 0 auto;
            }
            
            /* È°∂ÈÉ®Ê†áÈ¢ò */
            .header {
                text-align: center;
                padding: 15px 0;
            }
            
            .header h1 {
                font-size: 24px;
                color: #e94560;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
            }
            
            .header h1::before {
                content: '';
                width: 20px;
                height: 20px;
                background: #e94560;
                border-radius: 4px;
            }
            
            /* ‰ø°ÊÅØÂç°Áâá */
            .info-row {
                display: flex;
                gap: 10px;
                margin-bottom: 15px;
            }
            
            .info-card {
                flex: 1;
                background: rgba(255, 255, 255, 0.1);
                backdrop-filter: blur(10px);
                border-radius: 12px;
                padding: 12px;
                border: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            .info-card.large {
                flex: 2;
            }
            
            .info-card-label {
                font-size: 11px;
                color: #888;
                margin-bottom: 5px;
            }
            
            .info-card-value {
                font-size: 13px;
                color: #fff;
                font-family: 'Courier New', monospace;
                word-break: break-all;
            }
            
            .info-card-value.highlight {
                color: #fbbf24;
                font-weight: bold;
            }
            
            /* ÂäüËÉΩÊåâÈíÆÂå∫ */
            .btn-row {
                display: flex;
                gap: 10px;
                margin-bottom: 15px;
            }
            
            .btn {
                flex: 1;
                padding: 10px 8px;
                border: none;
                border-radius: 8px;
                font-size: 12px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 3px;
                max-width: 100px;
            }
            
            .btn-primary {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
            }
            
            .btn-success {
                background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
                color: white;
            }
            
            .btn-warning {
                background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
                color: white;
            }
            
            .btn:active {
                transform: scale(0.95);
            }
            
            .btn-icon {
                font-size: 16px;
            }
            
            .btn-row {
                justify-content: center;
            }
            
            /* ÂºÄÂ•ñÊòæÁ§∫Âå∫ */
            .lottery-display {
                background: rgba(255, 255, 255, 0.05);
                border-radius: 12px;
                padding: 15px;
                margin-bottom: 15px;
                border: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            .lottery-title {
                font-size: 14px;
                color: #888;
                margin-bottom: 12px;
                text-align: center;
            }
            
            .lottery-balls {
                display: flex;
                justify-content: center;
                align-items: center;
                flex-wrap: nowrap;
                gap: 6px;
                overflow-x: auto;
            }
            
            .ball-wrapper {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 1px;
                flex-shrink: 0;
            }
            
            .ball {
                width: 34px;
                height: 34px;
                min-width: 34px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 13px;
                font-weight: bold;
                color: white;
                text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
                box-shadow: 0 4px 8px rgba(0,0,0,0.3), inset 0 -3px 6px rgba(0,0,0,0.2), inset 0 3px 6px rgba(255,255,255,0.3);
                /* Âä®ÁîªÊïàÊûú */
                opacity: 0;
                transform: scale(0.5);
                animation: ballAppear 0.4s ease-out forwards;
                animation-delay: var(--delay, 0s);
            }
            
            @keyframes ballAppear {
                to {
                    opacity: 1;
                    transform: scale(1);
                }
            }
            
            /* üÜï v3.11.57 ÊµÅÂºèÁªìÊûúÊªëÂÖ•Âä®Áîª */
            @keyframes slideIn {
                from {
                    opacity: 0;
                    transform: translateX(-20px);
                }
                to {
                    opacity: 1;
                    transform: translateX(0);
                }
            }
            
            /* Á¶ÅÁî®Âä®ÁîªÊó∂Á´ãÂç≥ÊòæÁ§∫ */
            .ball.no-anim {
                opacity: 1;
                transform: scale(1);
                animation: none;
            }
            
            .ball.red { background: linear-gradient(145deg, #ff6b6b, #c0392b); }
            .ball.blue { background: linear-gradient(145deg, #4dabf7, #2980b9); }
            .ball.green { background: linear-gradient(145deg, #51cf66, #27ae60); }
            
            .ball-info {
                font-size: 10px;
                color: #aaa;
                white-space: nowrap;
                font-weight: 500;
            }
            
            .ball-plus {
                font-size: 14px;
                color: #666;
                margin: 0 1px;
                flex-shrink: 0;
            }
            
            .lottery-empty {
                text-align: center;
                color: #666;
                padding: 20px;
                font-size: 14px;
            }
            
            /* ËæìÂÖ•Ê°ÜÂå∫ */
            .input-section {
                background: rgba(255, 255, 255, 0.05);
                border-radius: 12px;
                padding: 15px;
                margin-bottom: 15px;
                border: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            .input-section-title {
                font-size: 14px;
                color: #888;
                margin-bottom: 10px;
            }
            
            .input-textarea {
                width: 100%;
                height: 200px;
                background: rgba(0, 0, 0, 0.3);
                border: 1px solid rgba(255, 255, 255, 0.2);
                border-radius: 8px;
                padding: 12px;
                color: #fff;
                font-size: 14px;
                font-family: 'Courier New', monospace;
                resize: none;
                outline: none;
            }
            
            .input-textarea::placeholder {
                color: #666;
            }
            
            .input-textarea:focus {
                border-color: #e94560;
            }
            
            /* Êìç‰ΩúÊåâÈíÆ */
            .action-row {
                display: flex;
                gap: 10px;
            }
            
            .btn-calculate {
                flex: 2;
                background: linear-gradient(90deg, #e94560, #ff6b6b);
                color: white;
                padding: 16px;
                border: none;
                border-radius: 10px;
                font-size: 16px;
                font-weight: bold;
                cursor: pointer;
            }
            
            .btn-clear {
                flex: 1;
                background: rgba(255, 255, 255, 0.1);
                color: #fff;
                padding: 16px;
                border: 1px solid rgba(255, 255, 255, 0.2);
                border-radius: 10px;
                font-size: 14px;
                cursor: pointer;
            }
            
            .btn-check {
                flex: 1;
                padding: 16px;
                border: none;
                border-radius: 10px;
                background: linear-gradient(90deg, #9b59b6, #8e44ad);
                color: white;
                font-size: 14px;
                font-weight: bold;
                cursor: pointer;
            }
            
            /* Ê†∏ÂØπËØ¶ÊÉÖÈ°µÊ†∑Âºè */
            .check-summary {
                background: rgba(0,0,0,0.3);
                border-radius: 12px;
                padding: 15px;
                margin-bottom: 15px;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
            
            .check-summary-item {
                text-align: center;
            }
            
            .check-summary-label {
                font-size: 12px;
                color: #888;
                margin-bottom: 5px;
            }
            
            .check-summary-value {
                font-size: 18px;
                font-weight: bold;
            }
            
            .check-summary-value.win {
                color: #e74c3c;
            }
            
            .check-summary-value.lose {
                color: #2ecc71;
            }
            
            .check-detail-list {
                display: flex;
                flex-direction: column;
                gap: 10px;
            }
            
            .check-detail-item {
                background: rgba(255,255,255,0.05);
                border-radius: 10px;
                padding: 12px;
                border-left: 3px solid #666;
            }
            
            .check-detail-item.win {
                border-left-color: #e74c3c;
                background: rgba(231, 76, 60, 0.1);
            }
            
            .check-detail-item.lose {
                border-left-color: #2ecc71;
                background: rgba(46, 204, 113, 0.1);
            }
            
            .check-detail-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 8px;
            }
            
            .check-detail-type {
                font-size: 13px;
                color: #fff;
                font-weight: bold;
            }
            
            .check-detail-badge {
                font-size: 11px;
                padding: 2px 8px;
                border-radius: 10px;
                background: #e74c3c;
                color: white;
            }
            
            .check-detail-badge.miss {
                background: #666;
            }
            
            .check-detail-info {
                font-size: 12px;
                color: #888;
                margin-bottom: 5px;
            }
            
            .check-detail-calc {
                font-size: 12px;
                color: #aaa;
                font-family: 'Courier New', monospace;
            }
            
            .check-detail-result {
                font-size: 16px;
                font-weight: bold;
                text-align: right;
                margin-top: 8px;
            }
            
            .check-detail-result.win {
                color: #e74c3c;
            }
            
            .check-detail-result.lose {
                color: #2ecc71;
            }
            
            /* È°µÈù¢ÂàáÊç¢ */
            .page {
                display: none;
            }
            
            .page.active {
                display: block;
            }
            
            /* Â≠êÈ°µÈù¢Â§¥ÈÉ® */
            .page-header {
                display: flex;
                align-items: center;
                padding: 15px 0;
                margin-bottom: 15px;
            }
            
            .btn-back {
                background: none;
                border: none;
                color: #fff;
                font-size: 24px;
                cursor: pointer;
                padding: 5px 15px 5px 0;
            }
            
            .page-title {
                font-size: 18px;
                font-weight: bold;
            }
            
            /* ËÆæÁΩÆÈ°π */
            .setting-group {
                background: rgba(255, 255, 255, 0.05);
                border-radius: 12px;
                padding: 15px;
                margin-bottom: 15px;
            }
            
            .setting-group-title {
                font-size: 14px;
                color: #e94560;
                margin-bottom: 15px;
                font-weight: bold;
            }
            
            .setting-item {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 12px 0;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            .setting-item:last-child {
                border-bottom: none;
            }
            
            .setting-label {
                font-size: 14px;
            }
            
            .setting-input {
                width: 100px;
                background: rgba(0, 0, 0, 0.3);
                border: 1px solid rgba(255, 255, 255, 0.2);
                border-radius: 6px;
                padding: 8px 12px;
                color: #fbbf24;
                font-size: 14px;
                text-align: right;
                outline: none;
            }
            
            .setting-input:focus {
                border-color: #e94560;
            }
            
            /* ÂèÇÁÖßË°® */
            .ref-table-wrap {
                overflow-x: auto;
                margin-top: 5px;
            }
            
            .ref-table {
                width: 100%;
                border-collapse: collapse;
                font-size: 13px;
            }
            
            .ref-table th {
                background: rgba(233, 69, 96, 0.3);
                padding: 10px 8px;
                text-align: left;
                color: #fff;
                font-weight: bold;
                white-space: nowrap;
            }
            
            .ref-table td {
                padding: 10px 8px;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                color: #ddd;
            }
            
            .ref-table tr:nth-child(even) {
                background: rgba(255, 255, 255, 0.03);
            }
            
            .ref-table .num-red { color: #e74c3c; font-weight: bold; }
            .ref-table .num-blue { color: #3498db; font-weight: bold; }
            .ref-table .num-green { color: #2ecc71; font-weight: bold; }
            
            /* ÊøÄÊ¥ªÈ°µÈù¢ */
            .machine-code-display {
                background: rgba(0, 0, 0, 0.3);
                border-radius: 8px;
                padding: 15px;
                text-align: center;
                margin-bottom: 15px;
            }
            
            .machine-code-value {
                font-family: 'Courier New', monospace;
                font-size: 20px;
                color: #fbbf24;
                letter-spacing: 2px;
            }
            
            .license-input {
                width: 100%;
                background: rgba(0, 0, 0, 0.3);
                border: 1px solid rgba(255, 255, 255, 0.2);
                border-radius: 8px;
                padding: 15px;
                color: #fff;
                font-size: 16px;
                font-family: 'Courier New', monospace;
                text-align: center;
                outline: none;
                margin-bottom: 15px;
            }
            
            .btn-activate {
                width: 100%;
                background: linear-gradient(90deg, #27ae60, #2ecc71);
                color: white;
                padding: 16px;
                border: none;
                border-radius: 10px;
                font-size: 16px;
                font-weight: bold;
                cursor: pointer;
            }
            
            /* AIÊ®°ÂûãÂàáÊç¢ÊåâÈíÆ */
            .ai-model-btn {
                flex: 1;
                min-width: 60px;
                padding: 10px 12px;
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.2);
                border-radius: 8px;
                color: #ccc;
                font-size: 12px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.3s;
            }
            .ai-model-btn:hover {
                background: rgba(255, 255, 255, 0.15);
                border-color: rgba(255, 255, 255, 0.3);
            }
            .ai-model-btn.active {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                border-color: #667eea;
                color: white;
                box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
            }
            .ai-model-btn.disabled {
                opacity: 0.5;
                cursor: not-allowed;
            }
            
            /* üÜï v3.11.48 Áªü‰∏ÄÂ∑•ÂÖ∑Ê†èÊåâÈíÆÊ†∑Âºè - 50pxÈ´òÂ∫¶ÔºåÂÜÖÂÆπÂ±Ö‰∏≠‰∏çÊ∫¢Âá∫ */
            .toolbar-btn {
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: center;
                gap: 2px;
                flex: 1;
                min-width: 0;
                height: 50px;
                padding: 0 4px;
                border: none;
                border-radius: 10px;
                color: white;
                font-size: 16px;
                font-weight: 500;
                cursor: pointer;
                transition: all 0.2s ease;
                white-space: nowrap;
                overflow: hidden;
                box-sizing: border-box;
            }
            .toolbar-btn:hover {
                filter: brightness(1.15);
            }
            .toolbar-btn:active {
                filter: brightness(0.95);
                transform: scale(0.98);
            }
            .toolbar-btn .btn-text {
                font-size: 13px;
                line-height: 1;
                flex-shrink: 0;
            }
            /* ËÆ°ÁÆóÊåâÈíÆÊñáÂ≠óÂæÄÂ∑¶ÁßªÂä®3px */
            .toolbar-btn-primary .btn-text {
                margin-left: -3px;
            }
            .toolbar-btn-secondary {
                background: linear-gradient(135deg,#4a5568,#2d3748) !important;
            }
            .toolbar-btn-primary {
                background: linear-gradient(135deg,#e94560,#c23a51) !important;
                font-weight: bold;
            }
            
            /* Ë∞ÉËØïÈù¢ÊùøTabÊ†∑Âºè */
            .debug-tab {
                flex: 1;
                padding: 10px 12px;
                background: transparent;
                border: none;
                border-bottom: 2px solid transparent;
                color: #888;
                cursor: pointer;
                transition: all 0.3s;
                text-align: center;
                font-size: 13px;
            }
            .debug-tab:hover {
                color: #aaa;
                background: rgba(255,255,255,0.05);
            }
            .debug-tab.active {
                color: #9b59b6;
                border-bottom-color: #9b59b6;
                background: rgba(155,89,182,0.1);
            }
            
            /* Â§öÊ®°ÂûãÂØπÊØîÊ†áÁ≠æ */
            .model-tab {
                flex: 1;
                padding: 10px 8px;
                background: transparent;
                border: none;
                border-bottom: 2px solid transparent;
                color: #888;
                cursor: pointer;
                transition: all 0.3s;
                text-align: center;
            }
            .model-tab:hover {
                background: rgba(255,255,255,0.05);
            }
            .model-tab.active {
                color: #fff;
                border-bottom-color: #667eea;
                background: rgba(102,126,234,0.1);
            }
            .model-tab.success {
                color: #81c784;
            }
            .model-tab.error {
                color: #ef5350;
            }
            .model-tab.warning {
                color: #ffa726;
            }
            .model-tab-name {
                font-size: 12px;
                font-weight: 600;
            }
            .model-tab-time {
                font-size: 10px;
                margin-top: 2px;
                opacity: 0.8;
            }
            
            .status-card {
                background: rgba(255, 255, 255, 0.05);
                border-radius: 12px;
                padding: 15px;
                margin-bottom: 15px;
                text-align: center;
            }
            
            .status-label {
                font-size: 12px;
                color: #888;
            }
            
            .status-value {
                font-size: 18px;
                font-weight: bold;
                margin-top: 5px;
            }
            
            .status-value.active { color: #2ecc71; }
            .status-value.trial { color: #f39c12; }
            .status-value.expired { color: #e74c3c; }
            
            /* ÁªìÊûúÊòæÁ§∫ */
            .result-section {
                background: rgba(255, 255, 255, 0.05);
                border-radius: 12px;
                padding: 15px;
                margin-bottom: 15px;
                display: none;
            }
            
            .result-section.show {
                display: block;
            }
            
            .result-title {
                font-size: 14px;
                color: #e94560;
                margin-bottom: 10px;
                font-weight: bold;
            }
            
            .result-content {
                background: rgba(0, 0, 0, 0.3);
                border-radius: 8px;
                padding: 12px;
                max-height: 60vh;
                overflow-y: auto;
            }
            
            /* üÜï v3.11.58 ÊâìÂ≠óÊú∫ÂÖâÊ†áÂä®Áîª */
            .typewriter-cursor {
                color: #4ecdc4;
                animation: blink 0.7s infinite;
                font-family: inherit;
            }
            @keyframes blink {
                0%, 50% { opacity: 1; }
                51%, 100% { opacity: 0; }
            }
            
            .result-buttons {
                display: flex;
                gap: 10px;
                margin-top: 10px;
            }
            
            .btn-copy-result {
                flex: 1;
                background: linear-gradient(90deg, #3498db, #2980b9);
                color: white;
                padding: 12px;
                border: none;
                border-radius: 8px;
                font-size: 14px;
                font-weight: bold;
                cursor: pointer;
            }
            
            .btn-feedback {
                flex: 1;
                background: linear-gradient(90deg, #e74c3c, #c0392b);
                color: white;
                padding: 12px;
                border: none;
                border-radius: 8px;
                font-size: 13px;
                font-weight: bold;
                cursor: pointer;
            }

            /* ÂºÄÂ•ñËæìÂÖ• */
            .lottery-input-row {
                display: flex;
                gap: 8px;
                margin-bottom: 15px;
                flex-wrap: wrap;
            }
            
            .lottery-num-input {
                width: 45px;
                height: 45px;
                background: rgba(0, 0, 0, 0.3);
                border: 2px solid rgba(255, 255, 255, 0.2);
                border-radius: 50%;
                color: #fff;
                font-size: 16px;
                font-weight: bold;
                text-align: center;
                outline: none;
            }
            
            .lottery-num-input:focus {
                border-color: #e94560;
            }
            
            .lottery-num-input.special {
                border-color: #fbbf24;
                color: #fbbf24;
            }
            
            .plus-sign {
                display: flex;
                align-items: center;
                font-size: 20px;
                color: #666;
            }
            
            .num-input-wrapper {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 4px;
            }
            
            .num-label {
                font-size: 10px;
                color: #888;
            }
            
            .lottery-num-input {
                width: 40px;
                height: 40px;
                background: rgba(0, 0, 0, 0.4);
                border: 2px solid rgba(255, 255, 255, 0.2);
                border-radius: 50%;
                color: #fff;
                font-size: 14px;
                font-weight: bold;
                text-align: center;
                outline: none;
            }
            
            .lottery-num-input:focus {
                border-color: #e94560;
            }
            
            .lottery-num-input.special {
                border-color: #fbbf24;
                color: #fbbf24;
            }
            
            .lottery-num-input.special:focus {
                border-color: #fbbf24;
                box-shadow: 0 0 8px rgba(251, 191, 36, 0.5);
            }
            
            .lottery-input-row {
                display: flex;
                gap: 8px;
                margin-bottom: 15px;
                flex-wrap: wrap;
                align-items: flex-end;
            }
            
            /* ÂØºÂÖ•ÂØºÂá∫ÊåâÈíÆ */
            .config-btn-row {
                display: flex;
                gap: 10px;
                margin-bottom: 15px;
                justify-content: center;
            }
            
            .btn-config {
                padding: 8px 16px;
                border: 1px solid rgba(255,255,255,0.2);
                border-radius: 6px;
                font-size: 12px;
                cursor: pointer;
                transition: all 0.3s;
                background: rgba(255,255,255,0.1);
                color: #fff;
            }
            
            .btn-config:active {
                transform: scale(0.95);
            }
            
            .btn-export {
                border-color: #3498db;
                color: #3498db;
            }
            
            .btn-import {
                border-color: #2ecc71;
                color: #2ecc71;
            }
            
            /* ÂØºÂÖ•ÂºπÁ™ó */
            .import-modal {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0,0,0,0.8);
                z-index: 1000;
                align-items: center;
                justify-content: center;
                padding: 20px;
            }
            
            .import-modal.show {
                display: flex;
            }
            
            .import-modal-content {
                background: #1a1a2e;
                border-radius: 12px;
                padding: 20px;
                width: 100%;
                max-width: 400px;
                border: 1px solid rgba(255,255,255,0.1);
            }
            
            .import-modal-title {
                font-size: 16px;
                font-weight: bold;
                margin-bottom: 15px;
                color: #2ecc71;
            }
            
            .import-textarea {
                width: 100%;
                height: 150px;
                background: rgba(0,0,0,0.3);
                border: 1px solid rgba(255,255,255,0.2);
                border-radius: 8px;
                color: #fff;
                padding: 10px;
                font-size: 12px;
                font-family: 'Courier New', monospace;
                resize: none;
                margin-bottom: 15px;
            }
            
            .import-modal-btns {
                display: flex;
                gap: 10px;
            }
            
            .import-modal-btns button {
                flex: 1;
                padding: 12px;
                border: none;
                border-radius: 8px;
                font-size: 14px;
                font-weight: bold;
                cursor: pointer;
            }
            
            .btn-import-confirm {
                background: linear-gradient(90deg, #2ecc71, #27ae60);
                color: white;
            }
            
            .btn-import-cancel {
                background: rgba(255,255,255,0.1);
                color: #888;
            }
            
            /* ËµîÁéáËÆæÁΩÆÊñ∞Â∏ÉÂ±Ä */
            .odds-layout {
                display: flex;
                height: calc(100vh - 120px);
                gap: 0;
            }
            
            .odds-menu {
                width: 90px;
                background: rgba(0,0,0,0.3);
                border-radius: 10px 0 0 10px;
                overflow-y: auto;
                flex-shrink: 0;
            }
            
            .odds-menu-item {
                padding: 15px 10px;
                text-align: center;
                font-size: 13px;
                color: #888;
                cursor: pointer;
                border-bottom: 1px solid rgba(255,255,255,0.05);
                transition: all 0.3s;
            }
            
            .odds-menu-item:hover {
                background: rgba(255,255,255,0.05);
            }
            
            .odds-menu-item.active {
                background: rgba(233, 69, 96, 0.2);
                color: #e94560;
                border-left: 3px solid #e94560;
            }
            
            .odds-content {
                flex: 1;
                background: rgba(0,0,0,0.2);
                border-radius: 0 10px 10px 0;
                padding: 15px;
                overflow-y: auto;
            }
            
            .odds-panel {
                display: none;
            }
            
            .odds-panel.active {
                display: block;
            }
            
            .odds-panel-title {
                font-size: 14px;
                color: #e94560;
                margin-bottom: 15px;
                padding-bottom: 10px;
                border-bottom: 1px solid rgba(255,255,255,0.1);
            }
            
            .odds-item {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 12px 0;
                border-bottom: 1px solid rgba(255,255,255,0.05);
            }
            
            .odds-item-label {
                font-size: 13px;
                color: #ccc;
            }
            
            .odds-item-input {
                width: 80px;
                background: rgba(0,0,0,0.3);
                border: 1px solid rgba(255,255,255,0.2);
                border-radius: 6px;
                color: #fff;
                padding: 8px;
                font-size: 14px;
                text-align: center;
            }
            
            .odds-note {
                font-size: 12px;
                color: #888;
                padding: 8px 10px;
                background: rgba(0,0,0,0.2);
                border-radius: 6px;
                margin-bottom: 10px;
                border-left: 3px solid #e94560;
            }
            
            .odds-save-btn {
                position: fixed;
                bottom: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(90deg, #e94560, #c23a51);
                color: white;
                padding: 12px 40px;
                border: none;
                border-radius: 25px;
                font-size: 14px;
                font-weight: bold;
                cursor: pointer;
                box-shadow: 0 4px 15px rgba(233, 69, 96, 0.4);
            }
        </style>
    </head>
    <body>
        <div class="container">
            <!-- ‰∏ªÈ°µÈù¢ -->
            <div class="page active" id="page-main">
                <div class="header">
                    <h1 style="color:#e94560;">üöÄÂÖ≠ÂèîÁÅ´ÁÆ≠ËÆ°ÁÆóÂô®</h1>
                </div>
                
                <!-- ÂäüËÉΩÊåâÈíÆ - 4‰∏™ -->
                <div class="btn-row">
                    <button class="btn btn-primary" onclick="showPage('page-lottery')">
                        <span class="btn-icon">üéØ</span>
                        <span>ÂºÄÂ•ñËÆæÁΩÆ</span>
                    </button>
                    <button class="btn btn-success" onclick="showPage('page-odds')">
                        <span class="btn-icon">‚öôÔ∏è</span>
                        <span>ËµîÁéáËÆæÁΩÆ</span>
                    </button>
                    <button class="btn" onclick="showPage('page-format')" style="background:linear-gradient(135deg,#e91e63,#9c27b0);">
                        <span class="btn-icon">‚úèÔ∏è</span>
                        <span>Ëá™ÂÆö‰πâÊ†ºÂºè</span>
                    </button>
                    <button class="btn btn-warning" onclick="showPage('page-params')">
                        <span class="btn-icon">üîß</span>
                        <span>ÂèÇÊï∞ËÆæÁΩÆ</span>
                    </button>
                </div>
                
                <!-- ÂºÄÂ•ñÊòæÁ§∫ - ‰∏ä‰∏ãÂ∏ÉÂ±Ä -->
                <div class="lottery-display" style="padding:10px;">
                    <!-- È°∂ÈÉ®ÔºöÊ†áÈ¢ò + ÂàáÊç¢ÊåâÈíÆ -->
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;">
                        <div style="display:flex;align-items:center;gap:6px;">
                            <span id="lottery-type-name" style="color:#e94560;font-weight:bold;font-size:15px;">Êñ∞Êæ≥</span>
                            <span id="lottery-issue" style="color:#888;font-size:12px;">Á¨¨xxxÊúü</span>
                            <span style="color:#888;font-size:12px;">ÂºÄÂ•ñÁªìÊûú</span>
                        </div>
                        <div style="display:flex;gap:6px;align-items:center;">
                            <button id="btn-hk" onclick="switchLotteryType('hk')" class="lottery-switch-btn" style="padding:5px 12px;border-radius:5px;font-size:12px;font-weight:bold;cursor:pointer;border:2px solid #4CAF50;background:transparent;color:#4CAF50;">È¶ôÊ∏Ø</button>
                            <button id="btn-xam" onclick="switchLotteryType('xam')" class="lottery-switch-btn active" style="padding:5px 12px;border-radius:5px;font-size:12px;font-weight:bold;cursor:pointer;border:2px solid #e94560;background:transparent;color:#e94560;">Êñ∞Êæ≥</button>
                        </div>
                    </div>
                    <!-- ‰∏ãÊñπÔºöÂºÄÂ•ñÂè∑Á†ÅÔºàÁ¥ßÂáëÂ∏ÉÂ±ÄÔºâ+ Â§çÂà∂ÊåâÈíÆ -->
                    <div style="display:flex;align-items:center;gap:8px;">
                        <div class="lottery-balls" id="lottery-balls" style="gap:4px;justify-content:flex-start;flex:1;">
                            <div class="lottery-empty">ËØ∑ÂÖàËÆæÁΩÆÂºÄÂ•ñÂè∑Á†Å</div>
                        </div>
                        <button onclick="copyLotteryResult()" style="padding:6px 12px;background:rgba(255,255,255,0.1);color:#ccc;border:1px solid rgba(255,255,255,0.2);border-radius:6px;font-size:12px;cursor:pointer;white-space:nowrap;flex-shrink:0;">Â§çÂà∂</button>
                    </div>
                </div>
                
                <!-- ËæìÂÖ•Ê°ÜÂå∫Âüü -->
                <div class="input-section" style="flex:1;display:flex;flex-direction:column;">
                    <!-- üÜï v3.11.45 ÊåâÈíÆÊ†èÔºöÂç†Êª°Êï¥Ë°å„ÄÅÁ¥ßÂáëÈó¥Ë∑ù„ÄÅÂùáÂåÄÂàÜÂ∏É -->
                    <div style="display:flex;gap:4px;margin-bottom:8px;width:100%;">
                        <!-- ËØ¶ÊÉÖÊåâÈíÆÔºàÂêàÂπ∂AI+Á®ãÂ∫èÔºåÂÜÖÈÉ®TabÂàáÊç¢Ôºâ -->
                        <button onclick="showDebugPanel()" class="toolbar-btn" style="background:linear-gradient(135deg,#9b59b6,#8e44ad);" title="Êü•ÁúãËØÜÂà´ËØ¶ÊÉÖ">ü§ñ<span class="btn-text">ËØ¶ÊÉÖ</span></button>
                        <!-- ÂØπÊØîÊµãËØï -->
                        <button onclick="openMultiModelModal()" class="toolbar-btn" style="background:linear-gradient(135deg,#f39c12,#e67e22);" title="Â§öÊ®°ÂûãÂØπÊØîÊµãËØï">üìä<span class="btn-text">ÂØπÊØî</span></button>
                        <!-- ÂàÜÁªÑÁºñËæë -->
                        <button onclick="showGroupEditor()" class="toolbar-btn" style="background:linear-gradient(135deg,#667eea,#764ba2);" title="ÊâãÂä®ÁºñËæëÂàÜÁªÑ">üì¶<span class="btn-text">ÂàÜÁªÑ</span></button>
                        <!-- Ê†∏ÂØπ -->
                        <button onclick="showCheckDetail()" class="toolbar-btn" style="background:linear-gradient(135deg,#3498db,#2980b9);" title="Ê†∏ÂØπ‰∏ãÊ≥®">üîç<span class="btn-text">Ê†∏ÂØπ</span></button>
                        <!-- Ê∏ÖÁ©∫ -->
                        <button onclick="clearInput()" class="toolbar-btn toolbar-btn-secondary" title="Ê∏ÖÁ©∫ËæìÂÖ•">üóëÔ∏è<span class="btn-text">Ê∏ÖÁ©∫</span></button>
                        <!-- ËÆ°ÁÆó -->
                        <button onclick="calculateBets()" class="toolbar-btn toolbar-btn-primary" title="ÂºÄÂßãËÆ°ÁÆó">üí∞<span class="btn-text">ËÆ°ÁÆó</span></button>
                    </div>
                    <textarea class="input-textarea" id="bet-input" style="flex:1;min-height:280px;" placeholder="Á≤òË¥¥‰∏ãÊ≥®‰ø°ÊÅØÔºåÊîØÊåÅÊñ∞Êæ≥/È¶ôÊ∏ØÂèåÂΩ©Áßç

üìå ÂΩ©ÁßçÂàáÊç¢ÔºöÈ¶ô/Ê∏Ø=È¶ôÊ∏ØÔºåÊæ≥/Â••=Êñ∞Êæ≥
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Êæ≥Èó®03-24-07ÂêÑ15
ÈæôËôéÈ©¨ÂêÑ20
È¶ôÊ∏Ø          ‚Üê ÂçïÁã¨‰∏ÄË°åÂàáÊç¢ÂΩ©Áßç
ÁâõÈ∏°ÂêÑ15
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üìù ÊîØÊåÅÊ†ºÂºèÔºö
‚Ä¢ ÁîüËÇñÁâπÁ†ÅÔºö‰π∞Áå™ÂêÑ10„ÄÅÈæôx10„ÄÅÁå¥È∏°x50
‚Ä¢ ÁâπÁ†ÅÂè∑Á†ÅÔºöÁâπ43 20ÂÖÉ„ÄÅ31.34ÂêÑ‰∫åÂçÅ
‚Ä¢ Âπ≥ÁâπÔºö‰∏ÄÂèãÁãó800„ÄÅ‰∫åÂèãÁå¥È∏°200„ÄÅÂπ≥ÁâπÁå¥È∏°ÂêÑ200
‚Ä¢ ÂÖ≠ËÇñÔºöÂÖ≠ËÇñÈº†Áå¥ÁæäÈ∏°ÁâõÈ©¨200
‚Ä¢ ËøûËÇñÔºö‰∏âÂèãÁæäÈ∏°Áå¥100

üí° Á©∫‰∏ÄË°å=ÂàÜÈöî‰∏çÂêåÁªÑ"></textarea>
                </div>
                
                <!-- ÁªìÊûúÊòæÁ§∫ -->
                <div class="result-section" id="result-section">
                    <div class="result-title">ËÆ°ÁÆóÁªìÊûú</div>
                    <div class="result-content" id="result-content"></div>
                    <div class="result-buttons">
                        <button class="btn-copy-result" onclick="copyResult()">üìã Â§çÂà∂ÁªìÊûú</button>
                        <button class="btn-feedback" onclick="showFeedbackModal()">‚ùå ÁªìÊûúÊúâËØØÔºüÊèê‰∫§ÂèçÈ¶à</button>
                    </div>
                </div>
            </div>
            
            <!-- ÂºÄÂ•ñËÆæÁΩÆÈ°µÈù¢ -->
            <div class="page" id="page-lottery">
                <div class="page-header">
                    <button class="btn-back" onclick="showPage('page-main')">‚Üê</button>
                    <div class="page-title">ÂºÄÂ•ñËÆæÁΩÆ</div>
                </div>
                
                <!-- Âø´ÈÄüÁ≤òË¥¥Ëß£Êûê -->
                <div class="setting-group" style="padding:12px;">
                    <!-- Ê†áÈ¢òË°åÔºöÊ†áÈ¢ò + ÊåâÈíÆ -->
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;">
                        <div class="setting-group-title" style="margin-bottom:0;">Âø´ÈÄüÁ≤òË¥¥ÂºÄÂ•ñÂè∑Á†Å</div>
                        <button onclick="parseLotteryInput()" style="padding:6px 15px;background:linear-gradient(90deg,#e94560,#c23a51);color:white;border:none;border-radius:6px;font-size:13px;font-weight:bold;cursor:pointer;">
                            üîç Ëß£ÊûêÂπ∂Â°´ÂÖ•
                        </button>
                    </div>
                    <!-- Â§ßËæìÂÖ•Ê°Ü -->
                    <textarea id="paste-lottery-input" placeholder="Á§∫ËåÉËæìÂÖ•Ê†ºÂºèÔºö&#10;01 08 09 15 24 26 Áâπ27&#10;01.08.09.15.24.26.27&#10;01,08,09,15,24,26 Áâπ27" style="width:100%;height:100px;background:rgba(0,0,0,0.3);border:1px solid rgba(255,255,255,0.2);border-radius:8px;color:#fff;padding:12px;font-size:15px;resize:none;line-height:1.6;"></textarea>
                    <!-- Ëß£ÊûêÈ¢ÑËßà -->
                    <div id="parse-preview" style="display:none;margin-top:8px;padding:8px;background:rgba(0,0,0,0.3);border-radius:8px;text-align:center;">
                        <div id="parse-preview-balls" style="display:flex;justify-content:center;align-items:center;gap:5px;flex-wrap:nowrap;"></div>
                    </div>
                </div>
                
                <div class="setting-group" style="padding:12px;">
                    <!-- Ê†áÈ¢òË°åÔºöÊ†áÈ¢ò + ÊåâÈíÆ -->
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;">
                        <div class="setting-group-title" style="margin-bottom:0;">ÂºÄÂ•ñÂè∑Á†Å</div>
                        <button onclick="saveLotteryNumbers()" style="padding:6px 15px;background:linear-gradient(90deg,#e94560,#c23a51);color:white;border:none;border-radius:6px;font-size:13px;cursor:pointer;">‰øùÂ≠òÂºÄÂ•ñÂè∑Á†Å</button>
                    </div>
                    <!-- ÂçïË°åÊòæÁ§∫7‰∏™ËæìÂÖ•Ê°Ü -->
                    <div style="display:flex;align-items:center;justify-content:center;gap:4px;flex-wrap:nowrap;">
                        <input type="text" class="lottery-num-input" id="num1" maxlength="2" oninput="formatNumInput(this)" onblur="padNumInput(this)" style="width:36px;height:36px;border-radius:50%;text-align:center;font-size:14px;font-weight:bold;background:#333;border:2px solid #555;color:#fff;">
                        <input type="text" class="lottery-num-input" id="num2" maxlength="2" oninput="formatNumInput(this)" onblur="padNumInput(this)" style="width:36px;height:36px;border-radius:50%;text-align:center;font-size:14px;font-weight:bold;background:#333;border:2px solid #555;color:#fff;">
                        <input type="text" class="lottery-num-input" id="num3" maxlength="2" oninput="formatNumInput(this)" onblur="padNumInput(this)" style="width:36px;height:36px;border-radius:50%;text-align:center;font-size:14px;font-weight:bold;background:#333;border:2px solid #555;color:#fff;">
                        <input type="text" class="lottery-num-input" id="num4" maxlength="2" oninput="formatNumInput(this)" onblur="padNumInput(this)" style="width:36px;height:36px;border-radius:50%;text-align:center;font-size:14px;font-weight:bold;background:#333;border:2px solid #555;color:#fff;">
                        <input type="text" class="lottery-num-input" id="num5" maxlength="2" oninput="formatNumInput(this)" onblur="padNumInput(this)" style="width:36px;height:36px;border-radius:50%;text-align:center;font-size:14px;font-weight:bold;background:#333;border:2px solid #555;color:#fff;">
                        <input type="text" class="lottery-num-input" id="num6" maxlength="2" oninput="formatNumInput(this)" onblur="padNumInput(this)" style="width:36px;height:36px;border-radius:50%;text-align:center;font-size:14px;font-weight:bold;background:#333;border:2px solid #555;color:#fff;">
                        <span style="color:#e94560;font-weight:bold;font-size:16px;margin:0 2px;">+</span>
                        <input type="text" class="lottery-num-input special" id="num-special" maxlength="2" oninput="formatNumInput(this)" onblur="padNumInput(this)" style="width:36px;height:36px;border-radius:50%;text-align:center;font-size:14px;font-weight:bold;background:#333;border:2px solid #f5a623;color:#f5a623;">
                    </div>
                    <div style="display:flex;justify-content:center;gap:4px;margin-top:4px;font-size:10px;color:#666;">
                        <span style="width:36px;text-align:center;">Âπ≥Á†Å</span>
                        <span style="width:36px;text-align:center;">Âπ≥Á†Å</span>
                        <span style="width:36px;text-align:center;">Âπ≥Á†Å</span>
                        <span style="width:36px;text-align:center;">Âπ≥Á†Å</span>
                        <span style="width:36px;text-align:center;">Âπ≥Á†Å</span>
                        <span style="width:36px;text-align:center;">Âπ≥Á†Å</span>
                        <span style="width:20px;"></span>
                        <span style="width:36px;text-align:center;color:#f5a623;">Áâπ</span>
                    </div>
                </div>
                
                <!-- ÂéÜÂè≤ËÆ∞ÂΩïÈÄâÊã© -->
                <div class="setting-group" style="padding:12px;">
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;">
                        <div class="setting-group-title" style="margin-bottom:0;">üìú ÂéÜÂè≤ÂºÄÂ•ñËÆ∞ÂΩïÔºàÊúÄËøë10ÊúüÔºâ</div>
                        <button onclick="fetchHistoryData()" style="padding:5px 10px;background:linear-gradient(90deg,#9b59b6,#8e44ad);color:white;border:none;border-radius:5px;font-size:11px;cursor:pointer;">üîÑ ÊâãÂä®Ëé∑Âèñ</button>
                    </div>
                    
                    <!-- ÂΩ©ÁßçÈÄâÊã©Ê†áÁ≠æ -->
                    <div style="display:flex;gap:6px;margin-bottom:10px;">
                        <button id="history-btn-xam" onclick="switchHistoryType('xam')" class="history-type-btn active" style="flex:1;padding:8px;border-radius:6px;font-size:12px;font-weight:bold;cursor:pointer;border:2px solid #e94560;background:rgba(233,69,96,0.2);color:#e94560;">Êñ∞Êæ≥Èó®</button>
                        <button id="history-btn-hk" onclick="switchHistoryType('hk')" class="history-type-btn" style="flex:1;padding:8px;border-radius:6px;font-size:12px;font-weight:bold;cursor:pointer;border:2px solid #4CAF50;background:transparent;color:#4CAF50;">È¶ôÊ∏Ø</button>
                    </div>
                    
                    <!-- ÂéÜÂè≤ËÆ∞ÂΩïÂàóË°®ÔºàÂèØÊªëÂä®Ôºâ -->
                    <div id="history-list" style="max-height:220px;overflow-y:auto;background:rgba(0,0,0,0.2);border-radius:8px;padding:6px;-webkit-overflow-scrolling:touch;">
                        <div style="text-align:center;color:#666;font-size:12px;padding:20px;">üîÑ Ê≠£Âú®Ëá™Âä®Âä†ËΩΩÂéÜÂè≤ËÆ∞ÂΩï...</div>
                    </div>
                    
                    <!-- ÂºÄÂ•ñÊó∂Èó¥ÊèêÁ§∫ -->
                    <div style="font-size:10px;color:#666;text-align:center;margin-top:8px;">
                        ‚è∞ ÂºÄÂ•ñÊó∂Èó¥ÔºöÊñ∞Êæ≥Èó® 21:30 | È¶ôÊ∏Ø 21:30ÔºàÂë®‰∫åÂõõÂÖ≠Ôºâ| Êæ≥Èó® 22:30
                    </div>
                </div>
                
                <!-- Ëá™Âä®Ëé∑ÂèñÂºÄÂ•ñ -->
                <div class="setting-group" style="padding:12px;">
                    <div class="setting-group-title" style="margin-bottom:10px;">üì° Ëá™Âä®Ëé∑ÂèñÂºÄÂ•ñÊï∞ÊçÆ</div>
                    
                    <!-- ÂΩ©ÁßçÈÄâÊã© -->
                    <div style="display:flex;gap:8px;margin-bottom:10px;">
                        <select id="lottery-type-select" style="flex:1;padding:10px;background:rgba(0,0,0,0.3);border:1px solid rgba(255,255,255,0.2);border-radius:8px;color:#fff;font-size:14px;">
                            <option value="xam" selected>üá≤üá¥ Êñ∞Êæ≥Èó®ÂÖ≠ÂêàÂΩ©</option>
                            <option value="hk">üá≠üá∞ È¶ôÊ∏ØÂÖ≠ÂêàÂΩ©</option>
                            <option value="am">üá≤üá¥ „ä£Êæ≥Èó®ÂÖ≠ÂêàÂΩ©</option>
                        </select>
                        <button onclick="fetchLotteryData()" style="padding:10px 20px;background:linear-gradient(90deg,#4CAF50,#45a049);color:white;border:none;border-radius:8px;font-size:14px;font-weight:bold;cursor:pointer;white-space:nowrap;">
                            üì° Ëé∑ÂèñÊúÄÊñ∞
                        </button>
                    </div>
                    
                    <!-- Ëé∑ÂèñÁä∂ÊÄÅÊòæÁ§∫ -->
                    <div id="fetch-status" style="display:none;padding:10px;background:rgba(0,0,0,0.3);border-radius:8px;font-size:13px;text-align:center;"></div>
                    
                    <!-- APIÊù•Ê∫êÊèêÁ§∫ -->
                    <div style="font-size:11px;color:#666;text-align:center;margin-top:8px;">
                        Êï∞ÊçÆÊù•Ê∫êÔºöMarksix6ÔºàËá™Âä®Ëé∑ÂèñÔºâ
                    </div>
                </div>
                
                <div class="setting-group">
                    <div class="setting-group-title">Â±ûÊÄßÂèÇÁÖßË°®</div>
                    <button class="btn btn-primary" onclick="showPage('page-reference')" style="width:100%;max-width:none;">
                        <span>üìñ Êü•ÁúãÁîüËÇñ/Ê≥¢Ëâ≤/‰∫îË°åÂØπÁÖßË°®</span>
                    </button>
                </div>
            </div>
            
            <!-- ËµîÁéáËÆæÁΩÆÈ°µÈù¢ -->
            <div class="page" id="page-odds">
                <div class="page-header">
                    <button class="btn-back" onclick="showPage('page-main')">‚Üê</button>
                    <div class="page-title">ËµîÁéáËÆæÁΩÆ</div>
                </div>
                
                <div class="odds-layout">
                    <!-- Â∑¶‰æßËèúÂçïÔºàÊåâÁî®Êà∑Êèê‰æõÁöÑÁé©Ê≥ïÁ±ªÂûãÔºâ -->
                    <div class="odds-menu">
                        <div class="odds-menu-item active" onclick="showOddsPanel('tema')">ÁâπÁ†Å</div>
                        <div class="odds-menu-item" onclick="showOddsPanel('daxiao')">Â§ßÂ∞èÂçïÂèå</div>
                        <div class="odds-menu-item" onclick="showOddsPanel('pingte')">Âπ≥Áâπ‰∏ÄËÇñ</div>
                        <div class="odds-menu-item" onclick="showOddsPanel('pingte2')">Âπ≥ÁâπËøûËÇñ</div>
                        <div class="odds-menu-item" onclick="showOddsPanel('pingtew')">Âπ≥ÁâπÂ∞æÊï∞</div>
                        <div class="odds-menu-item" onclick="showOddsPanel('liuxiao')">ÂÖ≠ËÇñ</div>
                        <div class="odds-menu-item" onclick="showOddsPanel('texiao')">ÁâπËÇñ</div>
                        <div class="odds-menu-item" onclick="showOddsPanel('danping')">ÂçïÂπ≥(Âπ≥Á†Å)</div>
                        <div class="odds-menu-item" onclick="showOddsPanel('bose')">Ê≥¢Ëâ≤</div>
                        <div class="odds-menu-item" onclick="showOddsPanel('banbo')">ÂçäÊ≥¢</div>
                        <div class="odds-menu-item" onclick="showOddsPanel('lianma')">ËøûÁ†Å</div>
                        <div class="odds-menu-item" onclick="showOddsPanel('buzhong')">‰∏ç‰∏≠</div>
                        <div class="odds-menu-item" onclick="showOddsPanel('qita')">ÂÖ∂‰ªñ</div>
                    </div>
                    
                    <!-- Âè≥‰æßÂÜÖÂÆπÔºàÊåâÊñ∞Áé©Ê≥ïÁ±ªÂûãÔºâ -->
                    <div class="odds-content">
                        <!-- ÁâπÁ†Å -->
                        <div class="odds-panel active" id="panel-tema">
                            <div class="odds-panel-title">ÁâπÁ†ÅËµîÁéá</div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÁâπÁ†Å</span>
                                <input type="number" class="odds-item-input" id="odds-tema" value="43">
                            </div>
                        </div>
                        
                        <!-- Â§ßÂ∞èÂçïÂèå -->
                        <div class="odds-panel" id="panel-daxiao">
                            <div class="odds-panel-title">Â§ßÂ∞èÂçïÂèåËµîÁéá</div>
                            <div class="odds-item">
                                <span class="odds-item-label">Â§ß</span>
                                <input type="number" class="odds-item-input" id="odds-da" value="1.98" step="0.01">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">Â∞è</span>
                                <input type="number" class="odds-item-input" id="odds-xiao" value="1.98" step="0.01">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">Âçï</span>
                                <input type="number" class="odds-item-input" id="odds-dan" value="1.98" step="0.01">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">Âèå</span>
                                <input type="number" class="odds-item-input" id="odds-shuang" value="1.98" step="0.01">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÂêàÂ§ß</span>
                                <input type="number" class="odds-item-input" id="odds-heda" value="1.98" step="0.01">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÂêàÂ∞è</span>
                                <input type="number" class="odds-item-input" id="odds-hexiao" value="1.98" step="0.01">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÂêàÂçï</span>
                                <input type="number" class="odds-item-input" id="odds-hedan" value="1.98" step="0.01">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÂêàÂèå</span>
                                <input type="number" class="odds-item-input" id="odds-heshuang" value="1.98" step="0.01">
                            </div>
                        </div>
                        
                        <!-- Âπ≥Áâπ‰∏ÄËÇñ -->
                        <div class="odds-panel" id="panel-pingte">
                            <div class="odds-panel-title">Âπ≥Áâπ‰∏ÄËÇñËµîÁéáÔºàÂà´ÂêçÔºö‰∏ÄÂèãÔºâ</div>
                            <div class="odds-item">
                                <span class="odds-item-label">Âπ≥Áâπ‰∏ÄËÇñ</span>
                                <input type="number" class="odds-item-input" id="odds-pingte1" value="11" step="0.1">
                            </div>
                        </div>
                        
                        <!-- Âπ≥ÁâπËøûËÇñ -->
                        <div class="odds-panel" id="panel-pingte2">
                            <div class="odds-panel-title">Âπ≥ÁâπËøûËÇñËµîÁéá</div>
                            <div class="odds-item">
                                <span class="odds-item-label">Âπ≥Áâπ‰∫åËøûËÇñÔºà‰∫åÂèãÔºâ</span>
                                <input type="number" class="odds-item-input" id="odds-pingte2x" value="26" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">Âπ≥Áâπ‰∏âËøûËÇñÔºà‰∏âÂèãÔºâ</span>
                                <input type="number" class="odds-item-input" id="odds-pingte3x" value="66" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">Âπ≥ÁâπÂõõËøûËÇñ</span>
                                <input type="number" class="odds-item-input" id="odds-pingte4x" value="180" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">Âπ≥Áâπ‰∫îËøûËÇñ</span>
                                <input type="number" class="odds-item-input" id="odds-pingte5x" value="500" step="0.1">
                            </div>
                        </div>
                        
                        <!-- Âπ≥ÁâπÂ∞æÊï∞ -->
                        <div class="odds-panel" id="panel-pingtew">
                            <div class="odds-panel-title">Âπ≥ÁâπÂ∞æÊï∞ËµîÁéá</div>
                            <div class="odds-item">
                                <span class="odds-item-label">Âπ≥ÁâπÂ∞æÊï∞</span>
                                <input type="number" class="odds-item-input" id="odds-pingtew" value="2.8" step="0.1">
                            </div>
                        </div>
                        
                        <!-- ÂÖ≠ËÇñ -->
                        <div class="odds-panel" id="panel-liuxiao">
                            <div class="odds-panel-title">ÂÖ≠ËÇñËµîÁéá</div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÂÖ≠ËÇñ</span>
                                <input type="number" class="odds-item-input" id="odds-liuxiao" value="4.2" step="0.1">
                            </div>
                        </div>
                        
                        <!-- ÁâπËÇñ -->
                        <div class="odds-panel" id="panel-texiao">
                            <div class="odds-panel-title">ÁâπËÇñËµîÁéá</div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÁâπËÇñ</span>
                                <input type="number" class="odds-item-input" id="odds-texiao" value="12" step="0.1">
                            </div>
                        </div>
                        
                        <!-- ÂçïÂπ≥ÔºàÂπ≥Á†ÅÔºâ -->
                        <div class="odds-panel" id="panel-danping">
                            <div class="odds-panel-title">ÂçïÂπ≥ÔºàÂπ≥Á†ÅÔºâËµîÁéá</div>
                            <div class="odds-note">ËØ¥ÊòéÔºöÊåáÈô§ÁâπÁ†ÅÂ§ñÁöÑ6‰∏™Ê≠£Á†Å</div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÂçïÂπ≥/Âπ≥Á†Å</span>
                                <input type="number" class="odds-item-input" id="odds-danping" value="8" step="0.1">
                            </div>
                        </div>
                        
                        <!-- Ê≥¢Ëâ≤ -->
                        <div class="odds-panel" id="panel-bose">
                            <div class="odds-panel-title">Ê≥¢Ëâ≤ËµîÁéá</div>
                            <div class="odds-item">
                                <span class="odds-item-label">Á∫¢Ê≥¢</span>
                                <input type="number" class="odds-item-input" id="odds-red" value="2.8" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ËìùÊ≥¢</span>
                                <input type="number" class="odds-item-input" id="odds-blue" value="2.8" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÁªøÊ≥¢</span>
                                <input type="number" class="odds-item-input" id="odds-green" value="2.8" step="0.1">
                            </div>
                        </div>
                        
                        <!-- ÂçäÊ≥¢ -->
                        <div class="odds-panel" id="panel-banbo">
                            <div class="odds-panel-title">ÂçäÊ≥¢ËµîÁéá</div>
                            <div class="odds-note">Ê†ºÂºèÔºöÊ≥¢Ëâ≤+Â§ßÂ∞è/ÂçïÂèåÔºåÂ¶ÇÔºöÁ∫¢Âçï„ÄÅËìùÂèå„ÄÅÁªøÂ§ß</div>
                            <div class="odds-item">
                                <span class="odds-item-label">Á∫¢Â§ß</span>
                                <input type="number" class="odds-item-input" id="odds-red-da" value="5" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">Á∫¢Â∞è</span>
                                <input type="number" class="odds-item-input" id="odds-red-xiao" value="5" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">Á∫¢Âçï</span>
                                <input type="number" class="odds-item-input" id="odds-red-dan" value="5" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">Á∫¢Âèå</span>
                                <input type="number" class="odds-item-input" id="odds-red-shuang" value="5" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ËìùÂ§ß</span>
                                <input type="number" class="odds-item-input" id="odds-blue-da" value="5" step="0.1">
                        </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ËìùÂ∞è</span>
                                <input type="number" class="odds-item-input" id="odds-blue-xiao" value="5" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ËìùÂçï</span>
                                <input type="number" class="odds-item-input" id="odds-blue-dan" value="5" step="0.1">
                        </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ËìùÂèå</span>
                                <input type="number" class="odds-item-input" id="odds-blue-shuang" value="5" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÁªøÂ§ß</span>
                                <input type="number" class="odds-item-input" id="odds-green-da" value="5" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÁªøÂ∞è</span>
                                <input type="number" class="odds-item-input" id="odds-green-xiao" value="5" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÁªøÂçï</span>
                                <input type="number" class="odds-item-input" id="odds-green-dan" value="5" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÁªøÂèå</span>
                                <input type="number" class="odds-item-input" id="odds-green-shuang" value="5" step="0.1">
                            </div>
                        </div>
                        
                        <!-- ËøûÁ†Å -->
                        <div class="odds-panel" id="panel-lianma">
                            <div class="odds-panel-title">ËøûÁ†ÅËµîÁéá</div>
                            <div class="odds-item">
                                <span class="odds-item-label">‰∫å‰∏≠‰∫å</span>
                                <input type="number" class="odds-item-input" id="odds-2z2" value="42" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">‰∏â‰∏≠‰∏â</span>
                                <input type="number" class="odds-item-input" id="odds-3z3" value="200" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">‰∫åÂÖ®‰∏≠</span>
                                <input type="number" class="odds-item-input" id="odds-2qz" value="21" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">‰∏âÂÖ®‰∏≠</span>
                                <input type="number" class="odds-item-input" id="odds-3qz" value="75" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">‰∫å‰∏≠Áâπ</span>
                                <input type="number" class="odds-item-input" id="odds-2zt" value="8" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">‰∏â‰∏≠Áâπ</span>
                                <input type="number" class="odds-item-input" id="odds-3zt" value="25" step="0.1">
                        </div>
                            <div class="odds-item">
                                <span class="odds-item-label">Áâπ‰∏≤</span>
                                <input type="number" class="odds-item-input" id="odds-techuan" value="4.5" step="0.1">
                            </div>
                        </div>
                        
                        <!-- ‰∏ç‰∏≠ -->
                        <div class="odds-panel" id="panel-buzhong">
                            <div class="odds-panel-title">‰∏ç‰∏≠ËµîÁéáÔºàËá™ÈÄâ‰∏ç‰∏≠Ôºâ</div>
                            <div class="odds-item">
                                <span class="odds-item-label">‰∫î‰∏ç‰∏≠</span>
                                <input type="number" class="odds-item-input" id="odds-5bz" value="2.2" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÂÖ≠‰∏ç‰∏≠</span>
                                <input type="number" class="odds-item-input" id="odds-6bz" value="2.8" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">‰∏É‰∏ç‰∏≠</span>
                                <input type="number" class="odds-item-input" id="odds-7bz" value="3.6" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÂÖ´‰∏ç‰∏≠</span>
                                <input type="number" class="odds-item-input" id="odds-8bz" value="4.8" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">‰πù‰∏ç‰∏≠</span>
                                <input type="number" class="odds-item-input" id="odds-9bz" value="6.5" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÂçÅ‰∏ç‰∏≠</span>
                                <input type="number" class="odds-item-input" id="odds-10bz" value="9" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÂçÅ‰∏Ä‰∏ç‰∏≠</span>
                                <input type="number" class="odds-item-input" id="odds-11bz" value="12" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÂçÅ‰∫å‰∏ç‰∏≠</span>
                                <input type="number" class="odds-item-input" id="odds-12bz" value="16" step="0.1">
                            </div>
                        </div>
                        
                        <!-- ÂÖ∂‰ªñÁé©Ê≥ï -->
                        <div class="odds-panel" id="panel-qita">
                            <div class="odds-panel-title">ÂÖ∂‰ªñÁé©Ê≥ïËµîÁéá</div>
                            <div class="odds-item">
                                <span class="odds-item-label">Ê≠£ËÇñ</span>
                                <input type="number" class="odds-item-input" id="odds-zhengxiao" value="2" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÂêàËÇñÔºà2ËÇñÔºâ</span>
                                <input type="number" class="odds-item-input" id="odds-hexiao2" value="6" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÂêàËÇñÔºà3ËÇñÔºâ</span>
                                <input type="number" class="odds-item-input" id="odds-hexiao3" value="4" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÂêàËÇñÔºà4ËÇñÔºâ</span>
                                <input type="number" class="odds-item-input" id="odds-hexiao4" value="3" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÊÄªÂíåÂ§ß</span>
                                <input type="number" class="odds-item-input" id="odds-zongda" value="1.98" step="0.01">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÊÄªÂíåÂ∞è</span>
                                <input type="number" class="odds-item-input" id="odds-zongxiao" value="1.98" step="0.01">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÊÄªÂíåÂçï</span>
                                <input type="number" class="odds-item-input" id="odds-zongdan" value="1.98" step="0.01">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÊÄªÂíåÂèå</span>
                                <input type="number" class="odds-item-input" id="odds-zongshuang" value="1.98" step="0.01">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÂÆ∂Á¶Ω</span>
                                <input type="number" class="odds-item-input" id="odds-jiaqin" value="1.98" step="0.01">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">ÈáéÂÖΩ</span>
                                <input type="number" class="odds-item-input" id="odds-yeshou" value="1.98" step="0.01">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">Â§¥Êï∞Ôºà0-4Â§¥Ôºâ</span>
                                <input type="number" class="odds-item-input" id="odds-toushu" value="4" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">Â∞æÊï∞Ôºà0-9Â∞æÔºâ</span>
                                <input type="number" class="odds-item-input" id="odds-weishu" value="9" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">‰∫îË°åÔºàÈáëÔºâ</span>
                                <input type="number" class="odds-item-input" id="odds-wuxing-jin" value="4.8" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">‰∫îË°åÔºàÊú®Ôºâ</span>
                                <input type="number" class="odds-item-input" id="odds-wuxing-mu" value="4.8" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">‰∫îË°åÔºàÊ∞¥Ôºâ</span>
                                <input type="number" class="odds-item-input" id="odds-wuxing-shui" value="5.8" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">‰∫îË°åÔºàÁÅ´Ôºâ</span>
                                <input type="number" class="odds-item-input" id="odds-wuxing-huo" value="4" step="0.1">
                            </div>
                            <div class="odds-item">
                                <span class="odds-item-label">‰∫îË°åÔºàÂúüÔºâ</span>
                                <input type="number" class="odds-item-input" id="odds-wuxing-tu" value="5.4" step="0.1">
                            </div>
                        </div>
                    </div>
                </div>
                
                <button class="odds-save-btn" onclick="saveOdds()">üíæ ‰øùÂ≠òËµîÁéá</button>
            </div>
            
            <!-- Ëá™ÂÆö‰πâÊ†ºÂºèÈ°µÈù¢ -->
            <div class="page" id="page-format">
                <div class="page-header" style="margin-bottom:8px;">
                    <button class="btn-back" onclick="showPage('page-main')">‚Üê</button>
                    <div class="page-title">Ëá™ÂÆö‰πâÊ†ºÂºè</div>
                </div>
                
                <!-- üÜï v3.6 Ëá™ÂÆö‰πâËØÜÂà´ËßÑÂàô -->
                <div class="setting-group" style="background:linear-gradient(135deg,rgba(251,191,36,0.1),rgba(245,158,11,0.1));border:1px solid rgba(251,191,36,0.3);margin-top:0;">
                    <div class="setting-group-title" style="color:#fbbf24;">üéØ Ëá™ÂÆö‰πâËØÜÂà´ËßÑÂàô</div>
                    <div style="font-size:12px;color:#888;margin-bottom:10px;">
                        ËÆæÁΩÆÂÖ≥ÈîÆËØçËÆ©Á≥ªÁªü<b style="color:#f59e0b;">Ëá™Âä®ËØÜÂà´</b>ÂØπÂ∫îÁöÑÁé©Ê≥ïÁ±ªÂûã
                    </div>
                    
                    <!-- ËßÑÂàôÂàóË°® -->
                    <div id="custom-rules-list" style="max-height:300px;overflow-y:auto;margin-bottom:12px;">
                        <!-- Âä®ÊÄÅÁîüÊàê -->
                    </div>
                    
                    <!-- Ê∑ªÂä†Êñ∞ËßÑÂàôÔºàÁÆÄÊ¥Å‰∏ªÁïåÈù¢Ôºâ -->
                    <div style="background:rgba(0,0,0,0.2);padding:12px;border-radius:8px;margin-bottom:12px;">
                        <div style="font-size:11px;color:#888;margin-bottom:8px;">‚ûï Ê∑ªÂä†Êñ∞ËßÑÂàô</div>
                        <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap;">
                            <input type="text" id="new-rule-keyword" placeholder="ÂÖ≥ÈîÆËØçÔºàÂ¶ÇÔºöÂ∞èÁ†ÅÔºâ" style="flex:1;min-width:100px;padding:10px;background:rgba(0,0,0,0.3);border:1px solid rgba(255,255,255,0.2);border-radius:6px;color:#fff;font-size:13px;">
                            <select id="new-rule-type" onchange="onRuleTypeChange()" style="flex:1;min-width:120px;padding:10px;background:rgba(0,0,0,0.3);border:1px solid rgba(255,255,255,0.2);border-radius:6px;color:#fff;font-size:13px;">
                                <option value="">ÈÄâÊã©Á±ªÂûã</option>
                                <optgroup label="‚îÄ‚îÄ‚îÄ ÁâπÁ†ÅÁõ∏ÂÖ≥ ‚îÄ‚îÄ‚îÄ">
                                    <option value="T01">ÁâπÁ†ÅÔºàÂçïÂè∑Ôºâ</option>
                                    <option value="T01_EXPAND">ÁâπÁ†ÅÔºàÂ±ïÂºÄÂ§öÂè∑Ôºâ</option>
                                </optgroup>
                                <optgroup label="‚îÄ‚îÄ‚îÄ Â§ßÂ∞èÂçïÂèå ‚îÄ‚îÄ‚îÄ">
                                    <option value="XS">Â∞èÊï∞ (1-24)</option>
                                    <option value="DS">Â§ßÊï∞ (25-48)</option>
                                    <option value="ODD">ÂçïÊï∞</option>
                                    <option value="EVEN">ÂèåÊï∞</option>
                                    <option value="HXS">ÂêàÂ∞è (0-6)</option>
                                    <option value="HDS">ÂêàÂ§ß (7-13)</option>
                                    <option value="HODD">ÂêàÂçï</option>
                                    <option value="HEVEN">ÂêàÂèå</option>
                                </optgroup>
                                <optgroup label="‚îÄ‚îÄ‚îÄ Ê≥¢Ëâ≤ ‚îÄ‚îÄ‚îÄ">
                                    <option value="C1">Á∫¢Ê≥¢</option>
                                    <option value="C2">ËìùÊ≥¢</option>
                                    <option value="C3">ÁªøÊ≥¢</option>
                                </optgroup>
                                <optgroup label="‚îÄ‚îÄ‚îÄ ÁîüËÇñÁ±ª ‚îÄ‚îÄ‚îÄ">
                                    <option value="PT1">Âπ≥Áâπ‰∏ÄËÇñ</option>
                                    <option value="TX">ÁâπËÇñ</option>
                                    <option value="ZX">Ê≠£ËÇñ</option>
                                    <option value="SX">ÁîüËÇñ</option>
                                </optgroup>
                                <optgroup label="‚îÄ‚îÄ‚îÄ Âπ≥Áâπ ‚îÄ‚îÄ‚îÄ">
                                    <option value="PT2">Âπ≥Áâπ‰∫åËøûËÇñ</option>
                                    <option value="PT3">Âπ≥Áâπ‰∏âËøûËÇñ</option>
                                    <option value="PTW">Âπ≥ÁâπÂ∞æÊï∞</option>
                                </optgroup>
                                <optgroup label="‚îÄ‚îÄ‚îÄ ËøûÁ†Å ‚îÄ‚îÄ‚îÄ">
                                    <option value="E2">‰∫å‰∏≠‰∫å</option>
                                    <option value="S3">‰∏â‰∏≠‰∏â</option>
                                </optgroup>
                                <optgroup label="‚îÄ‚îÄ‚îÄ ‰∏ç‰∏≠ ‚îÄ‚îÄ‚îÄ">
                                    <option value="BZ5">‰∫î‰∏ç‰∏≠</option>
                                    <option value="BZ6">ÂÖ≠‰∏ç‰∏≠</option>
                                    <option value="BZ7">‰∏É‰∏ç‰∏≠</option>
                                    <option value="BZ8">ÂÖ´‰∏ç‰∏≠</option>
                                    <option value="BZ9">‰πù‰∏ç‰∏≠</option>
                                    <option value="BZ10">ÂçÅ‰∏ç‰∏≠</option>
                                </optgroup>
                                <optgroup label="‚îÄ‚îÄ‚îÄ ÂÖ∂‰ªñ ‚îÄ‚îÄ‚îÄ">
                                    <option value="DP">ÂçïÂπ≥/Âπ≥Á†Å</option>
                                    <option value="TS">Â§¥Êï∞</option>
                                    <option value="WS">Â∞æÊï∞</option>
                                    <option value="WX">‰∫îË°å</option>
                                    <option value="JY">ÂÆ∂Á¶ΩÈáéÂÖΩ</option>
                                    <option value="ZH">ÊÄªÂíåÂ§ßÂ∞èÂçïÂèå</option>
                                    <option value="BB">ÂçäÊ≥¢</option>
                                    <option value="SX6">ÂÖ≠ËÇñ</option>
                                    <option value="HX">ÂêàËÇñ</option>
                                </optgroup>
                            </select>
                        </div>
                        <button onclick="addCustomRule()" style="width:100%;margin-top:10px;padding:10px;background:linear-gradient(90deg,#f59e0b,#d97706);color:white;border:none;border-radius:6px;font-size:13px;font-weight:bold;cursor:pointer;">
                            ‚ûï Ê∑ªÂä†ËßÑÂàô
                        </button>
                    </div>
                    
                    <div style="display:flex;align-items:center;gap:8px;">
                        <div style="flex:1;font-size:10px;color:#666;padding:8px;background:rgba(0,0,0,0.2);border-radius:6px;">
                            ‚ö†Ô∏è ÂÖ≥ÈîÆËØçÂè™Â°´ÂêçÁß∞Ôºå‰∏çÂ∏¶ÈáëÈ¢ù<br>
                            üí° ËØÜÂà´È°∫Â∫èÔºöËá™ÂÆö‰πâËßÑÂàô ‚Üí Á≥ªÁªüËßÑÂàô ‚Üí AIÊô∫ËÉΩËØÜÂà´
                        </div>
                        <button onclick="showCustomRuleHelp()" style="padding:8px 12px;background:rgba(102,126,234,0.3);border:1px solid rgba(102,126,234,0.5);border-radius:6px;color:#a78bfa;font-size:11px;cursor:pointer;white-space:nowrap;">
                            ‚ùìÂ∏ÆÂä©
                        </button>
                    </div>
                </div>
                
                <!-- üÜï v3.7 Ëá™ÂÆö‰πâËßÑÂàôÂ∏ÆÂä©ÂºπÁ™ó -->
                <div id="custom-rule-help-modal" style="display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);z-index:10000;overflow-y:auto;">
                    <div style="max-width:400px;margin:30px auto;background:#1a1a2e;border-radius:12px;overflow:hidden;">
                        <div style="background:linear-gradient(90deg,#667eea,#764ba2);padding:15px;display:flex;justify-content:space-between;align-items:center;">
                            <span style="font-weight:bold;color:#fff;font-size:16px;">‚ùì Ëá™ÂÆö‰πâËßÑÂàô‰ΩøÁî®ËØ¥Êòé</span>
                            <button onclick="closeCustomRuleHelp()" style="background:none;border:none;color:#fff;font-size:20px;cursor:pointer;">√ó</button>
                        </div>
                        <div style="padding:16px;font-size:13px;color:#ccc;line-height:1.6;">
                            <div style="margin-bottom:16px;">
                                <div style="color:#fbbf24;font-weight:bold;margin-bottom:8px;">üìå ÂäüËÉΩËØ¥Êòé</div>
                                <div style="color:#999;">ÂΩìÁ≥ªÁªüÊó†Ê≥ïËØÜÂà´ÊÇ®ËæìÂÖ•ÁöÑËØçËØ≠Êó∂ÔºåÊÇ®ÂèØ‰ª•Âú®ËøôÈáåÊ∑ªÂä†ËßÑÂàôÔºåÂëäËØâÁ≥ªÁªüËøô‰∏™ËØçËØ≠‰ª£Ë°®‰ªÄ‰πàÁé©Ê≥ïÁ±ªÂûã„ÄÇ</div>
                            </div>
                            
                            <div style="margin-bottom:16px;">
                                <div style="color:#4ade80;font-weight:bold;margin-bottom:8px;">‚úÖ Ê≠£Á°ÆÁ§∫‰æã</div>
                                <div style="background:rgba(0,0,0,0.3);padding:10px;border-radius:6px;font-size:12px;">
                                    ‚Ä¢ ÂÖ≥ÈîÆËØçÂ°´Ôºö<b style="color:#fff;">Â∞èÁêÉ</b>ÔºåÁ±ªÂûãÈÄâÔºö<b style="color:#fff;">ÁâπÁ†Å(Â±ïÂºÄÂ§öÂè∑)</b><br>
                                    ‚Ä¢ ÂÖ≥ÈîÆËØçÂ°´Ôºö<b style="color:#fff;">Á∫¢</b>ÔºåÁ±ªÂûãÈÄâÔºö<b style="color:#fff;">Á∫¢Ê≥¢</b><br>
                                    ‚Ä¢ ÂÖ≥ÈîÆËØçÂ°´Ôºö<b style="color:#fff;">Áå™Áå™</b>ÔºåÁ±ªÂûãÈÄâÔºö<b style="color:#fff;">ÁîüËÇñ</b>
                                </div>
                            </div>
                            
                            <div style="margin-bottom:16px;">
                                <div style="color:#f87171;font-weight:bold;margin-bottom:8px;">‚ùå ÈîôËØØÁ§∫‰æã</div>
                                <div style="background:rgba(0,0,0,0.3);padding:10px;border-radius:6px;font-size:12px;">
                                    ‚Ä¢ <s style="color:#888;">Â∞èÁêÉ 100</s> ‚Üê ‰∏çË¶ÅÂ∏¶ÈáëÈ¢ù<br>
                                    ‚Ä¢ <s style="color:#888;">Â∞èÁêÉÂêÑ20</s> ‚Üê ‰∏çË¶ÅÂ∏¶"ÂêÑ"Â≠ó
                                </div>
                            </div>
                            
                            <div style="margin-bottom:16px;">
                                <div style="color:#60a5fa;font-weight:bold;margin-bottom:8px;">üí° ‰ΩøÁî®ÊµÅÁ®ã</div>
                                <div style="background:rgba(0,0,0,0.3);padding:10px;border-radius:6px;font-size:12px;">
                                    1. Âú®Â∑¶ËæπËæìÂÖ•Ê°ÜÂ°´ÂÜô<b style="color:#fff;">ÂÖ≥ÈîÆËØç</b><br>
                                    2. Âú®Âè≥Ëæπ‰∏ãÊãâÊ°ÜÈÄâÊã©<b style="color:#fff;">ÂØπÂ∫îÁ±ªÂûã</b><br>
                                    3. ÁÇπÂáª<b style="color:#f59e0b;">Ê∑ªÂä†ËßÑÂàô</b>ÊåâÈíÆ<br>
                                    4. ÁÇπÂáª<b style="color:#e94560;">‰øùÂ≠òËÆæÁΩÆ</b>Âç≥ÂèØÁîüÊïà
                                </div>
                            </div>
                            
                            <div style="margin-bottom:12px;">
                                <div style="color:#c084fc;font-weight:bold;margin-bottom:8px;">üîÑ ËØÜÂà´È°∫Â∫è</div>
                                <div style="background:rgba(0,0,0,0.3);padding:10px;border-radius:6px;font-size:12px;">
                                    Á≥ªÁªü‰ºöÊåâ‰ª•‰∏ãÈ°∫Â∫èËØÜÂà´ÊÇ®ÁöÑËæìÂÖ•Ôºö<br>
                                    <b style="color:#fbbf24;">‚ë† ÊÇ®ËÆæÁΩÆÁöÑËßÑÂàô</b> ‚Üí <b style="color:#60a5fa;">‚ë° Á≥ªÁªüÂÜÖÁΩÆËßÑÂàô</b> ‚Üí <b style="color:#4ade80;">‚ë¢ AIÊô∫ËÉΩËØÜÂà´</b>
                                </div>
                            </div>
                            
                            <button onclick="closeCustomRuleHelp()" style="width:100%;padding:12px;background:linear-gradient(90deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:bold;cursor:pointer;margin-top:8px;">
                                ÊàëÁü•ÈÅì‰∫Ü
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- üÜï v3.6 ÁâπÁ†ÅÂ±ïÂºÄËÆæÁΩÆÂºπÁ™ó -->
                <div id="expand-modal" style="display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);z-index:10000;overflow-y:auto;">
                    <div style="max-width:400px;margin:40px auto;background:#1a1a2e;border-radius:12px;overflow:hidden;">
                        <div style="background:linear-gradient(90deg,#f59e0b,#d97706);padding:15px;display:flex;justify-content:space-between;align-items:center;">
                            <span style="font-weight:bold;color:#fff;font-size:16px;">üìä ÁâπÁ†ÅÂ±ïÂºÄËÆæÁΩÆ</span>
                            <button onclick="closeExpandModal()" style="background:none;border:none;color:#fff;font-size:20px;cursor:pointer;">√ó</button>
                        </div>
                        <div style="padding:20px;">
                            <div style="margin-bottom:20px;">
                                <div style="font-size:12px;color:#888;margin-bottom:8px;">ÂÖ≥ÈîÆËØçÔºö<b id="expand-modal-keyword" style="color:#fbbf24;"></b></div>
                            </div>
                            
                            <!-- Âø´Êç∑È¢ÑËÆæÊåâÈíÆ -->
                            <div style="margin-bottom:20px;">
                                <div style="font-size:13px;color:#fff;margin-bottom:10px;font-weight:bold;">üöÄ Âø´Êç∑È¢ÑËÆæÔºàÁÇπÂáªËá™Âä®Â°´ÂÖÖÔºâ</div>
                                
                                <div style="margin-bottom:12px;">
                                    <div style="font-size:11px;color:#888;margin-bottom:6px;">Â§ßÂ∞èËåÉÂõ¥Ôºö</div>
                                    <div style="display:flex;flex-wrap:wrap;gap:6px;">
                                        <button onclick="fillPreset('small')" class="preset-btn" style="padding:8px 12px;background:rgba(76,175,80,0.2);border:1px solid #4caf50;border-radius:6px;color:#81c784;font-size:11px;cursor:pointer;">Â∞èÊï∞ 1-24</button>
                                        <button onclick="fillPreset('big')" class="preset-btn" style="padding:8px 12px;background:rgba(244,67,54,0.2);border:1px solid #f44336;border-radius:6px;color:#ef9a9a;font-size:11px;cursor:pointer;">Â§ßÊï∞ 25-49</button>
                                    </div>
                                </div>
                                
                                <div style="margin-bottom:12px;">
                                    <div style="font-size:11px;color:#888;margin-bottom:6px;">Â∞æÊï∞Ôºö</div>
                                    <div style="display:flex;flex-wrap:wrap;gap:4px;">
                                        <button onclick="fillPreset('tail0')" class="preset-btn" style="padding:6px 10px;background:rgba(156,39,176,0.2);border:1px solid #9c27b0;border-radius:4px;color:#ce93d8;font-size:10px;cursor:pointer;">Â∞æ0</button>
                                        <button onclick="fillPreset('tail1')" class="preset-btn" style="padding:6px 10px;background:rgba(156,39,176,0.2);border:1px solid #9c27b0;border-radius:4px;color:#ce93d8;font-size:10px;cursor:pointer;">Â∞æ1</button>
                                        <button onclick="fillPreset('tail2')" class="preset-btn" style="padding:6px 10px;background:rgba(156,39,176,0.2);border:1px solid #9c27b0;border-radius:4px;color:#ce93d8;font-size:10px;cursor:pointer;">Â∞æ2</button>
                                        <button onclick="fillPreset('tail3')" class="preset-btn" style="padding:6px 10px;background:rgba(156,39,176,0.2);border:1px solid #9c27b0;border-radius:4px;color:#ce93d8;font-size:10px;cursor:pointer;">Â∞æ3</button>
                                        <button onclick="fillPreset('tail4')" class="preset-btn" style="padding:6px 10px;background:rgba(156,39,176,0.2);border:1px solid #9c27b0;border-radius:4px;color:#ce93d8;font-size:10px;cursor:pointer;">Â∞æ4</button>
                                        <button onclick="fillPreset('tail5')" class="preset-btn" style="padding:6px 10px;background:rgba(156,39,176,0.2);border:1px solid #9c27b0;border-radius:4px;color:#ce93d8;font-size:10px;cursor:pointer;">Â∞æ5</button>
                                        <button onclick="fillPreset('tail6')" class="preset-btn" style="padding:6px 10px;background:rgba(156,39,176,0.2);border:1px solid #9c27b0;border-radius:4px;color:#ce93d8;font-size:10px;cursor:pointer;">Â∞æ6</button>
                                        <button onclick="fillPreset('tail7')" class="preset-btn" style="padding:6px 10px;background:rgba(156,39,176,0.2);border:1px solid #9c27b0;border-radius:4px;color:#ce93d8;font-size:10px;cursor:pointer;">Â∞æ7</button>
                                        <button onclick="fillPreset('tail8')" class="preset-btn" style="padding:6px 10px;background:rgba(156,39,176,0.2);border:1px solid #9c27b0;border-radius:4px;color:#ce93d8;font-size:10px;cursor:pointer;">Â∞æ8</button>
                                        <button onclick="fillPreset('tail9')" class="preset-btn" style="padding:6px 10px;background:rgba(156,39,176,0.2);border:1px solid #9c27b0;border-radius:4px;color:#ce93d8;font-size:10px;cursor:pointer;">Â∞æ9</button>
                                    </div>
                                </div>
                                
                                <div style="margin-bottom:12px;">
                                    <div style="font-size:11px;color:#888;margin-bottom:6px;">Ê≥¢Ëâ≤Ôºö</div>
                                    <div style="display:flex;flex-wrap:wrap;gap:6px;">
                                        <button onclick="fillPreset('red')" class="preset-btn" style="padding:8px 12px;background:rgba(244,67,54,0.2);border:1px solid #f44336;border-radius:6px;color:#ef9a9a;font-size:11px;cursor:pointer;">üî¥ Á∫¢Ê≥¢ 17‰∏™</button>
                                        <button onclick="fillPreset('blue')" class="preset-btn" style="padding:8px 12px;background:rgba(33,150,243,0.2);border:1px solid #2196f3;border-radius:6px;color:#90caf9;font-size:11px;cursor:pointer;">üîµ ËìùÊ≥¢ 16‰∏™</button>
                                        <button onclick="fillPreset('green')" class="preset-btn" style="padding:8px 12px;background:rgba(76,175,80,0.2);border:1px solid #4caf50;border-radius:6px;color:#81c784;font-size:11px;cursor:pointer;">üü¢ ÁªøÊ≥¢ 16‰∏™</button>
                                    </div>
                                </div>
                                
                                <div style="margin-bottom:12px;">
                                    <div style="font-size:11px;color:#888;margin-bottom:6px;">ÁîüËÇñÔºà2025ËõáÂπ¥ÔºâÔºö</div>
                                    <div style="display:flex;flex-wrap:wrap;gap:4px;">
                                        <button onclick="fillPreset('Z1')" class="preset-btn" style="padding:6px 10px;background:rgba(255,152,0,0.2);border:1px solid #ff9800;border-radius:4px;color:#ffcc80;font-size:10px;cursor:pointer;">üê≠Èº†4‰∏™</button>
                                        <button onclick="fillPreset('Z2')" class="preset-btn" style="padding:6px 10px;background:rgba(255,152,0,0.2);border:1px solid #ff9800;border-radius:4px;color:#ffcc80;font-size:10px;cursor:pointer;">üêÇÁâõ4‰∏™</button>
                                        <button onclick="fillPreset('Z3')" class="preset-btn" style="padding:6px 10px;background:rgba(255,152,0,0.2);border:1px solid #ff9800;border-radius:4px;color:#ffcc80;font-size:10px;cursor:pointer;">üêØËôé4‰∏™</button>
                                        <button onclick="fillPreset('Z4')" class="preset-btn" style="padding:6px 10px;background:rgba(255,152,0,0.2);border:1px solid #ff9800;border-radius:4px;color:#ffcc80;font-size:10px;cursor:pointer;">üê∞ÂÖî4‰∏™</button>
                                        <button onclick="fillPreset('Z5')" class="preset-btn" style="padding:6px 10px;background:rgba(255,152,0,0.2);border:1px solid #ff9800;border-radius:4px;color:#ffcc80;font-size:10px;cursor:pointer;">üê≤Èæô4‰∏™</button>
                                        <button onclick="fillPreset('Z6')" class="preset-btn" style="padding:6px 10px;background:rgba(255,152,0,0.2);border:1px solid #ff9800;border-radius:4px;color:#ffcc80;font-size:10px;cursor:pointer;">üêçËõá5‰∏™</button>
                                        <button onclick="fillPreset('Z7')" class="preset-btn" style="padding:6px 10px;background:rgba(255,152,0,0.2);border:1px solid #ff9800;border-radius:4px;color:#ffcc80;font-size:10px;cursor:pointer;">üê¥È©¨4‰∏™</button>
                                        <button onclick="fillPreset('Z8')" class="preset-btn" style="padding:6px 10px;background:rgba(255,152,0,0.2);border:1px solid #ff9800;border-radius:4px;color:#ffcc80;font-size:10px;cursor:pointer;">üêëÁæä4‰∏™</button>
                                        <button onclick="fillPreset('Z9')" class="preset-btn" style="padding:6px 10px;background:rgba(255,152,0,0.2);border:1px solid #ff9800;border-radius:4px;color:#ffcc80;font-size:10px;cursor:pointer;">üêµÁå¥4‰∏™</button>
                                        <button onclick="fillPreset('Z10')" class="preset-btn" style="padding:6px 10px;background:rgba(255,152,0,0.2);border:1px solid #ff9800;border-radius:4px;color:#ffcc80;font-size:10px;cursor:pointer;">üêîÈ∏°4‰∏™</button>
                                        <button onclick="fillPreset('Z11')" class="preset-btn" style="padding:6px 10px;background:rgba(255,152,0,0.2);border:1px solid #ff9800;border-radius:4px;color:#ffcc80;font-size:10px;cursor:pointer;">üê∂Áãó4‰∏™</button>
                                        <button onclick="fillPreset('Z12')" class="preset-btn" style="padding:6px 10px;background:rgba(255,152,0,0.2);border:1px solid #ff9800;border-radius:4px;color:#ffcc80;font-size:10px;cursor:pointer;">üê∑Áå™4‰∏™</button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Â∑≤ÈÄâÂè∑Á†Å -->
                            <div style="margin-bottom:20px;">
                                <div style="font-size:13px;color:#fff;margin-bottom:8px;font-weight:bold;">üìù Â∑≤ÈÄâÂè∑Á†Å</div>
                                <textarea id="expand-numbers-input" placeholder="ÁÇπÂáª‰∏äÊñπÊåâÈíÆËá™Âä®Â°´ÂÖÖÔºåÊàñÊâãÂä®ËæìÂÖ•ÔºàÂ¶ÇÔºö1,2,3,4,5Ôºâ" style="width:100%;height:60px;padding:10px;background:rgba(0,0,0,0.3);border:1px solid rgba(255,255,255,0.2);border-radius:6px;color:#fff;font-size:12px;resize:none;box-sizing:border-box;"></textarea>
                                <div id="expand-numbers-count" style="font-size:10px;color:#888;margin-top:4px;text-align:right;">Â∑≤ÈÄâ 0 ‰∏™Âè∑Á†Å</div>
                            </div>
                            
                            <!-- ÈáëÈ¢ùÊ®°Âºè -->
                            <div style="margin-bottom:20px;">
                                <div style="font-size:13px;color:#fff;margin-bottom:8px;font-weight:bold;">üí∞ ÈáëÈ¢ùÊ®°Âºè</div>
                                <div style="display:flex;gap:10px;">
                                    <label style="flex:1;display:flex;align-items:center;gap:6px;padding:10px;background:rgba(0,0,0,0.2);border-radius:6px;cursor:pointer;">
                                        <input type="radio" name="amount-mode" value="each" checked style="width:16px;height:16px;">
                                        <span style="font-size:11px;color:#ccc;">ÊØè‰∏™Âè∑Á†ÅËØ•ÈáëÈ¢ù</span>
                                    </label>
                                    <label style="flex:1;display:flex;align-items:center;gap:6px;padding:10px;background:rgba(0,0,0,0.2);border-radius:6px;cursor:pointer;">
                                        <input type="radio" name="amount-mode" value="total" style="width:16px;height:16px;">
                                        <span style="font-size:11px;color:#ccc;">ÊÄªÈáëÈ¢ùÂπ≥ÂùáÂàÜ</span>
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Êìç‰ΩúÊåâÈíÆ -->
                            <div style="display:flex;gap:10px;">
                                <button onclick="closeExpandModal()" style="flex:1;padding:12px;background:rgba(255,255,255,0.1);color:#ccc;border:1px solid rgba(255,255,255,0.2);border-radius:6px;font-size:13px;cursor:pointer;">ÂèñÊ∂à</button>
                                <button onclick="confirmExpandRule()" style="flex:1;padding:12px;background:linear-gradient(90deg,#f59e0b,#d97706);color:#fff;border:none;border-radius:6px;font-size:13px;font-weight:bold;cursor:pointer;">‚úì Á°ÆÂÆöÊ∑ªÂä†</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button onclick="saveFormatSettings()" style="width:100%;padding:12px;background:linear-gradient(90deg,#e94560,#c23a51);color:white;border:none;border-radius:8px;font-size:14px;font-weight:bold;cursor:pointer;margin-top:15px;">
                    üíæ ‰øùÂ≠òËÆæÁΩÆ
                </button>
                
                <button onclick="resetFormatSettings()" style="width:100%;padding:10px;background:transparent;color:#888;border:1px solid rgba(255,255,255,0.2);border-radius:8px;font-size:13px;cursor:pointer;margin-top:10px;">
                    üîÑ ÊÅ¢Â§çÈªòËÆ§ËÆæÁΩÆ
                </button>
            </div>
            
            <!-- ÂèÇÊï∞ËÆæÁΩÆÈ°µÈù¢ -->
            <div class="page" id="page-params">
                <div class="page-header">
                    <button class="btn-back" onclick="showPage('page-main')">‚Üê</button>
                    <div class="page-title">ÂèÇÊï∞ËÆæÁΩÆ</div>
                </div>
                
                <!-- AIÊô∫ËÉΩËß£ÊûêËÆæÁΩÆÔºà‰ªéËá™ÂÆö‰πâÊ†ºÂºèÈ°µÈù¢ÁßªÂÖ•Ôºâ -->
                <div class="setting-group" style="background:linear-gradient(135deg,rgba(102,126,234,0.2),rgba(118,75,162,0.2));border:1px solid rgba(102,126,234,0.3);">
                    <div class="setting-group-title" style="color:#a78bfa;">ü§ñ AIÊô∫ËÉΩËß£Êûê</div>
                    <div style="font-size:12px;color:#888;margin-bottom:12px;">
                        ÂºÄÂêØÂêéÂèØËá™Âä®ËØÜÂà´ÂêÑÁßçÂ§çÊùÇÊ†ºÂºèÔºåÊó†ÈúÄÊâãÂä®ÈÖçÁΩÆ
                    </div>
                    
                    <div class="setting-item">
                        <span class="setting-item-label">ÂêØÁî®AIÊô∫ËÉΩËß£Êûê</span>
                        <input type="checkbox" id="ai-parse-enabled" checked style="width:20px;height:20px;">
                    </div>
                    
                    <!-- AIÊ®°ÂûãÂàáÊç¢ÊåâÈíÆ -->
                    <div style="margin-top:12px;">
                        <div style="font-size:12px;color:#888;margin-bottom:8px;">ÈÄâÊã©AIÊ®°ÂûãÔºö</div>
                        <div id="ai-model-buttons" style="display:flex;gap:8px;flex-wrap:wrap;">
                            <button type="button" class="ai-model-btn active" data-provider="openrouter" onclick="switchAIModel('openrouter')">
                                üåê Ë∞∑Ê≠å
                            </button>
                            <button type="button" class="ai-model-btn" data-provider="deepseek" onclick="switchAIModel('deepseek')">
                                üöÄ DS
                            </button>
                            <button type="button" class="ai-model-btn" data-provider="zhipu" onclick="switchAIModel('zhipu')">
                                üß† Êô∫Ë∞±
                            </button>
                            <button type="button" class="ai-model-btn" data-provider="qwen" onclick="switchAIModel('qwen')">
                                ‚òÅÔ∏è ÂçÉÈóÆ
                            </button>
                            <button type="button" class="ai-model-btn" data-provider="claude" onclick="switchAIModel('claude')">
                                ü§ñ Claude
                            </button>
                            <button type="button" class="ai-model-btn" data-provider="gpt" onclick="switchAIModel('gpt')">
                                üí° GPT
                            </button>
                        </div>
                        <div id="ai-model-status" style="margin-top:8px;padding:8px;background:rgba(139,92,246,0.1);border-radius:6px;font-size:11px;color:#a78bfa;">
                            ‚úÖ ÂΩìÂâçÔºöGemini 3 FlashÔºàOpenRouter ¬∑ È¶ôÊ∏ØÊúçÂä°Âô®Ôºâ
                        </div>
                    </div>
                    
                    <!-- ÈöêËóèÁöÑÈÖçÁΩÆ -->
                    <div style="display:none;">
                        <select id="ai-provider">
                            <option value="openrouter" selected>Gemini 3 Flash (OpenRouter)</option>
                            <option value="deepseek">DeepSeek</option>
                            <option value="zhipu">Êô∫Ë∞±GLM</option>
                            <option value="qwen">ÈÄö‰πâÂçÉÈóÆ</option>
                            <option value="claude">Claude Opus</option>
                            <option value="gpt">GPT 5.1</option>
                            <option value="tuzi">Gemini 3 Pro</option>
                        </select>
                        <input type="hidden" id="ai-api-key" value="">
                    </div>
                </div>
                
                <!-- ÂØºÂÖ•ÂØºÂá∫ÈÖçÁΩÆÔºà‰ªéËá™ÂÆö‰πâÊ†ºÂºèÈ°µÈù¢ÁßªÂÖ•Ôºâ -->
                <div class="setting-group">
                    <div class="setting-group-title">üì¶ ÂØºÂÖ•/ÂØºÂá∫ÈÖçÁΩÆ</div>
                    <div style="font-size:12px;color:#888;margin-bottom:12px;">
                        ÂØºÂá∫ÈÖçÁΩÆÂèØÂú®ÂÖ∂‰ªñËÆæÂ§áÂØºÂÖ•‰ΩøÁî®
                    </div>
                    <div style="display:flex;gap:8px;">
                        <button onclick="exportAllSettings()" style="flex:1;padding:10px;background:rgba(102,126,234,0.2);color:#a78bfa;border:1px solid rgba(102,126,234,0.3);border-radius:6px;font-size:12px;cursor:pointer;">
                            üì§ ÂØºÂá∫ÈÖçÁΩÆ
                        </button>
                        <button onclick="document.getElementById('import-file-params').click()" style="flex:1;padding:10px;background:rgba(76,175,80,0.2);color:#81c784;border:1px solid rgba(76,175,80,0.3);border-radius:6px;font-size:12px;cursor:pointer;">
                            üì• ÂØºÂÖ•ÈÖçÁΩÆ
                        </button>
                        <input type="file" id="import-file-params" accept=".json" style="display:none;" onchange="importAllSettings(event)">
                    </div>
                    <div style="font-size:10px;color:#666;margin-top:8px;">
                        ÂåÖÂê´ÔºöËá™ÂÆö‰πâËßÑÂàô + ÂÄçÁéáËÆæÁΩÆ
                    </div>
                </div>
                
                <button onclick="saveParamSettings()" style="width:100%;padding:12px;background:linear-gradient(90deg,#e94560,#c23a51);color:white;border:none;border-radius:8px;font-size:14px;font-weight:bold;cursor:pointer;margin-top:15px;">
                    üíæ ‰øùÂ≠òËÆæÁΩÆ
                </button>
            </div>
            
            <!-- ÊøÄÊ¥ªÈ°µÈù¢ -->
            <div class="page" id="page-activate">
                <div class="page-header">
                    <button class="btn-back" onclick="showPage('page-main')">‚Üê</button>
                    <div class="page-title">ÊøÄÊ¥ª‰ºöÂëò</div>
                </div>
                
                <div class="status-card">
                    <div class="status-label">ÊéàÊùÉÁä∂ÊÄÅ</div>
                    <div class="status-value trial" id="license-status">ËØïÁî®ÊúüÂâ©‰Ωô 7 Â§©</div>
                </div>
                
                <div class="setting-group">
                    <div class="setting-group-title">ËÆæÂ§áÊú∫Âô®Á†Å</div>
                    <div class="machine-code-display">
                        <div class="machine-code-value" id="machine-code">ÁîüÊàê‰∏≠...</div>
                    </div>
                    <button class="btn btn-primary" onclick="copyMachineCode()" style="width:100%;">
                        <span>üìã Â§çÂà∂Êú∫Âô®Á†Å</span>
                    </button>
                </div>
                
                <div class="setting-group">
                    <div class="setting-group-title">ËæìÂÖ•ÊøÄÊ¥ªÁ†Å</div>
                    <input type="text" class="license-input" id="license-input" placeholder="XXXX-XXXX-XXXX-XXXX">
                    <button class="btn-activate" onclick="activateLicense()">üîì ÊøÄÊ¥ª</button>
                </div>
                
                <div class="setting-group">
                    <div class="setting-group-title">ËµîÁéáÈÖçÁΩÆÂ§á‰ªΩ</div>
                    <div class="config-btn-row">
                    <button class="btn-config btn-export" onclick="showExportOptions()">üì§ ÂØºÂá∫ÈÖçÁΩÆ</button>
                    <button class="btn-config btn-import" onclick="showImportModal()">üì• ÂØºÂÖ•ÈÖçÁΩÆ</button>
                    </div>
                </div>
                
            </div>
            
            <!-- Ê†∏ÂØπËØ¶ÊÉÖÈ°µÈù¢ -->
            <div class="page" id="page-check">
                <div class="page-header">
                    <button class="btn-back" onclick="showPage('page-main')">‚Üê</button>
                    <div class="page-title">Ê†∏ÂØπËØ¶ÊÉÖ</div>
                </div>
                
                <!-- Ê±áÊÄª‰ø°ÊÅØ -->
                <div class="check-summary">
                    <div class="check-summary-item">
                        <div class="check-summary-label">ÊÄª‰∏ãÊ≥®</div>
                        <div class="check-summary-value" id="check-total-bet">0</div>
                    </div>
                    <div class="check-summary-item">
                        <div class="check-summary-label">‰∏≠Â•ñÊ≥®Êï∞</div>
                        <div class="check-summary-value" id="check-win-count">0</div>
                    </div>
                    <div class="check-summary-item">
                        <div class="check-summary-label">ÁªìÁÆóÁªìÊûú</div>
                        <div class="check-summary-value" id="check-result">0</div>
                    </div>
                </div>
                
                <!-- ËØ¶ÁªÜÂàóË°® -->
                <div class="setting-group">
                    <div class="setting-group-title">‰∏ãÊ≥®ÊòéÁªÜ</div>
                    <div class="check-detail-list" id="check-detail-list">
                        <!-- Âä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>
            </div>
            
            <!-- ÂèÇÁÖßË°®È°µÈù¢ -->
            <div class="page" id="page-reference">
                <div class="page-header">
                    <button class="btn-back" onclick="showPage('page-lottery')">‚Üê</button>
                    <div class="page-title">Â±ûÊÄßÂèÇÁÖß</div>
                </div>
                
                <div class="setting-group">
                    <div class="setting-group-title">ÁîüËÇñÂèÇÁÖßË°®</div>
                    <div class="ref-table-wrap">
                        <table class="ref-table" id="ref-shengxiao"></table>
                    </div>
                </div>
                
                <div class="setting-group">
                    <div class="setting-group-title">‰∫îË°åÂèÇÁÖßË°®</div>
                    <div class="ref-table-wrap">
                        <table class="ref-table" id="ref-wuxing"></table>
                    </div>
                </div>
                
                <div class="setting-group">
                    <div class="setting-group-title">Ê≥¢Ëâ≤ÂèÇÁÖßË°®</div>
                    <div class="ref-table-wrap">
                        <table class="ref-table" id="ref-bose"></table>
                    </div>
                </div>
                
                <div class="setting-group">
                    <div class="setting-group-title">ÂÆ∂Á¶ΩÈáéÂÖΩÂèÇÁÖßË°®</div>
                    <div class="ref-table-wrap">
                        <table class="ref-table" id="ref-jiaqin"></table>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- üÜï ÂàÜÁªÑÁºñËæëÂô®ÂºπÁ™ó v2.4 -->
        <div class="import-modal" id="group-editor-modal" style="display:none;">
            <div class="import-modal-content" style="max-width:95%;width:450px;max-height:85vh;overflow:hidden;display:flex;flex-direction:column;">
                <div class="import-modal-title" style="display:flex;justify-content:space-between;align-items:center;">
                    <span>üì¶ ÊâãÂä®ÂàÜÁªÑÁºñËæë</span>
                    <button onclick="closeGroupEditor()" style="background:none;border:none;color:#888;font-size:20px;cursor:pointer;">√ó</button>
                </div>
                
                <div style="padding:8px 0;border-bottom:1px solid rgba(255,255,255,0.1);font-size:12px;color:#888;">
                    üí° ÊèêÁ§∫ÔºöÁÇπÂáªË°å‰πãÈó¥ÁöÑ <span style="color:#667eea;">„Äå+ÂàÜÁªÑÁ∫ø„Äç</span> ÊåâÈíÆÊù•ÂàÜÈöî‰∏çÂêåÁªÑ
                </div>
                
                <!-- Ë°åÂàóË°®Âå∫Âüü -->
                <div id="group-editor-lines" style="flex:1;overflow-y:auto;padding:12px 0;">
                    <!-- Âä®ÊÄÅÁîüÊàê -->
                </div>
                
                <!-- Â∫ïÈÉ®ÊåâÈíÆ -->
                <div style="display:flex;gap:8px;padding-top:12px;border-top:1px solid rgba(255,255,255,0.1);">
                    <button onclick="resetGroupEditor()" style="flex:1;padding:10px;background:rgba(255,255,255,0.1);color:#ccc;border:1px solid rgba(255,255,255,0.2);border-radius:6px;font-size:13px;cursor:pointer;">üîÑ ÈáçÁΩÆ</button>
                    <button onclick="applyGroupEdits()" style="flex:2;padding:10px;background:linear-gradient(90deg,#667eea,#764ba2);color:white;border:none;border-radius:6px;font-size:13px;font-weight:bold;cursor:pointer;">‚úÖ Â∫îÁî®ÂàÜÁªÑ</button>
                </div>
            </div>
        </div>
        
        <!-- Â§öÊ®°ÂûãÂØπÊØîÊµãËØïÂºπÁ™ó -->
        <div class="import-modal" id="multi-model-modal" style="display:none;">
            <div class="import-modal-content" style="max-width:95%;width:500px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;">
                <div class="import-modal-title" style="display:flex;justify-content:space-between;align-items:center;">
                    <span>üî¨ Â§öÊ®°ÂûãÂØπÊØîÊµãËØï</span>
                    <span id="tuzi-site-info" style="font-size:11px;color:#4ade80;background:rgba(74,222,128,0.1);padding:2px 8px;border-radius:4px;margin-left:8px;">ÂΩìÂâçÁ´ôÁÇπ: ÂπøÂ∑û</span>
                    <button onclick="closeMultiModelModal()" style="background:none;border:none;color:#888;font-size:20px;cursor:pointer;">√ó</button>
                </div>
                
                <!-- „Äê‰∏¥Êó∂-Ê®°ÂûãÊØîÊãº„ÄëÊµãËØïÊéßÂà∂Âå∫ -->
                <div id="model-test-control" style="padding:8px 0;border-bottom:1px solid rgba(255,255,255,0.1);display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
                    <div style="display:flex;align-items:center;gap:4px;">
                        <label style="font-size:11px;color:#888;">Ê†áÂáÜÁ≠îÊ°à:</label>
                        <select id="standard-answer" style="padding:4px 8px;border-radius:4px;border:1px solid rgba(255,255,255,0.2);background:rgba(0,0,0,0.3);color:#fff;font-size:11px;">
                            <option value="">--ËØ∑ÈÄâÊã©--</option>
                            <optgroup label="ÁâπÁ†ÅÁ±ª">
                                <option value="ÁâπÁ†Å">ÁâπÁ†Å</option>
                                <option value="ÁîüËÇñÁâπÁ†Å">ÁîüËÇñÁâπÁ†Å</option>
                                <option value="Â§ßÂ∞èÂçïÂèå">Â§ßÂ∞èÂçïÂèå</option>
                            </optgroup>
                            <optgroup label="Âπ≥ÁâπÁ±ª">
                                <option value="Âπ≥Áâπ‰∏ÄËÇñ">Âπ≥Áâπ‰∏ÄËÇñ(‰∏ÄÂèã)</option>
                                <option value="Âπ≥Áâπ‰∫åËøûËÇñ">Âπ≥Áâπ‰∫åËøûËÇñ(‰∫åÂèã)</option>
                                <option value="Âπ≥Áâπ‰∏âËøûËÇñ">Âπ≥Áâπ‰∏âËøûËÇñ(‰∏âÂèã)</option>
                                <option value="Âπ≥ÁâπÂõõËøûËÇñ">Âπ≥ÁâπÂõõËøûËÇñ</option>
                                <option value="Âπ≥Áâπ‰∫îËøûËÇñ">Âπ≥Áâπ‰∫îËøûËÇñ</option>
                                <option value="Âπ≥ÁâπÂ∞æÊï∞">Âπ≥ÁâπÂ∞æÊï∞</option>
                            </optgroup>
                            <optgroup label="ÁîüËÇñÁ±ª">
                                <option value="ÁîüËÇñ">ÁîüËÇñ</option>
                                <option value="ÂÖ≠ËÇñ">ÂÖ≠ËÇñ</option>
                                <option value="ÁâπËÇñ">ÁâπËÇñ</option>
                                <option value="ÂêàËÇñ">ÂêàËÇñ</option>
                                <option value="Ê≠£ËÇñ">Ê≠£ËÇñ</option>
                            </optgroup>
                            <optgroup label="Ê≥¢Ëâ≤Á±ª">
                                <option value="Ê≥¢Ëâ≤">Ê≥¢Ëâ≤</option>
                                <option value="ÂçäÊ≥¢">ÂçäÊ≥¢</option>
                            </optgroup>
                            <optgroup label="Âπ≥Á†ÅÁ±ª">
                                <option value="ÂçïÂπ≥">ÂçïÂπ≥/Âπ≥Á†Å</option>
                            </optgroup>
                            <optgroup label="ËøûÁ†ÅÁ±ª">
                                <option value="‰∫å‰∏≠‰∫å">‰∫å‰∏≠‰∫å</option>
                                <option value="‰∏â‰∏≠‰∏â">‰∏â‰∏≠‰∏â</option>
                                <option value="‰∫åÂÖ®‰∏≠">‰∫åÂÖ®‰∏≠</option>
                                <option value="‰∏âÂÖ®‰∏≠">‰∏âÂÖ®‰∏≠</option>
                                <option value="‰∫å‰∏≠Áâπ">‰∫å‰∏≠Áâπ</option>
                                <option value="‰∏â‰∏≠Áâπ">‰∏â‰∏≠Áâπ</option>
                                <option value="Áâπ‰∏≤">Áâπ‰∏≤</option>
                            </optgroup>
                            <optgroup label="‰∏ç‰∏≠Á±ª">
                                <option value="‰∫î‰∏ç‰∏≠">‰∫î‰∏ç‰∏≠</option>
                                <option value="ÂÖ≠‰∏ç‰∏≠">ÂÖ≠‰∏ç‰∏≠</option>
                                <option value="‰∏É‰∏ç‰∏≠">‰∏É‰∏ç‰∏≠</option>
                                <option value="ÂÖ´‰∏ç‰∏≠">ÂÖ´‰∏ç‰∏≠</option>
                                <option value="‰πù‰∏ç‰∏≠">‰πù‰∏ç‰∏≠</option>
                                <option value="ÂçÅ‰∏ç‰∏≠">ÂçÅ‰∏ç‰∏≠</option>
                                <option value="ÂçÅ‰∏Ä‰∏ç‰∏≠">ÂçÅ‰∏Ä‰∏ç‰∏≠</option>
                                <option value="ÂçÅ‰∫å‰∏ç‰∏≠">ÂçÅ‰∫å‰∏ç‰∏≠</option>
                            </optgroup>
                            <optgroup label="ÂÖ∂‰ªñ">
                                <option value="ÊÄªÂíåÂ§ßÂ∞èÂçïÂèå">ÊÄªÂíåÂ§ßÂ∞èÂçïÂèå</option>
                                <option value="‰∫îË°å">‰∫îË°å</option>
                                <option value="ÂÆ∂Á¶ΩÈáéÂÖΩ">ÂÆ∂Á¶ΩÈáéÂÖΩ</option>
                                <option value="Â§¥Â∞æÊï∞">Â§¥Â∞æÊï∞</option>
                            </optgroup>
                        </select>
                    </div>
                    <button onclick="runMultiRoundTest(5)" style="padding:4px 10px;background:linear-gradient(90deg,#3498db,#2980b9);color:white;border:none;border-radius:4px;font-size:11px;cursor:pointer;">
                        üîÑ 5ËΩÆÊµãËØï
                    </button>
                    <button onclick="runEdgeCaseTest()" id="edge-test-btn" style="padding:4px 10px;background:linear-gradient(90deg,#e74c3c,#c0392b);color:white;border:none;border-radius:4px;font-size:11px;cursor:pointer;">
                        üß™ ËæπÁºòÊµãËØï
                    </button>
                    <span id="test-progress" style="font-size:11px;color:#888;display:none;">ËøõÂ∫¶: 0/5</span>
                    <button onclick="exportTestReport()" id="export-btn" style="padding:4px 10px;background:linear-gradient(90deg,#27ae60,#2ecc71);color:white;border:none;border-radius:4px;font-size:11px;cursor:pointer;display:none;">
                        üìä ÂØºÂá∫CSV
                    </button>
                </div>
                
                <!-- Ê®°ÂûãÊ†áÁ≠æÂàáÊç¢ -->
                <div id="model-tabs" style="display:flex;gap:0;margin-bottom:0;border-bottom:1px solid rgba(255,255,255,0.1);">
                    <button class="model-tab active" data-model="openrouter" onclick="switchModelTab('openrouter')">
                        <div class="model-tab-name">Gemini</div>
                        <div class="model-tab-time" id="tab-time-openrouter">Á≠âÂæÖ‰∏≠...</div>
                    </button>
                    <button class="model-tab" data-model="deepseek" onclick="switchModelTab('deepseek')">
                        <div class="model-tab-name">DeepSeek</div>
                        <div class="model-tab-time" id="tab-time-deepseek">Á≠âÂæÖ‰∏≠...</div>
                    </button>
                    <button class="model-tab" data-model="qwen" onclick="switchModelTab('qwen')">
                        <div class="model-tab-name">ÈÄö‰πâÂçÉÈóÆ</div>
                        <div class="model-tab-time" id="tab-time-qwen">Á≠âÂæÖ‰∏≠...</div>
                    </button>
                    <button class="model-tab" data-model="claude" onclick="switchModelTab('claude')">
                        <div class="model-tab-name">Claude</div>
                        <div class="model-tab-time" id="tab-time-claude">Á≠âÂæÖ‰∏≠...</div>
                    </button>
                    <button class="model-tab" data-model="gpt" onclick="switchModelTab('gpt')">
                        <div class="model-tab-name">GPT4o</div>
                        <div class="model-tab-time" id="tab-time-gpt">Á≠âÂæÖ‰∏≠...</div>
                    </button>
                </div>
                
                <!-- ÂØπÊØîÂÜÖÂÆπÂå∫Âüü -->
                <div style="flex:1;overflow-y:auto;padding:12px 0;">
                    <!-- ÂéüÂßãËæìÂá∫ -->
                    <div style="margin-bottom:12px;">
                        <div style="font-size:11px;color:#888;margin-bottom:4px;">[ÂéüÂßãËæìÂá∫ÂÜÖÂÆπ]</div>
                        <div id="model-raw-output" style="background:rgba(0,0,0,0.3);border-radius:6px;padding:10px;font-size:12px;color:#ccc;max-height:150px;overflow-y:auto;font-family:monospace;white-space:pre-wrap;word-break:break-all;">
                            Á≠âÂæÖËøêË°å...
                        </div>
                    </div>
                    
                    <!-- Ëß£ÊûêÁªìÊûú -->
                    <div style="margin-bottom:12px;">
                        <div style="font-size:11px;color:#888;margin-bottom:4px;">[Ëß£ÊûêÁªìÊûú]</div>
                        <div id="model-parsed-result" style="background:rgba(0,0,0,0.3);border-radius:6px;padding:10px;font-size:12px;color:#81c784;max-height:120px;overflow-y:auto;">
                            Á≠âÂæÖËøêË°å...
                        </div>
                    </div>
                    
                    <!-- Áä∂ÊÄÅÂíåÊìç‰Ωú -->
                    <div id="model-status-area" style="display:flex;justify-content:space-between;align-items:center;padding:10px;background:rgba(255,255,255,0.05);border-radius:6px;">
                        <div id="model-status" style="font-size:12px;color:#888;">
                            ‚è≥ Á≠âÂæÖËøêË°å
                        </div>
                        <button id="model-use-btn" onclick="useModelResult()" style="display:none;padding:8px 16px;background:linear-gradient(90deg,#27ae60,#2ecc71);color:white;border:none;border-radius:6px;font-size:12px;font-weight:bold;cursor:pointer;">
                            ‚úÖ ÈÄâÁî®Ê≠§ÁªìÊûú
                        </button>
                    </div>
                </div>
                
                <!-- Â∫ïÈÉ®Êìç‰Ωú -->
                <div style="padding-top:12px;border-top:1px solid rgba(255,255,255,0.1);display:flex;gap:10px;">
                    <button onclick="runMultiModelTest()" style="flex:1;padding:12px;background:linear-gradient(90deg,#667eea,#764ba2);color:white;border:none;border-radius:8px;font-size:14px;font-weight:bold;cursor:pointer;">
                        üîÑ ÈáçÊñ∞ÊµãËØï
                    </button>
                    <button onclick="closeMultiModelModal()" style="flex:1;padding:12px;background:rgba(255,255,255,0.1);color:#ccc;border:1px solid rgba(255,255,255,0.2);border-radius:8px;font-size:14px;cursor:pointer;">
                        ÂÖ≥Èó≠
                    </button>
                </div>
            </div>
        </div>
        
        <!-- ÂØºÂá∫ÈÄâÈ°πÂºπÁ™ó -->
        <div class="import-modal" id="export-modal">
            <div class="import-modal-content">
                <div class="import-modal-title">üì§ ÂØºÂá∫ÈÖçÁΩÆ</div>
                <div style="display:flex;flex-direction:column;gap:12px;">
                    <button onclick="exportCopy()" style="width:100%;padding:15px;background:linear-gradient(90deg,#2ecc71,#27ae60);color:white;border:none;border-radius:10px;font-size:14px;font-weight:bold;cursor:pointer;">
                        üìã Â§çÂà∂ÈÖçÁΩÆÊñáÊú¨ÔºàÊé®ËçêÔºâ
                    </button>
                    <div style="color:#888;font-size:12px;text-align:center;">
                        Â§çÂà∂ÂêéÂèØÁõ¥Êé•Á≤òË¥¥Âà∞ÂæÆ‰ø°ÂèëÈÄÅ
                    </div>
                    <button onclick="exportDownload()" style="width:100%;padding:15px;background:rgba(255,255,255,0.1);color:#ccc;border:1px solid rgba(255,255,255,0.2);border-radius:10px;font-size:14px;cursor:pointer;">
                        üíæ ‰∏ãËΩΩ‰∏∫Êñá‰ª∂
                    </button>
                </div>
                <button onclick="hideExportModal()" style="width:100%;padding:12px;background:transparent;color:#666;border:none;font-size:14px;cursor:pointer;margin-top:15px;">
                    ÂèñÊ∂à
                </button>
            </div>
        </div>
        
        <!-- ÂØºÂÖ•ÈÖçÁΩÆÂºπÁ™ó -->
        <div class="import-modal" id="import-modal">
            <div class="import-modal-content">
                <div class="import-modal-title">üì• ÂØºÂÖ•ÈÖçÁΩÆ</div>
                
                <div style="background:rgba(46,204,113,0.1);border:1px solid rgba(46,204,113,0.3);border-radius:8px;padding:12px;margin-bottom:15px;">
                    <div style="color:#2ecc71;font-size:13px;font-weight:bold;margin-bottom:8px;">üí° Êé®ËçêÊñπÂºèÔºöÁ≤òË¥¥ÂØºÂÖ•</div>
                    <div style="color:#888;font-size:12px;">
                        1. Âú®ÂæÆ‰ø°ÊâìÂºÄÊî∂Âà∞ÁöÑÈÖçÁΩÆÊñá‰ª∂<br>
                        2. ÈïøÊåâÂÜÖÂÆπ ‚Üí ÂÖ®ÈÄâ ‚Üí Â§çÂà∂<br>
                        3. ÂõûÂà∞ËøôÈáåÁ≤òË¥¥Âà∞‰∏ãÊñπËæìÂÖ•Ê°Ü
                    </div>
                </div>
                
                <textarea class="import-textarea" id="import-textarea" placeholder="ÈïøÊåâÊ≠§Â§ÑÁ≤òË¥¥ÈÖçÁΩÆÂÜÖÂÆπ...&#10;&#10;Ôºà‰ªéÂæÆ‰ø°Â§çÂà∂ÁöÑÈÖçÁΩÆÊñáÊú¨Ôºâ" style="height:120px;"></textarea>
                
                <button onclick="importConfig()" style="width:100%;padding:14px;background:linear-gradient(90deg,#2ecc71,#27ae60);color:white;border:none;border-radius:8px;font-size:15px;font-weight:bold;cursor:pointer;margin:10px 0;">
                    ‚úÖ Á°ÆËÆ§ÂØºÂÖ•
                </button>
                
                <div style="text-align:center;color:#666;font-size:12px;margin:15px 0;">‚Äî ÊàñËÄÖÈÄâÊã©Êñá‰ª∂ ‚Äî</div>
                
                <!-- Êñá‰ª∂ÈÄâÊã© - Âè™Êé•ÂèóÊñáÊú¨Êñá‰ª∂ÔºåÈÅøÂÖçÊòæÁ§∫ÊãçÁÖßÈÄâÈ°π -->
                <input type="file" id="import-file" accept=".txt,.json,text/plain,application/json" style="display:none;" onchange="handleFileSelect(event)">
                <button onclick="document.getElementById('import-file').click()" style="width:100%;padding:12px;background:rgba(255,255,255,0.1);color:#aaa;border:1px solid rgba(255,255,255,0.2);border-radius:8px;font-size:13px;cursor:pointer;">
                    üìÅ ‰ªéÊñá‰ª∂AppÈÄâÊã©
                </button>
                
                <button onclick="hideImportModal()" style="width:100%;padding:12px;background:transparent;color:#666;border:none;font-size:13px;cursor:pointer;margin-top:10px;">
                    ÂèñÊ∂à
                </button>
            </div>
        </div>
        
        <!-- ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó -->
        <!-- ‚ïë          Á≤æÂáÜÁ∫†ÈîôÁâà - ÂèçÈ¶àÈ°µÈù¢ÔºàÁ¥ßÂáëÂàóË°®ËÆæËÆ°Ôºâ                   ‚ïë -->
        <!-- ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù -->
        <div class="page" id="page-feedback">
            <!-- È°∂ÈÉ®Âõ∫ÂÆöÊ†è -->
            <div id="feedback-fixed-header" style="position:sticky;top:0;z-index:100;background:linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);padding:10px 12px;border-bottom:1px solid rgba(255,255,255,0.1);">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;">
                    <button class="btn-back" onclick="showPage('page-main')" style="padding:5px 10px;background:rgba(255,255,255,0.1);border:none;border-radius:5px;color:#fff;font-size:14px;cursor:pointer;">‚Üê ËøîÂõû</button>
                </div>
                
                <!-- üÜï v3.11.24 ÂºÄÂ•ñÂè∑Á†ÅÂå∫ÂüüÔºàÊúüÂè∑Âú®Â∑¶ÔºåÂè∑Á†ÅÁêÉÂú®Âè≥ÔºâÊîØÊåÅÂèåÂºÄÂ•ñ -->
                <div id="fb-lottery-section" style="margin-bottom:8px;">
                    <!-- Âä®ÊÄÅÊ∏≤Êüì -->
                </div>
                
                <div style="display:flex;justify-content:space-between;font-size:12px;color:#aaa;flex-wrap:wrap;gap:4px;">
                    <span>ÊÄªÊäï: <span id="fb-total-bet" style="color:#fff;">0</span>ÂÖÉ</span>
                    <span>‰∏≠<span id="fb-win-count" style="color:#4caf50;">0</span>Ê≥®</span>
                    <span>Ê¥æÂΩ©: <span id="fb-win-amount" style="color:#fbbf24;">0</span>ÂÖÉ</span>
                    <span>Áõà‰∫è: <span id="fb-total-result" style="font-weight:bold;">+0</span></span>
                </div>
            </div>
            
            <!-- ÂàóË°®ÂÆπÂô® -->
            <div id="feedback-list" style="padding:10px;"></div>
            
            <!-- Â∫ïÈÉ®Êèê‰∫§ÊåâÈíÆÔºàÂõ∫ÂÆöÔºâ -->
            <div style="position:sticky;bottom:0;padding:10px 12px;background:linear-gradient(0deg, #1a1a2e 80%, transparent);border-top:1px solid rgba(255,255,255,0.05);">
                <button id="fb-submit-btn" onclick="submitFeedbackNew()" style="width:100%;padding:14px;background:linear-gradient(90deg,#e94560,#c23a51);color:white;border:none;border-radius:10px;font-size:15px;font-weight:bold;cursor:pointer;">
                    üì§ Êèê‰∫§ÈîôËØØÊä•Âëä (Â∑≤ÈÄâ <span id="fb-error-count">0</span> È°π)
                    </button>
                <div style="text-align:center;color:#555;font-size:10px;margin-top:6px;">
                    ‰ªÖÊèê‰∫§Ê†áËÆ∞‰∏∫ÈîôËØØÁöÑÊù°ÁõÆ
                </div>
            </div>
        </div>
        
        <script>
        // ==================== ÂÖ≠ÂêàÂΩ©Êï∞ÊçÆ ====================
        const LHC_DATA = {
            // ÁîüËÇñÂØπÂ∫îÂè∑Á†ÅÔºà2024Âπ¥‰∏∫Âü∫ÂáÜÔºâ
            shengxiao: {
                'Èº†': [6, 18, 30, 42],
                'Áâõ': [5, 17, 29, 41],
                'Ëôé': [4, 16, 28, 40],
                'ÂÖî': [3, 15, 27, 39],
                'Èæô': [2, 14, 26, 38],
                'Ëõá': [1, 13, 25, 37, 49],
                'È©¨': [12, 24, 36, 48],
                'Áæä': [11, 23, 35, 47],
                'Áå¥': [10, 22, 34, 46],
                'È∏°': [9, 21, 33, 45],
                'Áãó': [8, 20, 32, 44],
                'Áå™': [7, 19, 31, 43]
            },
            
            // ‰∫îË°åÂØπÂ∫îÂè∑Á†Å
            wuxing: {
                'Èáë': [3, 4, 11, 12, 25, 26, 33, 34, 41, 42],
                'Êú®': [7, 8, 15, 16, 23, 24, 37, 38, 45, 46],
                'Ê∞¥': [13, 14, 21, 22, 29, 30, 43, 44],
                'ÁÅ´': [1, 2, 9, 10, 17, 18, 31, 32, 39, 40, 47, 48],
                'Âúü': [5, 6, 19, 20, 27, 28, 35, 36, 49]
            },
            
            // Ê≥¢Ëâ≤ÂØπÂ∫îÂè∑Á†Å
            bose: {
                'Á∫¢Ê≥¢': [1, 2, 7, 8, 12, 13, 18, 19, 23, 24, 29, 30, 34, 35, 40, 45, 46],
                'ËìùÊ≥¢': [3, 4, 9, 10, 14, 15, 20, 25, 26, 31, 36, 37, 41, 42, 47, 48],
                'ÁªøÊ≥¢': [5, 6, 11, 16, 17, 21, 22, 27, 28, 32, 33, 38, 39, 43, 44, 49]
            },
            
            // ÂÆ∂Á¶ΩÈáéÂÖΩ
            jiaqin: {
                'ÂÆ∂Á¶Ω': ['Áâõ', 'È©¨', 'Áæä', 'È∏°', 'Áãó', 'Áå™'],
                'ÈáéÂÖΩ': ['Èº†', 'Ëôé', 'ÂÖî', 'Èæô', 'Ëõá', 'Áå¥']
            }
        };
        
        // ==================== Áä∂ÊÄÅÁÆ°ÁêÜ ====================
        let appState = {
            lotteryNumbers: [],  // ÂΩìÂâçÊòæÁ§∫ÁöÑÂºÄÂ•ñÂè∑Á†Å [1,2,3,4,5,6,ÁâπÁ†Å]
            currentLotteryType: 'xam',  // ÂΩìÂâçÈÄâ‰∏≠ÁöÑÂΩ©ÁßçÔºöxam=Êñ∞Êæ≥Èó®, hk=È¶ôÊ∏Ø
            lotteryData: {
                xam: { numbers: [], issue: '', time: '', source: '' },  // Êñ∞Êæ≥Èó®Êï∞ÊçÆ
                hk: { numbers: [], issue: '', time: '', source: '' }    // È¶ôÊ∏ØÊï∞ÊçÆ
            },
            lotteryHistory: {
                xam: [],  // Êñ∞Êæ≥Èó®ÂéÜÂè≤ËÆ∞ÂΩïÔºåÊúÄÂ§ö10Êúü [{numbers, issue, time, source}, ...]
                hk: []    // È¶ôÊ∏ØÂéÜÂè≤ËÆ∞ÂΩïÔºåÊúÄÂ§ö10Êúü
            },
            odds: {
                tema: 43,
                shengxiao: 12,
                red: 2.8,
                blue: 2.8,
                green: 2.8,
                daxiao: 2,
                danshuang: 2
            },
            machineCode: '',
            isActivated: false,
            trialDaysLeft: 7
        };
        
        // ==================== Ë∞ÉËØï‰ø°ÊÅØÂ≠òÂÇ®ÔºàÂÆåÊï¥Êï∞ÊçÆÈìæÊù° v3.2Ôºâ ====================
        let debugInfo = {
            // üìå Á¨¨1-2Ê≠•ÔºöËæìÂÖ•Èò∂ÊÆµ
            originalInput: '',     // Áî®Êà∑ÂéüÂßãËæìÂÖ•
            sanitizedInput: '',    // ‰ª£Âè∑ËΩ¨Êç¢ÂêéÁöÑËæìÂÖ•ÔºàZ‰ª£Âè∑Ê†ºÂºèÔºâ
            normalizeInfo: '',     // ËßÑËåÉÂåñ‰ø°ÊÅØ
            
            // üìå Á¨¨3Ê≠•ÔºöAI/Ê≠£ÂàôÈò∂ÊÆµ
            aiInput: '',           // ÂèëÈÄÅÁªôAIÁöÑÂÜÖÂÆπ
            aiOutput: '',          // AIÂéüÂßãËæìÂá∫
            aiParsed: null,        // AIËß£ÊûêÂêéÁöÑJSON
            modelUsed: '',         // ‰ΩøÁî®ÁöÑÊ®°Âûã: regex / deepseek / zhipu...
            latencyMs: 0,          // AIÂìçÂ∫îËÄóÊó∂(ÊØ´Áßí)
            
            // üìå Á¨¨4Ê≠•ÔºöÂêéÁ´ØËØÜÂà´ÁªìÊûúÔºàüÜï v3.1 Êñ∞Â¢ûÔºâ
            extractItems: [],      // Ê≠£Âàô/AI ËØÜÂà´ÁöÑÊØèÊù°ËØ¶ÊÉÖ [{code,zodiac,nums,amt,raw}]
            
            // üìå Á¨¨5Ê≠•ÔºöÂêéÁ´ØËÆ°ÁÆóÁªìÊûúÔºàüÜï v3.1 Êñ∞Â¢ûÔºâ
            calcInputCount: 0,     // ËØÜÂà´Êù°Êï∞ÔºàËæìÂÖ•Ôºâ
            calcOutputCount: 0,    // Â±ïÂºÄÂêéÊù°Êï∞ÔºàËæìÂá∫Ôºâ‚≠êÂÖ≥ÈîÆÔºÅSXTMÂ∫îÂ±ïÂºÄ‰∏∫4Êù°
            calcItems: [],         // ËÆ°ÁÆóÂêéÊØèÊù°ËØ¶ÊÉÖ [{code,n,a,z,w,v,r,idx}]
            calcS1: 0,             // ÊÄªÊäïÂÖ•
            calcS2: 0,             // ÂëΩ‰∏≠Êï∞
            calcS3: 0,             // ÂëΩ‰∏≠ÈáëÈ¢ù
            calcS4: 0,             // ÁªìÁÆó
            backendVersion: '',    // üÜï v3.2.1 ÂêéÁ´ØÁâàÊú¨
            
            // üìå ÁΩëÁªúËØäÊñ≠
            requestMode: '',       // ËØ∑Ê±ÇÊ®°Âºè
            targetUrl: '',         // ÁõÆÊ†áÂú∞ÂùÄ
            networkError: '',      // ÁΩëÁªúÈîôËØØ
            rawResponse: '',       // ÂéüÂßãÂìçÂ∫î
            
            // üìå Ëß£ÊûêÁªìÊûú
            aiBets: [],            // AIËØÜÂà´ÁöÑ‰∏ãÊ≥®ÂàóË°®
            localBets: [],         // Êú¨Âú∞Ëß£ÊûêÁöÑ‰∏ãÊ≥®ÂàóË°®
            
            // üìå ÈîôËØØ‰ø°ÊÅØ
            lastError: ''          // ÊúÄÂêé‰∏ÄÊ¨°ÈîôËØØ
        };
        
        // ÊòæÁ§∫AIËØÜÂà´ËØ¶ÊÉÖ
        function showAIDebug() {
            let content = `<div style="max-height:70vh;overflow:auto;font-size:13px;line-height:1.6;">`;
            content += `<h3 style="color:#9b59b6;margin:0 0 10px;">ü§ñ AIËØÜÂà´ËØ¶ÊÉÖ</h3>`;
            
            if (debugInfo.lastError) {
                content += `<div style="background:#c0392b;padding:10px;border-radius:6px;margin-bottom:10px;">
                    <strong>‚ùå ÈîôËØØÔºö</strong>${debugInfo.lastError}
                </div>`;
            }
            
            // ÊòæÁ§∫ÁΩëÁªúËØäÊñ≠‰ø°ÊÅØ
            if (debugInfo.requestMode || debugInfo.networkError) {
                content += `<div style="background:rgba(52,152,219,0.3);padding:10px;border-radius:6px;margin-bottom:10px;">
                    <strong>üåê ÁΩëÁªúËØäÊñ≠Ôºö</strong><br>
                    <small>ËØ∑Ê±ÇÊ®°Âºè: ${debugInfo.requestMode || 'Êú™Áü•'}</small><br>
                    <small>ÁõÆÊ†áÂú∞ÂùÄ: ${(debugInfo.targetUrl || '').substring(0, 50)}...</small>`;
                if (debugInfo.networkError) {
                    content += `<br><span style="color:#e74c3c;"><strong>‚ö†Ô∏è ${debugInfo.networkError}</strong></span>`;
                }
                if (debugInfo.rawResponse && !debugInfo.aiOutput) {
                    content += `<br><small style="color:#95a5a6;">ÂéüÂßãÂìçÂ∫î: ${(debugInfo.rawResponse || '').substring(0, 100)}...</small>`;
                }
                content += `</div>`;
            }
            
            // ÊòæÁ§∫Â≠óÁ¨¶ËßÑËåÉÂåñ‰ø°ÊÅØÔºàËØäÊñ≠ÊâãÊú∫ËæìÂÖ•ÈóÆÈ¢òÔºâ
            if (debugInfo.normalizeInfo) {
                content += `<div style="background:rgba(241,196,15,0.3);padding:10px;border-radius:6px;margin-bottom:10px;">
                    <strong>üì± Â≠óÁ¨¶ËßÑËåÉÂåñÔºö</strong>${debugInfo.normalizeInfo}
                    <br><small style="color:#f1c40f;">ÔºàÊ£ÄÊµãÂà∞ÁâπÊÆäÂ≠óÁ¨¶ÔºåÂ∑≤Ëá™Âä®ËΩ¨Êç¢Ôºâ</small>
                </div>`;
            }
            
            content += `<div style="background:rgba(155,89,182,0.2);padding:10px;border-radius:6px;margin-bottom:10px;">
                <strong>üì§ AIËæìÂÖ•ÔºàÁî®Êà∑ÂéüÊñáÔºâÔºö</strong><br>
                <pre style="white-space:pre-wrap;margin:5px 0;background:rgba(0,0,0,0.3);padding:8px;border-radius:4px;">${debugInfo.aiInput || 'Êó†'}</pre>
            </div>`;
            
            content += `<div style="background:rgba(155,89,182,0.2);padding:10px;border-radius:6px;margin-bottom:10px;">
                <strong>üì• AIÂéüÂßãËæìÂá∫Ôºö</strong><br>
                <pre style="white-space:pre-wrap;margin:5px 0;background:rgba(0,0,0,0.3);padding:8px;border-radius:4px;max-height:200px;overflow:auto;">${debugInfo.aiOutput || 'Êó†'}</pre>
            </div>`;
            
            content += `<div style="background:rgba(155,89,182,0.2);padding:10px;border-radius:6px;margin-bottom:10px;">
                <strong>üîç AIËØÜÂà´ÁªìÊûúÔºö</strong><br>`;
            if (debugInfo.aiParsed && debugInfo.aiParsed.items) {
                content += `<table style="width:100%;border-collapse:collapse;margin-top:8px;">
                    <tr style="background:rgba(0,0,0,0.3);"><th style="padding:6px;border:1px solid #555;">ÂéüÊñá</th><th style="padding:6px;border:1px solid #555;">AIËØÜÂà´Á±ªÂûã</th></tr>`;
                for (const item of debugInfo.aiParsed.items) {
                    content += `<tr><td style="padding:6px;border:1px solid #555;">${item.raw || ''}</td><td style="padding:6px;border:1px solid #555;color:#9b59b6;font-weight:bold;">${item.type || ''}</td></tr>`;
                }
                content += `</table>`;
            } else {
                content += `<span style="color:#888;">Êó†ËØÜÂà´ÁªìÊûú</span>`;
            }
            content += `</div>`;
            
            content += `<div style="background:rgba(155,89,182,0.2);padding:10px;border-radius:6px;">
                <strong>üìä ÊúÄÁªàÊèêÂèñÁöÑ‰∏ãÊ≥®Ôºà${debugInfo.aiBets.length}Êù°ÔºâÔºö</strong><br>`;
            if (debugInfo.aiBets.length > 0) {
                content += `<pre style="white-space:pre-wrap;margin:5px 0;background:rgba(0,0,0,0.3);padding:8px;border-radius:4px;max-height:200px;overflow:auto;">${JSON.stringify(debugInfo.aiBets, null, 2)}</pre>`;
            } else {
                content += `<span style="color:#888;">Êó†</span>`;
            }
            content += `</div></div>`;
            
            showDebugModal('ü§ñ AIËØÜÂà´ËØ¶ÊÉÖ', content);
        }
        
        // ÊòæÁ§∫Á®ãÂ∫èËØÜÂà´ËØ¶ÊÉÖ
        function showLocalDebug() {
            const input = document.getElementById('bet-input').value.trim();
            
            // ÈáçÊñ∞ÊâßË°åÊú¨Âú∞Ëß£Êûê
            const localBets = parseBetInput(input);
            debugInfo.localBets = localBets;
            
            let content = `<div style="max-height:70vh;overflow:auto;font-size:13px;line-height:1.6;">`;
            content += `<h3 style="color:#27ae60;margin:0 0 10px;">üìã Á®ãÂ∫èÊú¨Âú∞ËØÜÂà´ËØ¶ÊÉÖ</h3>`;
            
            content += `<div style="background:rgba(39,174,96,0.2);padding:10px;border-radius:6px;margin-bottom:10px;">
                <strong>üì§ ËæìÂÖ•ÔºàÁî®Êà∑ÂéüÊñáÔºâÔºö</strong><br>
                <pre style="white-space:pre-wrap;margin:5px 0;background:rgba(0,0,0,0.3);padding:8px;border-radius:4px;">${input || 'Êó†'}</pre>
            </div>`;
            
            content += `<div style="background:rgba(39,174,96,0.2);padding:10px;border-radius:6px;margin-bottom:10px;">
                <strong>üîç ÈÄêË°åËØÜÂà´ÁªìÊûúÔºö</strong><br>`;
            const lines = input.split('\n').filter(l => l.trim());
            if (lines.length > 0) {
                content += `<table style="width:100%;border-collapse:collapse;margin-top:8px;">
                    <tr style="background:rgba(0,0,0,0.3);"><th style="padding:6px;border:1px solid #555;">ÂéüÊñá</th><th style="padding:6px;border:1px solid #555;">Á®ãÂ∫èËØÜÂà´Á±ªÂûã</th></tr>`;
                for (const line of lines) {
                    const lineBets = parseBetLine(line.trim());
                    const types = lineBets.map(b => b.type).join(', ') || 'Êú™ËØÜÂà´';
                    content += `<tr><td style="padding:6px;border:1px solid #555;">${line}</td><td style="padding:6px;border:1px solid #555;color:#27ae60;font-weight:bold;">${types}</td></tr>`;
                }
                content += `</table>`;
            } else {
                content += `<span style="color:#888;">Êó†ËæìÂÖ•</span>`;
            }
            content += `</div>`;
            
            content += `<div style="background:rgba(39,174,96,0.2);padding:10px;border-radius:6px;">
                <strong>üìä ÊúÄÁªàÊèêÂèñÁöÑ‰∏ãÊ≥®Ôºà${localBets.length}Êù°ÔºâÔºö</strong><br>`;
            if (localBets.length > 0) {
                content += `<pre style="white-space:pre-wrap;margin:5px 0;background:rgba(0,0,0,0.3);padding:8px;border-radius:4px;max-height:200px;overflow:auto;">${JSON.stringify(localBets, null, 2)}</pre>`;
            } else {
                content += `<span style="color:#888;">Êó†</span>`;
            }
            content += `</div></div>`;
            
            showDebugModal('üìã Á®ãÂ∫èËØÜÂà´ËØ¶ÊÉÖ', content);
        }
        
        // üÜï v3.11.44 ÊòæÁ§∫Ë∞ÉËØïÈù¢ÊùøÔºàÂêàÂπ∂AI+Á®ãÂ∫èÔºåÊîØÊåÅTabÂàáÊç¢Ôºâ
        function showDebugPanel() {
            // ÁßªÈô§Â∑≤ÊúâÂºπÁ™ó
            const existing = document.getElementById('debug-modal');
            if (existing) existing.remove();
            
            const input = document.getElementById('bet-input').value.trim();
            
            // ÈáçÊñ∞ÊâßË°åÊú¨Âú∞Ëß£Êûê
            const localBets = parseBetInput(input);
            debugInfo.localBets = localBets;
            
            const modal = document.createElement('div');
            modal.id = 'debug-modal';
            modal.innerHTML = `
                <div style="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);z-index:99999;display:flex;justify-content:center;align-items:center;padding:15px;">
                    <div style="background:#1a1a2e;border-radius:12px;max-width:600px;width:100%;max-height:90vh;overflow:hidden;box-shadow:0 10px 40px rgba(0,0,0,0.5);display:flex;flex-direction:column;">
                        <!-- Ê†áÈ¢òÊ†è -->
                        <div style="display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:rgba(0,0,0,0.3);border-bottom:1px solid rgba(255,255,255,0.1);">
                            <span style="font-weight:bold;font-size:15px;">üîç ËØÜÂà´ËØ¶ÊÉÖ</span>
                            <button onclick="document.getElementById('debug-modal').remove()" style="background:none;border:none;color:white;font-size:22px;cursor:pointer;padding:0 5px;line-height:1;">√ó</button>
                        </div>
                        
                        <!-- TabÂàáÊç¢ -->
                        <div style="display:flex;border-bottom:1px solid rgba(255,255,255,0.1);">
                            <button class="debug-tab active" onclick="switchDebugTab('ai', this)" id="debug-tab-ai">ü§ñ AIËØÜÂà´</button>
                            <button class="debug-tab" onclick="switchDebugTab('local', this)" id="debug-tab-local">üìã Á®ãÂ∫èËØÜÂà´</button>
                        </div>
                        
                        <!-- ÂÜÖÂÆπÂå∫Âüü -->
                        <div style="flex:1;overflow:auto;max-height:calc(90vh - 110px);">
                            <!-- AIËØÜÂà´ÂÜÖÂÆπ -->
                            <div id="debug-content-ai" style="padding:16px;font-size:13px;line-height:1.6;">
                                ${generateAIDebugContent()}
                            </div>
                            <!-- Á®ãÂ∫èËØÜÂà´ÂÜÖÂÆπ -->
                            <div id="debug-content-local" style="padding:16px;font-size:13px;line-height:1.6;display:none;">
                                ${generateLocalDebugContent(input, localBets)}
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        // TabÂàáÊç¢ÂáΩÊï∞
        function switchDebugTab(tab, btn) {
            // Êõ¥Êñ∞TabÊ†∑Âºè
            document.querySelectorAll('.debug-tab').forEach(t => t.classList.remove('active'));
            btn.classList.add('active');
            
            // ÂàáÊç¢ÂÜÖÂÆπ
            document.getElementById('debug-content-ai').style.display = tab === 'ai' ? 'block' : 'none';
            document.getElementById('debug-content-local').style.display = tab === 'local' ? 'block' : 'none';
        }
        
        // ÁîüÊàêAIË∞ÉËØïÂÜÖÂÆπ
        function generateAIDebugContent() {
            let content = '';
            
            if (debugInfo.lastError) {
                content += `<div style="background:#c0392b;padding:10px;border-radius:6px;margin-bottom:10px;">
                    <strong>‚ùå ÈîôËØØ‰ø°ÊÅØÔºö</strong><br>${debugInfo.lastError}
                </div>`;
            }
            
            content += `<div style="background:rgba(155,89,182,0.2);padding:10px;border-radius:6px;margin-bottom:10px;">
                <strong>üì§ ËæìÂÖ•ÔºàÁî®Êà∑ÂéüÊñáÔºâÔºö</strong><br>
                <pre style="white-space:pre-wrap;margin:5px 0;background:rgba(0,0,0,0.3);padding:8px;border-radius:4px;max-height:120px;overflow:auto;">${debugInfo.sanitizedInput || 'Êó†'}</pre>
            </div>`;
            
            content += `<div style="background:rgba(155,89,182,0.2);padding:10px;border-radius:6px;margin-bottom:10px;">
                <strong>üì• AIÂéüÂßãËæìÂá∫Ôºö</strong><br>
                <pre style="white-space:pre-wrap;margin:5px 0;background:rgba(0,0,0,0.3);padding:8px;border-radius:4px;max-height:120px;overflow:auto;">${debugInfo.aiRaw || 'Êó†'}</pre>
            </div>`;
            
            content += `<div style="background:rgba(155,89,182,0.2);padding:10px;border-radius:6px;margin-bottom:10px;">
                <strong>üîç AIËØÜÂà´ÁªìÊûúÔºö</strong><br>`;
            if (debugInfo.aiParsed && debugInfo.aiParsed.items) {
                content += `<table style="width:100%;border-collapse:collapse;margin-top:8px;">
                    <tr style="background:rgba(0,0,0,0.3);"><th style="padding:6px;border:1px solid #555;text-align:left;">ÂéüÊñá</th><th style="padding:6px;border:1px solid #555;">Á±ªÂûã</th></tr>`;
                for (const item of debugInfo.aiParsed.items) {
                    content += `<tr><td style="padding:6px;border:1px solid #555;font-size:12px;">${item.raw || ''}</td><td style="padding:6px;border:1px solid #555;color:#9b59b6;font-weight:bold;">${item.type || ''}</td></tr>`;
                }
                content += `</table>`;
            } else {
                content += `<span style="color:#888;">Êó†ËØÜÂà´ÁªìÊûú</span>`;
            }
            content += `</div>`;
            
            content += `<div style="background:rgba(155,89,182,0.2);padding:10px;border-radius:6px;">
                <strong>üìä ÊúÄÁªà‰∏ãÊ≥®Ôºà${debugInfo.aiBets?.length || 0}Êù°ÔºâÔºö</strong><br>`;
            if (debugInfo.aiBets && debugInfo.aiBets.length > 0) {
                content += `<pre style="white-space:pre-wrap;margin:5px 0;background:rgba(0,0,0,0.3);padding:8px;border-radius:4px;max-height:150px;overflow:auto;font-size:11px;">${JSON.stringify(debugInfo.aiBets, null, 2)}</pre>`;
            } else {
                content += `<span style="color:#888;">Êó†</span>`;
            }
            content += `</div>`;
            
            return content;
        }
        
        // ÁîüÊàêÁ®ãÂ∫èË∞ÉËØïÂÜÖÂÆπ
        function generateLocalDebugContent(input, localBets) {
            let content = '';
            
            content += `<div style="background:rgba(39,174,96,0.2);padding:10px;border-radius:6px;margin-bottom:10px;">
                <strong>üì§ ËæìÂÖ•ÔºàÁî®Êà∑ÂéüÊñáÔºâÔºö</strong><br>
                <pre style="white-space:pre-wrap;margin:5px 0;background:rgba(0,0,0,0.3);padding:8px;border-radius:4px;max-height:120px;overflow:auto;">${input || 'Êó†'}</pre>
            </div>`;
            
            content += `<div style="background:rgba(39,174,96,0.2);padding:10px;border-radius:6px;margin-bottom:10px;">
                <strong>üîç ÈÄêË°åËØÜÂà´ÁªìÊûúÔºö</strong><br>`;
            const lines = input.split('\n').filter(l => l.trim());
            if (lines.length > 0) {
                content += `<table style="width:100%;border-collapse:collapse;margin-top:8px;">
                    <tr style="background:rgba(0,0,0,0.3);"><th style="padding:6px;border:1px solid #555;text-align:left;">ÂéüÊñá</th><th style="padding:6px;border:1px solid #555;">Á±ªÂûã</th></tr>`;
                for (const line of lines) {
                    const lineBets = parseBetLine(line.trim());
                    const types = lineBets.map(b => b.type).join(', ') || 'Êú™ËØÜÂà´';
                    content += `<tr><td style="padding:6px;border:1px solid #555;font-size:12px;">${line}</td><td style="padding:6px;border:1px solid #555;color:#27ae60;font-weight:bold;">${types}</td></tr>`;
                }
                content += `</table>`;
            } else {
                content += `<span style="color:#888;">Êó†ËæìÂÖ•</span>`;
            }
            content += `</div>`;
            
            content += `<div style="background:rgba(39,174,96,0.2);padding:10px;border-radius:6px;">
                <strong>üìä ÊúÄÁªà‰∏ãÊ≥®Ôºà${localBets.length}Êù°ÔºâÔºö</strong><br>`;
            if (localBets.length > 0) {
                content += `<pre style="white-space:pre-wrap;margin:5px 0;background:rgba(0,0,0,0.3);padding:8px;border-radius:4px;max-height:150px;overflow:auto;font-size:11px;">${JSON.stringify(localBets, null, 2)}</pre>`;
            } else {
                content += `<span style="color:#888;">Êó†</span>`;
            }
            content += `</div>`;
            
            return content;
        }
        
        // ÊòæÁ§∫Ë∞ÉËØïÂºπÁ™óÔºà‰øùÁïôÂéüÂáΩÊï∞Áî®‰∫éÂÖºÂÆπÔºâ
        function showDebugModal(title, content) {
            // ÁßªÈô§Â∑≤ÊúâÂºπÁ™ó
            const existing = document.getElementById('debug-modal');
            if (existing) existing.remove();
            
            const modal = document.createElement('div');
            modal.id = 'debug-modal';
            modal.innerHTML = `
                <div style="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.8);z-index:99999;display:flex;justify-content:center;align-items:center;padding:20px;">
                    <div style="background:#1a1a2e;border-radius:12px;max-width:600px;width:100%;max-height:90vh;overflow:hidden;box-shadow:0 10px 40px rgba(0,0,0,0.5);">
                        <div style="display:flex;justify-content:space-between;align-items:center;padding:15px 20px;background:rgba(0,0,0,0.3);border-bottom:1px solid rgba(255,255,255,0.1);">
                            <span style="font-weight:bold;font-size:16px;">${title}</span>
                            <button onclick="document.getElementById('debug-modal').remove()" style="background:none;border:none;color:white;font-size:24px;cursor:pointer;padding:0 5px;">√ó</button>
                        </div>
                        <div style="padding:20px;overflow:auto;max-height:calc(90vh - 60px);">
                            ${content}
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        // ==================== ÂàùÂßãÂåñ ====================
        async function init() {
            console.log('üöÄ [init] Â∫îÁî®ÂàùÂßãÂåñÂºÄÂßã...');
            console.log('üìç [init] ÂΩìÂâçURL:', window.location.href);
            console.log('‚è∞ [init] ÂàùÂßãÂåñÊó∂Èó¥:', new Date().toLocaleString('zh-CN'));
            
            try {
                // ÁîüÊàêÊú∫Âô®Á†Å
                console.log('üîë [init] ÁîüÊàêÊú∫Âô®Á†Å...');
                appState.machineCode = await generateMachineCode();
                document.getElementById('machine-code').textContent = appState.machineCode;
                console.log('‚úÖ [init] Êú∫Âô®Á†ÅÁîüÊàêÂÆåÊàê:', appState.machineCode);
                
                // Âä†ËΩΩ‰øùÂ≠òÁöÑÈÖçÁΩÆ
                console.log('üìÇ [init] Âä†ËΩΩÊú¨Âú∞ÈÖçÁΩÆ...');
                loadConfig();
                console.log('‚úÖ [init] ÈÖçÁΩÆÂä†ËΩΩÂÆåÊàê');
                
                // ÊÅ¢Â§çAIÊ®°ÂûãÈÄâÊã©
                const savedAIProvider = localStorage.getItem('ai_provider') || 'openrouter';
                switchAIModel(savedAIProvider);
                console.log('ü§ñ [init] AIÊ®°Âûã:', savedAIProvider);
                
                // Á°Æ‰øùÈªòËÆ§ÂΩ©Áßç‰∏∫Êñ∞Êæ≥Èó®
                if (!appState.currentLotteryType) {
                    appState.currentLotteryType = 'xam';
                }
                console.log('üéØ [init] ÂΩìÂâçÂΩ©Áßç:', appState.currentLotteryType);
                
                // Âä†ËΩΩËµîÁéáËÆæÁΩÆ
                console.log('üí∞ [init] Âä†ËΩΩËµîÁéáËÆæÁΩÆ...');
                loadOddsFromStorage();
                
                // Ê£ÄÊü•ÊøÄÊ¥ªÁä∂ÊÄÅ
                console.log('üîê [init] Ê£ÄÊü•ÊøÄÊ¥ªÁä∂ÊÄÅ...');
                checkLicense();
                console.log('‚úÖ [init] ÊøÄÊ¥ªÁä∂ÊÄÅ:', appState.isActivated ? 'Â∑≤ÊøÄÊ¥ª' : 'Êú™ÊøÄÊ¥ª');
                
                // Ê∏≤ÊüìÂèÇÁÖßË°®
                renderReferenceTables();
                
                // Êõ¥Êñ∞ÊòæÁ§∫
                updateDisplay();
                
                // Êõ¥Êñ∞ÂàáÊç¢ÊåâÈíÆÁä∂ÊÄÅ
                updateSwitchButtons();
                
                // Â¶ÇÊûúÊ≤°ÊúâÊï∞ÊçÆÔºåÂ∞ùËØïËá™Âä®Ëé∑ÂèñÔºà‰∏çÈòªÂ°ûÔºâ
                console.log('üîÑ [init] ÂºÄÂßãËá™Âä®Ëé∑ÂèñÊï∞ÊçÆ...');
                tryAutoFetchOnce();
                
                // Ëá™Âä®Ëé∑ÂèñÂéÜÂè≤ËÆ∞ÂΩïÔºàÊñ∞Êæ≥Èó®ÂíåÈ¶ôÊ∏ØÂêåÊ≠•Êõ¥Êñ∞10Êù°Ôºâ
                console.log('üìú [init] Ëá™Âä®Ëé∑ÂèñÂéÜÂè≤ÂºÄÂ•ñËÆ∞ÂΩï...');
                fetchHistoryData().then(() => {
                    console.log('‚úÖ [init] ÂéÜÂè≤ËÆ∞ÂΩïËé∑ÂèñÂÆåÊàê');
                }).catch(err => {
                    console.warn('‚ö†Ô∏è [init] ÂéÜÂè≤ËÆ∞ÂΩïËé∑ÂèñÂ§±Ë¥•:', err);
                });
                
                // ÂêØÂä®ÂºÄÂ•ñÊó∂ÊÆµËá™Âä®Âà∑Êñ∞
                startLiveRefresh();
                
                console.log('‚úÖ [init] Â∫îÁî®ÂàùÂßãÂåñÂÆåÊàêÔºÅ');
            } catch (error) {
                console.error('‚ùå [init] ÂàùÂßãÂåñÂá∫Èîô:', error);
            }
        }
        
        // ==================== ÂºÄÂ•ñÊó∂ÊÆµËá™Âä®Âà∑Êñ∞ÔºàÁõ¥Êí≠ÊïàÊûúÔºâ ====================
        let liveRefreshInterval = null;
        let checkLiveInterval = null;
        // üÜï v3.11.22 ËÆ∞ÂΩï‰∏äÊ¨°ÂºÄÂ•ñÂè∑Á†ÅÔºåÁî®‰∫éÂà§Êñ≠Âè∑Á†ÅÊòØÂê¶ÂèòÂåñ
        let lastLotteryNumbersStr = '';
        let liveAnimationStopped = false;  // Ê†áËÆ∞Âä®ÁîªÊòØÂê¶Â∑≤ÂÅúÊ≠¢ÔºàÂè∑Á†ÅÂÆåÊï¥ÂêéÔºâ
        
        // Ê£ÄÊü•ÊòØÂê¶Âú®ÂºÄÂ•ñÊó∂ÊÆµÔºà21:29 - 21:40Ôºâ
        function isLiveTime() {
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes();
            // 21:29 Âà∞ 21:40
            if (hours === 21 && minutes >= 29 && minutes <= 40) {
                return true;
            }
            return false;
        }
        
        // üÜï v3.11.22 Ê£ÄÊü•Âè∑Á†ÅÊòØÂê¶ÂÆåÊï¥Ôºà7‰∏™ÊúâÊïàÂè∑Á†ÅÔºâ
        function isLotteryNumbersComplete(numbers) {
            if (!numbers || numbers.length !== 7) return false;
            // Ê£ÄÊü•ÊâÄÊúâÂè∑Á†ÅÈÉΩÊòØÊúâÊïàÁöÑÔºà1-49Ôºâ
            return numbers.every(n => n >= 1 && n <= 49);
        }
        
        // üÜï v3.11.22 Ê£ÄÊü•Âè∑Á†ÅÊòØÂê¶ÊúâÂèòÂåñ
        function hasLotteryNumbersChanged(numbers) {
            const currentStr = numbers ? numbers.join(',') : '';
            const changed = currentStr !== lastLotteryNumbersStr;
            lastLotteryNumbersStr = currentStr;
            return changed;
        }
        
        // ÂêØÂä®ÂºÄÂ•ñÊó∂ÊÆµËá™Âä®Âà∑Êñ∞ÔºàÂèÇËÄÉ index2.htmlÔºöÂºÄÂ•ñÊó∂ÊÆµÊØè5ÁßíÂà∑Êñ∞Ôºâ
        function startLiveRefresh() {
            // ÊØèÂàÜÈíüÊ£ÄÊü•ÊòØÂê¶ËøõÂÖ•ÂºÄÂ•ñÊó∂ÊÆµ
            checkLiveInterval = setInterval(() => {
                if (isLiveTime()) {
                    // ËøõÂÖ•ÂºÄÂ•ñÊó∂ÊÆµÔºåÂºÄÂßãÈ´òÈ¢ëÂà∑Êñ∞
                    if (!liveRefreshInterval) {
                        console.log('üì° ËøõÂÖ•ÂºÄÂ•ñÊó∂ÊÆµÔºåÂºÄÂßãÊØè5ÁßíËá™Âä®Âà∑Êñ∞...');
                        showLiveToast('üì° ÂºÄÂ•ñÁõ¥Êí≠Ê®°ÂºèÂ∑≤ÂºÄÂêØ');
                        // üÜï ÈáçÁΩÆÁä∂ÊÄÅ
                        lastLotteryNumbersStr = '';
                        liveAnimationStopped = false;
                        liveRefreshInterval = setInterval(async () => {
                            await doLiveRefresh();
                        }, 5000); // ÊØè5ÁßíÂà∑Êñ∞‰∏ÄÊ¨°Ôºà‰∏éindex2.html‰∏ÄËá¥Ôºâ
                    }
                } else {
                    // ÈÄÄÂá∫ÂºÄÂ•ñÊó∂ÊÆµÔºåÂÅúÊ≠¢È´òÈ¢ëÂà∑Êñ∞
                    if (liveRefreshInterval) {
                        console.log('‚èπÔ∏è ÂºÄÂ•ñÊó∂ÊÆµÁªìÊùüÔºåÂÅúÊ≠¢Ëá™Âä®Âà∑Êñ∞');
                        clearInterval(liveRefreshInterval);
                        liveRefreshInterval = null;
                        // üÜï ÈáçÁΩÆÁä∂ÊÄÅ
                        lastLotteryNumbersStr = '';
                        liveAnimationStopped = false;
                    }
                }
            }, 60000); // ÊØèÂàÜÈíüÊ£ÄÊü•‰∏ÄÊ¨°
            
            // Á´ãÂç≥Ê£ÄÊü•‰∏ÄÊ¨°
            if (isLiveTime() && !liveRefreshInterval) {
                console.log('üì° ÂΩìÂâçÂú®ÂºÄÂ•ñÊó∂ÊÆµÔºåÂºÄÂßãËá™Âä®Âà∑Êñ∞...');
                showLiveToast('üì° ÂºÄÂ•ñÁõ¥Êí≠Ê®°ÂºèÂ∑≤ÂºÄÂêØ');
                // üÜï ÈáçÁΩÆÁä∂ÊÄÅ
                lastLotteryNumbersStr = '';
                liveAnimationStopped = false;
                liveRefreshInterval = setInterval(async () => {
                    await doLiveRefresh();
                }, 5000); // ÊØè5ÁßíÂà∑Êñ∞‰∏ÄÊ¨°
            }
        }
        
        // üÜï v3.11.22 Áõ¥Êí≠Âà∑Êñ∞Ê†∏ÂøÉÈÄªËæë
        async function doLiveRefresh() {
            try {
                // ÂÖàËÆ∞ÂΩïÂΩìÂâçÂè∑Á†ÅÂ≠óÁ¨¶‰∏≤ÔºàÁî®‰∫éÊØîËæÉÔºâ
                const oldNumbersStr = (appState.lotteryNumbers || []).join(',');
                
                // Ëé∑ÂèñÂâçÂÖàÁ¶ÅÁî®Âä®ÁîªÔºåËÆ© fetchAllLotteryData ÂÜÖÈÉ®ÁöÑÊ∏≤Êüì‰∏çÂ∏¶Âä®Áîª
                window.isLiveAnimationEnabled = false;
                
                // Ëé∑ÂèñÊúÄÊñ∞Êï∞ÊçÆÔºàÂÜÖÈÉ®‰ºöÊ∏≤Êüì‰∏ÄÊ¨°Ôºå‰ΩÜ‰∏çÂ∏¶Âä®ÁîªÔºâ
                await fetchAllLotteryData();
                
                const newNumbers = appState.lotteryNumbers;
                const newNumbersStr = (newNumbers || []).join(',');
                const isComplete = isLotteryNumbersComplete(newNumbers);
                const hasChanged = newNumbersStr !== oldNumbersStr;
                
                // Êõ¥Êñ∞ËÆ∞ÂΩï
                lastLotteryNumbersStr = newNumbersStr;
                
                // Âà§Êñ≠ÊòØÂê¶Â∫îËØ•Êí≠ÊîæÂä®Áîª
                if (isComplete && !hasChanged && lastLotteryNumbersStr === newNumbersStr) {
                    // Âè∑Á†ÅÂÆåÊï¥‰∏îÊú™ÂèòÂåñ ‚Üí Â∑≤ÁªèÂºÄÂÆåÔºåÂÅúÊ≠¢Âä®Áîª
                    if (!liveAnimationStopped) {
                        console.log('‚úÖ ÂºÄÂ•ñÂè∑Á†ÅÂ∑≤ÂÖ®ÈÉ®ÂºÄÂá∫ÔºåÂÅúÊ≠¢Âä®ÁîªÊïàÊûú');
                        showLiveToast('‚úÖ ÂºÄÂ•ñÂÆåÊàê');
                        liveAnimationStopped = true;
                    }
                    // ‰∏çÈúÄË¶ÅÈáçÊñ∞Ê∏≤ÊüìÔºåÂ∑≤ÁªèÂú® fetchAllLotteryData ‰∏≠Ê∏≤ÊüìËøá‰∫Ü
                } else if (hasChanged) {
                    // Âè∑Á†ÅÊúâÂèòÂåñ ‚Üí Êí≠ÊîæÂä®Áîª
                    console.log('üîÑ Âè∑Á†ÅÊúâÊõ¥Êñ∞ÔºåÊí≠ÊîæÂä®Áîª', oldNumbersStr, '‚Üí', newNumbersStr);
                    window.isLiveAnimationEnabled = true;
                    liveAnimationStopped = false;
                    // ÈáçÊñ∞Ê∏≤Êüì‰ª•ÊòæÁ§∫Âä®Áîª
                    renderLotteryBalls();
                    // Ê∏≤ÊüìÂÆåÂêéÈáçÁΩÆÊ†áÂøó
                    window.isLiveAnimationEnabled = false;
                }
                // else: Âè∑Á†ÅÊú™ÂèòÂåñ‰ΩÜ‰∏çÂÆåÊï¥ÔºàÁ≠âÂæÖ‰∏≠Ôºâ‚Üí Â∑≤ÁªèÊ∏≤ÊüìËøá‰∫ÜÔºå‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÊìç‰Ωú
            } catch (e) {
                console.log('Áõ¥Êí≠Âà∑Êñ∞Â§±Ë¥•', e);
            }
        }
        
        // ÊòæÁ§∫Áõ¥Êí≠ÊèêÁ§∫
        function showLiveToast(msg) {
            const toast = document.createElement('div');
            toast.innerHTML = msg;
            toast.style.cssText = 'position:fixed;top:20%;left:50%;transform:translateX(-50%);background:linear-gradient(90deg,#e94560,#c23a51);color:white;padding:12px 20px;border-radius:8px;font-size:13px;z-index:9999;box-shadow:0 4px 15px rgba(233,69,96,0.4);';
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }
        
        
        // ‰ªé data.json Âä†ËΩΩÈ¢ÑËé∑ÂèñÁöÑÊï∞ÊçÆÔºàGitHub Actions ÊñπÊ°àÔºâ
        async function loadDataFromJSON() {
            console.log('üîÑ [loadDataFromJSON] ÂºÄÂßã‰ªé data.json Âä†ËΩΩÊï∞ÊçÆ...');
            try {
                const url = './data.json?t=' + Date.now();
                console.log('üì° [loadDataFromJSON] ËØ∑Ê±ÇURL:', url);
                
                const response = await fetch(url);
                console.log('üì• [loadDataFromJSON] ÂìçÂ∫îÁä∂ÊÄÅ:', response.status, response.statusText);
                
                if (!response.ok) {
                    console.warn('‚ö†Ô∏è [loadDataFromJSON] ÂìçÂ∫î‰∏çOKÔºåËøîÂõûfalse');
                    return false;
                }
                
                const data = await response.json();
                console.log('üìä [loadDataFromJSON] Ëé∑ÂèñÂà∞ÁöÑÊï∞ÊçÆ:', JSON.stringify(data, null, 2));
                
                if (!data) {
                    console.warn('‚ö†Ô∏è [loadDataFromJSON] Êï∞ÊçÆ‰∏∫Á©∫ÔºåËøîÂõûfalse');
                    return false;
                }
                
                let loaded = false;
                
                // Âä†ËΩΩÊñ∞Êæ≥Èó®Êï∞ÊçÆ
                if (data.xam && data.xam.numbers && data.xam.numbers.length === 7) {
                    console.log('üé∞ [loadDataFromJSON] Êñ∞Êæ≥Èó®Êï∞ÊçÆÊúâÊïà:', data.xam.numbers.join(','));
                    appState.lotteryData['xam'] = {
                        numbers: data.xam.numbers,
                        issue: data.xam.issue,
                        time: data.xam.time,
                        source: 'data.json'
                    };
                    addToHistory('xam', data.xam);
                    loaded = true;
                } else {
                    console.warn('‚ö†Ô∏è [loadDataFromJSON] Êñ∞Êæ≥Èó®Êï∞ÊçÆÊó†ÊïàÊàñ‰∏çÂÆåÊï¥');
                }
                
                // Âä†ËΩΩÈ¶ôÊ∏ØÊï∞ÊçÆ
                if (data.hk && data.hk.numbers && data.hk.numbers.length === 7) {
                    console.log('üé∞ [loadDataFromJSON] È¶ôÊ∏ØÊï∞ÊçÆÊúâÊïà:', data.hk.numbers.join(','));
                    appState.lotteryData['hk'] = {
                        numbers: data.hk.numbers,
                        issue: data.hk.issue,
                        time: data.hk.time,
                        source: 'data.json'
                    };
                    addToHistory('hk', data.hk);
                    loaded = true;
                } else {
                    console.warn('‚ö†Ô∏è [loadDataFromJSON] È¶ôÊ∏ØÊï∞ÊçÆÊó†ÊïàÊàñ‰∏çÂÆåÊï¥');
                }
                
                if (loaded) {
                    // Âä†ËΩΩÂΩìÂâçÂΩ©ÁßçÊï∞ÊçÆ
                    const currentData = appState.lotteryData[appState.currentLotteryType];
                    console.log('üìå [loadDataFromJSON] ÂΩìÂâçÂΩ©Áßç:', appState.currentLotteryType);
                    
                    if (currentData && currentData.numbers && currentData.numbers.length === 7) {
                        appState.lotteryNumbers = currentData.numbers;
                        console.log('‚úÖ [loadDataFromJSON] ËÆæÁΩÆÂΩìÂâçÂè∑Á†Å:', appState.lotteryNumbers.join(','));
                    }
                    
                    saveConfig();
                    renderLotteryBalls();
                    renderHistoryList();
                    
                    console.log('‚úÖ [loadDataFromJSON] Êï∞ÊçÆÂä†ËΩΩÊàêÂäüÔºåÊõ¥Êñ∞Êó∂Èó¥:', data.updateTime);
                } else {
                    console.warn('‚ö†Ô∏è [loadDataFromJSON] Ê≤°ÊúâÊúâÊïàÊï∞ÊçÆË¢´Âä†ËΩΩ');
                }
                
                return loaded;
            } catch (e) {
                console.error('‚ùå [loadDataFromJSON] Âä†ËΩΩÂ§±Ë¥•:', e.message, e);
                return false;
            }
        }
        
        // üÜï v3.11.23 ÊØèÊ¨°ÊâìÂºÄÈ°µÈù¢ÈÉΩËá™Âä®Ëé∑ÂèñÊúÄÊñ∞ÂºÄÂ•ñÊï∞ÊçÆ
        async function tryAutoFetchOnce() {
            console.log('üîÑ [tryAutoFetchOnce] Ëá™Âä®Ëé∑ÂèñÊúÄÊñ∞ÂºÄÂ•ñÊï∞ÊçÆ...');
            showAutoFetchStatus('üîÑ Ê≠£Âú®Âä†ËΩΩÊúÄÊñ∞ÂºÄÂ•ñÊï∞ÊçÆ...');
            
            // ÊñπÊ°à1Ôºö‰ºòÂÖà‰ªé data.json ËØªÂèñÔºàGitHub Actions È¢ÑËé∑ÂèñÁöÑÊï∞ÊçÆÔºåÊõ¥Êñ∞È¢ëÁéáÈ´òÔºâ
            try {
                const jsonLoaded = await loadDataFromJSON();
                if (jsonLoaded) {
                    console.log('‚úÖ [tryAutoFetchOnce] ‰ªé data.json Âä†ËΩΩÊàêÂäü');
                    showAutoFetchStatus('‚úÖ ÂºÄÂ•ñÊï∞ÊçÆÂ∑≤Êõ¥Êñ∞', 'success');
                    setTimeout(hideAutoFetchStatus, 2000);
                    return;
                }
            } catch (e) {
                console.log('‚ö†Ô∏è [tryAutoFetchOnce] data.json Âä†ËΩΩÂ§±Ë¥•:', e.message);
            }
            
            // ÊñπÊ°à2Ôºödata.json Â§±Ë¥•ÔºåÂ∞ùËØïÁõ¥Êé•Ë∞ÉÁî® APIÔºàÂ§áÈÄâÊñπÊ°àÔºâ
            console.log('üîÑ [tryAutoFetchOnce] data.json Â§±Ë¥•ÔºåÂ∞ùËØïË∞ÉÁî® API...');
            showAutoFetchStatus('üîÑ Ê≠£Âú®Ëé∑ÂèñÊúÄÊñ∞Êï∞ÊçÆ...');
            
            let success = false;
            for (let retry = 0; retry < 2 && !success; retry++) {
                try {
                    if (retry > 0) {
                        showAutoFetchStatus(`üîÑ ÈáçËØïËé∑Âèñ‰∏≠...(${retry}/2)`);
                        await new Promise(r => setTimeout(r, 1000));
                    }
                    await fetchAllLotteryData();
                    
                    const newXamData = appState.lotteryData['xam'];
                    const newHkData = appState.lotteryData['hk'];
                    if ((newXamData && newXamData.numbers && newXamData.numbers.length === 7) ||
                        (newHkData && newHkData.numbers && newHkData.numbers.length === 7)) {
                        success = true;
                        console.log('‚úÖ [tryAutoFetchOnce] API Ëé∑ÂèñÊàêÂäü');
                        showAutoFetchStatus('‚úÖ ÂºÄÂ•ñÊï∞ÊçÆÂ∑≤Êõ¥Êñ∞', 'success');
                    }
                } catch (e) {
                    console.log(`‚ö†Ô∏è [tryAutoFetchOnce] APIËé∑ÂèñÂ§±Ë¥•(Â∞ùËØï${retry + 1}):`, e.message);
                }
            }
            
            if (!success) {
                // ÊñπÊ°à3ÔºöAPI‰πüÂ§±Ë¥•Ôºå‰ΩøÁî®Êú¨Âú∞ÁºìÂ≠òÔºàÂ¶ÇÊûúÊúâÔºâ
                const xamData = appState.lotteryData['xam'];
                const hkData = appState.lotteryData['hk'];
                if ((xamData && xamData.numbers && xamData.numbers.length === 7) ||
                    (hkData && hkData.numbers && hkData.numbers.length === 7)) {
                    console.log('‚ö†Ô∏è [tryAutoFetchOnce] ‰ΩøÁî®Êú¨Âú∞ÁºìÂ≠òÊï∞ÊçÆ');
                    showAutoFetchStatus('‚ö†Ô∏è ÁΩëÁªúÂºÇÂ∏∏Ôºå‰ΩøÁî®ÁºìÂ≠òÊï∞ÊçÆ', 'warning');
                } else {
                    showAutoFetchStatus('‚ö†Ô∏è Ëé∑ÂèñÂ§±Ë¥•ÔºåËØ∑ÊâãÂä®Ëé∑Âèñ', 'warning');
                }
            }
            
            setTimeout(hideAutoFetchStatus, 3000);
        }
        
        // ÊòæÁ§∫Ëá™Âä®Ëé∑ÂèñÁä∂ÊÄÅ
        function showAutoFetchStatus(msg, type = 'loading') {
            let statusDiv = document.getElementById('auto-fetch-status');
            if (!statusDiv) {
                statusDiv = document.createElement('div');
                statusDiv.id = 'auto-fetch-status';
                statusDiv.style.cssText = 'position:fixed;top:60px;left:50%;transform:translateX(-50%);padding:10px 20px;border-radius:8px;font-size:13px;z-index:9999;transition:opacity 0.3s;';
                document.body.appendChild(statusDiv);
            }
            
            statusDiv.innerHTML = msg;
            statusDiv.style.opacity = '1';
            
            if (type === 'success') {
                statusDiv.style.background = 'linear-gradient(90deg,#2ecc71,#27ae60)';
                statusDiv.style.color = 'white';
            } else if (type === 'warning') {
                statusDiv.style.background = 'linear-gradient(90deg,#f39c12,#e67e22)';
                statusDiv.style.color = 'white';
            } else {
                statusDiv.style.background = 'linear-gradient(90deg,#667eea,#764ba2)';
                statusDiv.style.color = 'white';
            }
        }
        
        // ÈöêËóèËá™Âä®Ëé∑ÂèñÁä∂ÊÄÅ
        function hideAutoFetchStatus() {
            const statusDiv = document.getElementById('auto-fetch-status');
            if (statusDiv) {
                statusDiv.style.opacity = '0';
                setTimeout(() => statusDiv.remove(), 300);
            }
        }
        
        // Ëé∑ÂèñÊâÄÊúâÂΩ©ÁßçÊï∞ÊçÆ
        async function fetchAllLotteryData() {
            const api = LOTTERY_APIS.marksix6;
            
            // Ëé∑ÂèñÊï∞ÊçÆÔºàÂèØËÉΩÊäõÂá∫ÂºÇÂ∏∏Ôºâ
            const data = await fetchWithProxy(api.url);
            
            let hasValidData = false;
            
            // Ëß£ÊûêÊñ∞Êæ≥Èó®Êï∞ÊçÆ
            const xamResult = api.parse(data, 'xam');
            if (xamResult && xamResult.numbers && xamResult.numbers.length === 7) {
                appState.lotteryData['xam'] = {
                    numbers: xamResult.numbers,
                    issue: xamResult.issue,
                    time: xamResult.time,
                    source: xamResult.source
                };
                // Ê∑ªÂä†Âà∞ÂéÜÂè≤ËÆ∞ÂΩï
                addToHistory('xam', xamResult);
                hasValidData = true;
            }
            
            // Ëß£ÊûêÈ¶ôÊ∏ØÊï∞ÊçÆ
            const hkResult = api.parse(data, 'hk');
            if (hkResult && hkResult.numbers && hkResult.numbers.length === 7) {
                appState.lotteryData['hk'] = {
                    numbers: hkResult.numbers,
                    issue: hkResult.issue,
                    time: hkResult.time,
                    source: hkResult.source
                };
                // Ê∑ªÂä†Âà∞ÂéÜÂè≤ËÆ∞ÂΩï
                addToHistory('hk', hkResult);
                hasValidData = true;
            }
            
            // Â¶ÇÊûúÊ≤°ÊúâËé∑ÂèñÂà∞‰ªª‰ΩïÊúâÊïàÊï∞ÊçÆÔºåÊäõÂá∫ÈîôËØØ
            if (!hasValidData) {
                throw new Error('Êï∞ÊçÆËß£ÊûêÂ§±Ë¥•ÔºåÊú™Ëé∑ÂèñÂà∞ÊúâÊïàÂºÄÂ•ñÂè∑Á†Å');
            }
            
            // Âä†ËΩΩÂΩìÂâçÂΩ©ÁßçÁöÑÊï∞ÊçÆ
            const currentData = appState.lotteryData[appState.currentLotteryType];
            if (currentData && currentData.numbers && currentData.numbers.length === 7) {
                appState.lotteryNumbers = currentData.numbers;
            }
            
            // ‰øùÂ≠òÂπ∂Âà∑Êñ∞ÊòæÁ§∫
            saveConfig();
            renderLotteryBalls();
            renderHistoryList();  // Âà∑Êñ∞ÂéÜÂè≤ËÆ∞ÂΩïÂàóË°®
            
            return true; // ËøîÂõûÊàêÂäüÊ†áÂøó
        }
        
        // ==================== Êú∫Âô®Á†ÅÁîüÊàê ====================
        async function generateMachineCode() {
            const components = [];
            
            // CanvasÊåáÁ∫π
            try {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                ctx.textBaseline = 'top';
                ctx.font = '14px Arial';
                ctx.fillText('LHC', 2, 2);
                components.push(canvas.toDataURL().slice(-50));
            } catch (e) {
                components.push('no-canvas');
            }
            
            // Â±èÂπï‰ø°ÊÅØ
            components.push(`${screen.width}x${screen.height}x${screen.colorDepth}`);
            components.push(Intl.DateTimeFormat().resolvedOptions().timeZone);
            components.push(navigator.language);
            components.push(navigator.platform);
            components.push(navigator.hardwareConcurrency || 'unknown');
            
            const raw = components.join('|');
            const hashBuffer = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(raw));
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('').toUpperCase();
            
            return `${hashHex.slice(0, 4)}-${hashHex.slice(4, 8)}-${hashHex.slice(8, 12)}-${hashHex.slice(12, 16)}`;
        }
        
        // ==================== È°µÈù¢ÂàáÊç¢ ====================
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            
            // ÊâìÂºÄÂºÄÂ•ñËÆæÁΩÆÈ°µÈù¢Êó∂ÔºåÊõ¥Êñ∞ËæìÂÖ•Ê°ÜÊòæÁ§∫ÂíåÂéÜÂè≤ËÆ∞ÂΩï
            if (pageId === 'page-lottery') {
                updateLotteryInputsDisplay();
                renderHistoryList();
            }
            
            // ÊâìÂºÄÂèÇÁÖßË°®È°µÈù¢Êó∂ÔºåÈáçÊñ∞Ê∏≤ÊüìË°®Ê†º
            if (pageId === 'page-reference') {
                renderReferenceTables();
            }
            
            // ÊâìÂºÄËá™ÂÆö‰πâÊ†ºÂºèÈ°µÈù¢Êó∂ÔºåÂä†ËΩΩËÆæÁΩÆ
            if (pageId === 'page-format') {
                loadFormatSettings();
            }
            
            // ÊâìÂºÄÂèÇÊï∞ËÆæÁΩÆÈ°µÈù¢Êó∂ÔºåÂä†ËΩΩËÆæÁΩÆ
            if (pageId === 'page-params') {
                loadParamSettings();
            }
        }
        
        // Êõ¥Êñ∞ÂºÄÂ•ñËÆæÁΩÆÈ°µÈù¢ÁöÑËæìÂÖ•Ê°ÜÊòæÁ§∫
        function updateLotteryInputsDisplay() {
            if (appState.lotteryNumbers && appState.lotteryNumbers.length >= 7) {
                for (let i = 0; i < 6; i++) {
                    const num = appState.lotteryNumbers[i];
                    const input = document.getElementById('num' + (i + 1));
                    if (num > 0) {
                        input.value = String(num).padStart(2, '0');
                        updateInputColor(input, num, false);
                    }
                }
                const specialNum = appState.lotteryNumbers[6];
                const specialInput = document.getElementById('num-special');
                if (specialNum > 0) {
                    specialInput.value = String(specialNum).padStart(2, '0');
                    updateInputColor(specialInput, specialNum, true);
                }
            }
            // ÈöêËóèÈ¢ÑËßà
            hideParsePreview();
        }
        
        // ==================== ÈÖçÁΩÆ‰øùÂ≠ò/Âä†ËΩΩ ====================
        function saveConfig() {
            localStorage.setItem('lhc_config', JSON.stringify(appState));
        }
        
        function loadConfig() {
            const saved = localStorage.getItem('lhc_config');
            if (saved) {
                const config = JSON.parse(saved);
                appState = { ...appState, ...config };
                
                // ÊÅ¢Â§çËµîÁéáËæìÂÖ•Ê°ÜÔºàÂÆâÂÖ®Ê£ÄÊü•ÂÖÉÁ¥†ÊòØÂê¶Â≠òÂú®Ôºâ
                const setInputValue = (id, value) => {
                    const el = document.getElementById(id);
                    if (el && value !== undefined) el.value = value;
                };
                if (appState.odds) {
                    setInputValue('odds-tema', appState.odds.tema);
                    setInputValue('odds-shengxiao', appState.odds.shengxiao);
                    setInputValue('odds-red', appState.odds.red);
                    setInputValue('odds-blue', appState.odds.blue);
                    setInputValue('odds-green', appState.odds.green);
                    setInputValue('odds-daxiao', appState.odds.daxiao);
                    setInputValue('odds-danshuang', appState.odds.danshuang);
                }
            }
            
            // Á°Æ‰øùlotteryDataÁªìÊûÑÂ≠òÂú®
            if (!appState.lotteryData) {
                appState.lotteryData = {
                    xam: { numbers: [], issue: '', time: '', source: '' },
                    hk: { numbers: [], issue: '', time: '', source: '' }
                };
            }
            
            // Á°Æ‰øùÂéÜÂè≤ËÆ∞ÂΩïÁªìÊûÑÂ≠òÂú®
            if (!appState.lotteryHistory) {
                appState.lotteryHistory = {
                    xam: [],
                    hk: []
                };
            }
            
            // ÈªòËÆ§ÂΩ©Áßç‰∏∫Êñ∞Êæ≥Èó®
            if (!appState.currentLotteryType) {
                appState.currentLotteryType = 'xam';
            }
            
            // Â¶ÇÊûúÂΩìÂâçÂΩ©ÁßçÊúâÊï∞ÊçÆÔºåÂä†ËΩΩÂà∞lotteryNumbers
            const currentData = appState.lotteryData[appState.currentLotteryType];
            if (currentData && currentData.numbers && currentData.numbers.length === 7) {
                appState.lotteryNumbers = currentData.numbers;
            }
        }
        
        // ==================== ÂºÄÂ•ñÂè∑Á†Å ====================
        
        // Ëß£ÊûêÁ≤òË¥¥ÁöÑÂºÄÂ•ñÂè∑Á†Å
        function parseLotteryInput() {
            let input = document.getElementById('paste-lottery-input').value.trim();
            
            if (!input) {
                alert('ËØ∑ÂÖàÁ≤òË¥¥ÂºÄÂ•ñÂè∑Á†ÅÔºÅ');
                return;
            }
            
            // ÂÆπÈîôÂ§ÑÁêÜÔºöÂêàÂπ∂Â§ö‰∏™ËøûÁª≠Á©∫Ê†º‰∏∫Âçï‰∏™Á©∫Ê†º
            input = input.replace(/\s+/g, ' ');
            
            // ÊèêÂèñÁâπÁ†ÅÔºàÂ¶ÇÊûúÊúâ"Áâπ"Â≠óÊ†áËØÜÔºâ
            let specialNum = null;
            let cleanInput = input;
            
            // Ê£ÄÊü•ÊòØÂê¶Êúâ"Áâπ"Â≠óÊ†áËØÜÁâπÁ†Å
            const teMatch = input.match(/Áâπ\s*(\d+)/);
            if (teMatch) {
                specialNum = parseInt(teMatch[1]);
                cleanInput = input.replace(/Áâπ\s*\d+/, '').trim();
            }
            
            // Áî®ÂêÑÁßçÂàÜÈöîÁ¨¶ÂàÜÂâ≤ÔºöÁ©∫Ê†º„ÄÅÁÇπ„ÄÅÈÄóÂè∑„ÄÅ‰∏≠ÊñáÈÄóÂè∑„ÄÅÈ°øÂè∑
            const parts = cleanInput.split(/[\s.,Ôºå„ÄÅ„ÄÇ]+/).filter(p => p);
            
            // Ëß£ÊûêÊï∞Â≠ó
            const nums = [];
            const invalidParts = [];
            for (const part of parts) {
                const num = parseInt(part);
                if (!isNaN(num) && num >= 1 && num <= 49) {
                    nums.push(num);
                } else if (part && !/^\s*$/.test(part)) {
                    invalidParts.push(part);
                }
            }
            
            // Â¶ÇÊûúÊ≤°Êúâ"Áâπ"Ê†áËØÜÔºåÊúÄÂêé‰∏Ä‰∏™Â∞±ÊòØÁâπÁ†Å
            if (specialNum === null && nums.length >= 7) {
                specialNum = nums.pop();
            }
            
            // È™åËØÅÊï∞Èáè
            if (nums.length !== 6 || !specialNum) {
                showFormatErrorModal(nums, specialNum, invalidParts, input);
                hideParsePreview();
                return;
            }
            
            if (specialNum < 1 || specialNum > 49) {
                showFormatErrorModal(nums, specialNum, ['ÁâπÁ†ÅË∂ÖÂá∫ËåÉÂõ¥'], input);
                hideParsePreview();
                return;
            }
            
            // ÂêàÂπ∂ÊâÄÊúâÂè∑Á†ÅÊ£ÄÊü•ÈáçÂ§ç
            const allNums = [...nums, specialNum];
            const uniqueNums = new Set(allNums);
            if (uniqueNums.size !== allNums.length) {
                const seen = {};
                const duplicates = [];
                for (const n of allNums) {
                    if (seen[n]) duplicates.push(n);
                    seen[n] = true;
                }
                showDuplicateErrorModal([...new Set(duplicates)]);
                hideParsePreview();
                return;
            }
            
            // Â°´ÂÖ•ËæìÂÖ•Ê°ÜÂπ∂Êõ¥Êñ∞ËæìÂÖ•Ê°ÜËÉåÊôØËâ≤
            for (let i = 0; i < 6; i++) {
                const numInput = document.getElementById('num' + (i + 1));
                numInput.value = String(nums[i]).padStart(2, '0');
                updateInputColor(numInput, nums[i]);
            }
            const specialInput = document.getElementById('num-special');
            specialInput.value = String(specialNum).padStart(2, '0');
            updateInputColor(specialInput, specialNum, true);
            
            // ÊòæÁ§∫Â∏¶Ê≥¢Ëâ≤ÁöÑÈ¢ÑËßà
            showParsePreview(nums, specialNum);
            
            // Ê∏ÖÁ©∫Á≤òË¥¥Ê°Ü
            document.getElementById('paste-lottery-input').value = '';
            
            // ÊèêÁ§∫Áî®Êà∑ÁÇπÂáª‰øùÂ≠òÊåâÈíÆ
            const toast = document.createElement('div');
            toast.innerHTML = '‚úÖ Ëß£ÊûêÊàêÂäüÔºÅËØ∑ÁÇπÂáª<b>„Äå‰øùÂ≠òÂºÄÂ•ñÂè∑Á†Å„Äç</b>ÊåâÈíÆÂ∫îÁî®';
            toast.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.9);color:#4CAF50;padding:15px 20px;border-radius:10px;font-size:13px;z-index:9999;text-align:center;max-width:280px;';
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 2500);
        }
        
        // ÊòæÁ§∫Ê†ºÂºèÈîôËØØÂºπÁ™ó
        function showFormatErrorModal(nums, specialNum, invalidParts, originalInput) {
            const correctFormat = '01 08 09 15 24 26 Áâπ27';
            
            // ÂàõÂª∫ÂºπÁ™óHTML
            let html = `
            <div id="format-error-modal" style="position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:center;z-index:9999;padding:20px;">
                <div style="background:#fff;border-radius:12px;padding:20px;max-width:320px;width:100%;color:#333;">
                    <div style="font-size:18px;font-weight:bold;margin-bottom:15px;">‚ùå Ê†ºÂºèÈîôËØØÔºÅ</div>
                    
                    <div style="margin-bottom:12px;">
                        <div style="color:#666;font-size:13px;">ÊÇ®ËæìÂÖ•ÁöÑÔºö</div>
                        <div style="font-size:14px;word-break:break-all;">${originalInput}</div>
                    </div>
                    
                    <div style="margin-bottom:12px;">
                        <div style="color:#666;font-size:13px;">ËØÜÂà´Âà∞Ôºö</div>
                        <div style="font-size:14px;">${nums.length}‰∏™Âπ≥Á†Å${specialNum ? ' + 1‰∏™ÁâπÁ†Å' : ''}</div>
                    </div>
                    
                    ${invalidParts.length > 0 ? `
                    <div style="margin-bottom:12px;">
                        <div style="color:#666;font-size:13px;">Êó†Ê≥ïËØÜÂà´ÁöÑÂÜÖÂÆπÔºö</div>
                        <div style="font-size:14px;color:#e74c3c;">${invalidParts.join(', ')}</div>
                    </div>
                    ` : ''}
                    
                    <div style="border-top:1px solid #eee;margin:15px 0;"></div>
                    
                    <div style="color:#e94560;font-size:13px;margin-bottom:8px;">ÁÇπÂáªÂè≥‰∏ãËßíÂ§çÂà∂ÊåâÈíÆÂ§çÂà∂Ê≠£Á°ÆÊ†ºÂºè</div>
                    <div style="display:flex;align-items:center;gap:8px;background:#f5f5f5;padding:10px;border-radius:8px;">
                        <span style="color:#2ecc71;font-size:16px;">‚úÖ</span>
                        <div>
                            <div style="font-size:12px;color:#888;">Ê≠£Á°ÆÊ†ºÂºèÁ§∫‰æãÔºö</div>
                            <div style="font-size:15px;font-weight:bold;">${correctFormat}</div>
                        </div>
                    </div>
                    
                    <div style="display:flex;gap:10px;margin-top:20px;">
                        <button onclick="closeFormatErrorModal()" style="flex:1;padding:12px;background:#f0f0f0;border:none;border-radius:8px;font-size:14px;cursor:pointer;color:#666;">ÂèñÊ∂à</button>
                        <button onclick="copyFormatAndClose('${correctFormat}')" style="flex:1;padding:12px;background:#e94560;border:none;border-radius:8px;font-size:14px;cursor:pointer;color:#fff;font-weight:bold;">Â§çÂà∂</button>
                    </div>
                </div>
            </div>`;
            
            // Ê∑ªÂä†Âà∞È°µÈù¢
            document.body.insertAdjacentHTML('beforeend', html);
        }
        
        function closeFormatErrorModal() {
            const modal = document.getElementById('format-error-modal');
            if (modal) modal.remove();
        }
        
        function copyFormatAndClose(text) {
            copyToClipboard(text);
            closeFormatErrorModal();
            alert('‚úÖ Â∑≤Â§çÂà∂Ê≠£Á°ÆÊ†ºÂºèÔºÅ');
        }
        
        // ÊòæÁ§∫ÈáçÂ§çÂè∑Á†ÅÈîôËØØÂºπÁ™ó
        function showDuplicateErrorModal(duplicates) {
            const dupStr = duplicates.map(n => String(n).padStart(2,'0')).join(', ');
            alert('‚ùå Âè∑Á†ÅÈáçÂ§çÔºÅ\n\nÈáçÂ§çÁöÑÂè∑Á†ÅÔºö' + dupStr + '\n\nÂºÄÂ•ñÂè∑Á†Å‰∏çËÉΩÊúâÈáçÂ§çÔºåËØ∑Ê£ÄÊü•ÂêéÈáçÊñ∞ËæìÂÖ•„ÄÇ');
        }
        
        // Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø
        function copyToClipboard(text) {
            if (navigator.clipboard) {
                navigator.clipboard.writeText(text);
            } else {
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
            }
        }
        
        // Ê†πÊçÆÂè∑Á†ÅÊõ¥Êñ∞ËæìÂÖ•Ê°ÜËÉåÊôØËâ≤
        function updateInputColor(input, num, isSpecial = false) {
            const color = getNumberColor(num);
            const colorMap = {
                'red': '#c23a51',
                'blue': '#3a5fc2',
                'green': '#3a8c4a'
            };
            input.style.background = colorMap[color] || '#333';
            input.style.borderColor = isSpecial ? '#f5a623' : colorMap[color] || '#555';
        }
        
        // ÊòæÁ§∫Ëß£ÊûêÈ¢ÑËßà
        function showParsePreview(nums, specialNum) {
            const preview = document.getElementById('parse-preview');
            const balls = document.getElementById('parse-preview-balls');
            
            let html = '';
            // 6‰∏™Âπ≥Á†Å
            for (let i = 0; i < 6; i++) {
                const num = nums[i];
                const color = getNumberColor(num);
                const colorMap = { 'red': '#c23a51', 'blue': '#3a5fc2', 'green': '#3a8c4a' };
                html += `<div style="width:32px;height:32px;border-radius:50%;background:${colorMap[color]};display:flex;align-items:center;justify-content:center;color:#fff;font-size:13px;font-weight:bold;">${String(num).padStart(2,'0')}</div>`;
            }
            // + Âè∑
            html += `<span style="color:#e94560;font-weight:bold;font-size:14px;margin:0 2px;">+</span>`;
            // ÁâπÁ†Å
            const specialColor = getNumberColor(specialNum);
            const colorMap = { 'red': '#c23a51', 'blue': '#3a5fc2', 'green': '#3a8c4a' };
            html += `<div style="width:32px;height:32px;border-radius:50%;background:${colorMap[specialColor]};border:2px solid #f5a623;display:flex;align-items:center;justify-content:center;color:#fff;font-size:13px;font-weight:bold;">${String(specialNum).padStart(2,'0')}</div>`;
            
            balls.innerHTML = html;
            preview.style.display = 'block';
        }
        
        // ÈöêËóèËß£ÊûêÈ¢ÑËßà
        function hideParsePreview() {
            document.getElementById('parse-preview').style.display = 'none';
        }
        
        // Ê†ºÂºèÂåñÊï∞Â≠óËæìÂÖ•ÔºàÂè™ÂÖÅËÆ∏Êï∞Â≠óÔºâ
        function formatNumInput(input) {
            // Âè™‰øùÁïôÊï∞Â≠ó
            let value = input.value.replace(/[^0-9]/g, '');
            
            // Â¶ÇÊûúËæìÂÖ•‰∫ÜÈùûÊï∞Â≠óÔºåÊèêÁ§∫ÈîôËØØ
            if (input.value !== value && input.value !== '') {
                input.style.borderColor = '#e74c3c';
                setTimeout(() => {
                    input.style.borderColor = input.classList.contains('special') ? '#fbbf24' : 'rgba(255, 255, 255, 0.2)';
                }, 500);
            }
            
            // ÈôêÂà∂ÊúÄÂ§ßÂÄº49
            if (parseInt(value) > 49) {
                value = '49';
            }
            
            input.value = value;
        }
        
        // Â§±ÁÑ¶Êó∂Ë°•0
        function padNumInput(input) {
            let value = input.value.trim();
            if (value === '') {
                // Ê∏ÖÁ©∫Êó∂ÈáçÁΩÆÈ¢úËâ≤
                input.style.background = '#333';
                input.style.borderColor = input.id === 'num-special' ? '#f5a623' : '#555';
                return;
            }
            
            let num = parseInt(value);
            if (isNaN(num) || num < 1) {
                input.value = '';
                input.style.background = '#333';
                input.style.borderColor = input.id === 'num-special' ? '#f5a623' : '#555';
                return;
            }
            
            if (num > 49) num = 49;
            
            // Ë°•0Ôºö1-9 ‚Üí 01-09
            input.value = num.toString().padStart(2, '0');
            
            // Êõ¥Êñ∞ËÉåÊôØËâ≤‰∏∫Ê≥¢Ëâ≤
            const isSpecial = input.id === 'num-special';
            updateInputColor(input, num, isSpecial);
        }
        
        function saveLotteryNumbers() {
            const nums = [];
            let hasError = false;
            
            for (let i = 1; i <= 6; i++) {
                const input = document.getElementById('num' + i);
                const val = parseInt(input.value) || 0;
                if (val < 1 || val > 49) {
                    hasError = true;
                    input.style.borderColor = '#e74c3c';
                } else {
                    input.style.borderColor = 'rgba(255, 255, 255, 0.2)';
                }
                nums.push(val);
            }
            
            const specialInput = document.getElementById('num-special');
            const special = parseInt(specialInput.value) || 0;
            if (special < 1 || special > 49) {
                hasError = true;
                specialInput.style.borderColor = '#e74c3c';
            } else {
                specialInput.style.borderColor = '#fbbf24';
            }
            nums.push(special);
            
            if (hasError || nums.some(n => n < 1 || n > 49)) {
                alert('ËØ∑ËæìÂÖ•Ê≠£Á°ÆÁöÑÂè∑Á†ÅÔºà1-49ÔºâÔºÅ');
                return;
            }
            
            // Ê£ÄÊü•ÈáçÂ§çÂè∑Á†Å
            const uniqueNums = new Set(nums);
            if (uniqueNums.size !== nums.length) {
                // ÊâæÂá∫ÈáçÂ§çÁöÑÂè∑Á†Å
                const seen = {};
                const duplicates = [];
                for (const n of nums) {
                    if (seen[n]) {
                        duplicates.push(n);
                    }
                    seen[n] = true;
                }
                alert('‚ö†Ô∏è ÂºÄÂ•ñÂè∑Á†Å‰∏çËÉΩÈáçÂ§çÔºÅ\n\nÈáçÂ§çÁöÑÂè∑Á†ÅÔºö' + [...new Set(duplicates)].map(n => String(n).padStart(2,'0')).join(', '));
                return;
            }
            
            appState.lotteryNumbers = nums;
            
            // ÂêåÊ≠•‰øùÂ≠òÂà∞ÂΩìÂâçÂΩ©ÁßçÁöÑÊï∞ÊçÆ
            const currentType = appState.currentLotteryType || 'xam';
            if (appState.lotteryData[currentType]) {
                appState.lotteryData[currentType].numbers = nums;
                // Â¶ÇÊûúÊ≤°ÊúâÊúüÂè∑Ôºå‰øùÊåÅÂéüÊúâÊúüÂè∑
            }
            
            saveConfig();
            updateDisplay();
            showPage('page-main');
            
            // ÊòæÁ§∫ÁÆÄÁü≠ÊèêÁ§∫Ôºà‰∏çÈòªÂ°ûÔºâ
            const toast = document.createElement('div');
            toast.innerHTML = '‚úÖ ÂºÄÂ•ñÂè∑Á†ÅÂ∑≤‰øùÂ≠ò';
            toast.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.85);color:#4CAF50;padding:15px 25px;border-radius:10px;font-size:14px;z-index:9999;';
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 1500);
        }
        
        // ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
        // ‚ïë              „ÄêÊ®°Âùó4„ÄëËá™Âä®Ëé∑ÂèñÂºÄÂ•ñÊï∞ÊçÆ - APIË∞ÉÁî®               ‚ïë
        // ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
        
        // APIÈÖçÁΩÆÔºà‰∏â‰∏™APIÊ∫êÔºåËá™Âä®ÂàáÊç¢Ôºâ
        const LOTTERY_APIS = {
            // API 1: Marksix6ÔºàÊé®ËçêÔºåÊï∞ÊçÆÊúÄÂÆåÊï¥Ôºâ
            marksix6: {
                name: 'Marksix6',
                url: 'https://marksix6.net/index.php?api=1',
                // ÂΩ©ÁßçÊò†Â∞Ñ
                lotteryMap: {
                    'hk': 'È¶ôÊ∏ØÂΩ©',
                    'xam': 'Êñ∞Êæ≥Èó®ÂΩ©',
                    'am': 'Êæ≥Èó®ÂΩ©'
                },
                parse: function(data, lotteryType) {
                    const targetName = this.lotteryMap[lotteryType];
                    if (!data.lottery_data) return null;
                    
                    const lottery = data.lottery_data.find(l => l.name === targetName);
                    if (!lottery) return null;
                    
                    // Ëß£ÊûêÂºÄÂ•ñÂè∑Á†Å
                    const numbers = lottery.openCode.split(',').map(n => parseInt(n.trim()));
                    if (numbers.length !== 7) return null;
                    
                    return {
                        numbers: numbers,
                        issue: lottery.expect,
                        time: lottery.openTime,
                        zodiac: lottery.zodiac,
                        wave: lottery.wave,
                        source: 'Marksix6'
                    };
                }
            },
            
            // ÔºàÂ∑≤Âà†Èô§‰∏çÂèØÁî®ÁöÑ 1234ÂºÄÂ•ñÁΩë Âíå 168ÂºÄÂ•ñÁΩëÔºâ
        };
        
        // ÊòæÁ§∫Ëé∑ÂèñÁä∂ÊÄÅ
        function showFetchStatus(message, type) {
            const statusEl = document.getElementById('fetch-status');
            statusEl.style.display = 'block';
            
            let color = '#fff';
            let bgColor = 'rgba(0,0,0,0.3)';
            
            if (type === 'success') {
                color = '#4CAF50';
                bgColor = 'rgba(76, 175, 80, 0.2)';
            } else if (type === 'error') {
                color = '#e74c3c';
                bgColor = 'rgba(231, 76, 60, 0.2)';
            } else if (type === 'loading') {
                color = '#f5a623';
                bgColor = 'rgba(245, 166, 35, 0.2)';
            }
            
            statusEl.style.color = color;
            statusEl.style.background = bgColor;
            statusEl.innerHTML = message;
        }
        
        // ÈöêËóèÁä∂ÊÄÅ
        function hideFetchStatus() {
            document.getElementById('fetch-status').style.display = 'none';
        }
        
        // ÈÄöËøáCORS‰ª£ÁêÜËé∑ÂèñÊï∞ÊçÆÔºàËß£ÂÜ≥Ë∑®ÂüüÈóÆÈ¢òÔºâ
        async function fetchWithProxy(url, timeout = 8000) {
            // ÂàõÂª∫Ë∂ÖÊó∂ÊéßÂà∂Âô®
            const createTimeoutController = (ms) => {
                const controller = new AbortController();
                setTimeout(() => controller.abort(), ms);
                return controller;
            };
            
            // ÊñπÊ≥ï1: Áõ¥Êé•Â∞ùËØïËØ∑Ê±ÇÔºàÂ¶ÇÊûúÊúçÂä°Âô®ÊîØÊåÅCORSÔºâ
            try {
                const controller = createTimeoutController(timeout);
                const response = await fetch(url, {
                    method: 'GET',
                    headers: { 'Accept': 'application/json' },
                    signal: controller.signal
                });
                if (response.ok) {
                    return await response.json();
                }
            } catch (e) {
                console.log('Áõ¥Êé•ËØ∑Ê±ÇÂ§±Ë¥•ÔºåÂ∞ùËØï‰ª£ÁêÜ...', e.message);
            }
            
            // ÊñπÊ≥ï2: Â∞ùËØï‰ΩøÁî®Â§ö‰∏™ÂÖ¨ÂÖ±CORS‰ª£ÁêÜÔºàÂ¢ûÂä†Êõ¥Â§öÁ®≥ÂÆö‰ª£ÁêÜÔºâ
            const corsProxies = [
                // ‰ª£ÁêÜ1: corsproxy.ioÔºàÁ®≥ÂÆöÊÄßËæÉÂ•ΩÔºâ
                `https://corsproxy.io/?${encodeURIComponent(url)}`,
                // ‰ª£ÁêÜ2: alloriginsÔºàÂ§áÁî®Ôºâ
                `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`,
                // ‰ª£ÁêÜ3: cors-anywhere ÈïúÂÉè
                `https://proxy.cors.sh/${url}`,
                // ‰ª£ÁêÜ4: thingproxy
                `https://thingproxy.freeboard.io/fetch/${url}`
            ];
            
            for (const proxyUrl of corsProxies) {
                try {
                    const controller = createTimeoutController(timeout);
                    const response = await fetch(proxyUrl, {
                        signal: controller.signal,
                        headers: {
                            'x-cors-api-key': 'temp_key', // Êüê‰∫õ‰ª£ÁêÜÈúÄË¶Å
                        }
                    });
                    if (response.ok) {
                        const text = await response.text();
                        try {
                            return JSON.parse(text);
                        } catch (parseErr) {
                            console.log('JSONËß£ÊûêÂ§±Ë¥•:', proxyUrl);
                            continue;
                        }
                    }
                } catch (e) {
                    console.log('‰ª£ÁêÜËØ∑Ê±ÇÂ§±Ë¥•:', proxyUrl.split('?')[0], e.message);
                }
            }
            
            throw new Error('ÊâÄÊúâËØ∑Ê±ÇÊñπÂºèÈÉΩÂ§±Ë¥•‰∫ÜÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•');
        }
        
        // ‰∏ªÂáΩÊï∞ÔºöËé∑ÂèñÂºÄÂ•ñÊï∞ÊçÆ
        async function fetchLotteryData() {
            const lotteryType = document.getElementById('lottery-type-select').value;
            const lotteryNames = {
                'hk': 'È¶ôÊ∏ØÂÖ≠ÂêàÂΩ©',
                'xam': 'Êñ∞Êæ≥Èó®ÂÖ≠ÂêàÂΩ©',
                'am': '„ä£Êæ≥Èó®ÂÖ≠ÂêàÂΩ©'
            };
            
            showFetchStatus('üîÑ Ê≠£Âú®Ëé∑Âèñ ' + lotteryNames[lotteryType] + ' ÊúÄÊñ∞ÂºÄÂ•ñÊï∞ÊçÆ...', 'loading');
            
            // ‰ΩøÁî® Marksix6 APIÔºàÂîØ‰∏ÄÂèØÁî®ÁöÑAPIÔºâ
            const api = LOTTERY_APIS.marksix6;
            
            showFetchStatus(`üîÑ Ê≠£Âú®Ëé∑Âèñ ${api.name} Êï∞ÊçÆ...`, 'loading');
            
            try {
                // Ëé∑ÂèñÊï∞ÊçÆ
                const data = await fetchWithProxy(api.url);
                console.log(`${api.name} ËøîÂõû:`, data);
                
                // Ëß£ÊûêÊï∞ÊçÆ
                const result = api.parse(data, lotteryType);
                
                if (result && result.numbers && result.numbers.length === 7) {
                    // ÊàêÂäüËé∑ÂèñÊï∞ÊçÆ
                    applyLotteryResult(result, lotteryNames[lotteryType], lotteryType);
                    return;
                }
                
                showFetchStatus('‚ùå Êï∞ÊçÆËß£ÊûêÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï', 'error');
            } catch (error) {
                console.error(`${api.name} Â§±Ë¥•:`, error);
                showFetchStatus('‚ùå Ëé∑ÂèñÊï∞ÊçÆÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúÊàñÁ®çÂêéÈáçËØï', 'error');
            }
        }
        
        // Â∫îÁî®Ëé∑ÂèñÂà∞ÁöÑÂºÄÂ•ñÁªìÊûú
        function applyLotteryResult(result, lotteryName, lotteryType) {
            // ‰øùÂ≠òÂà∞ÂØπÂ∫îÂΩ©ÁßçÁöÑÊï∞ÊçÆ
            if (lotteryType && appState.lotteryData[lotteryType]) {
                appState.lotteryData[lotteryType] = {
                    numbers: result.numbers,
                    issue: result.issue,
                    time: result.time,
                    source: result.source
                };
                // Ê∑ªÂä†Âà∞ÂéÜÂè≤ËÆ∞ÂΩï
                addToHistory(lotteryType, result);
                renderHistoryList();  // Âà∑Êñ∞ÂéÜÂè≤ËÆ∞ÂΩïÂàóË°®
            }
            
            // Â°´ÂÖ•ËæìÂÖ•Ê°Ü
            for (let i = 0; i < 6; i++) {
                const input = document.getElementById('num' + (i + 1));
                input.value = String(result.numbers[i]).padStart(2, '0');
                updateInputColor(input, result.numbers[i], false);
            }
            
            const specialInput = document.getElementById('num-special');
            specialInput.value = String(result.numbers[6]).padStart(2, '0');
            updateInputColor(specialInput, result.numbers[6], true);
            
            // ÊòæÁ§∫ÊàêÂäü‰ø°ÊÅØ
            let statusMsg = `‚úÖ Ëé∑ÂèñÊàêÂäüÔºÅ<br>`;
            statusMsg += `<b>${lotteryName}</b> Á¨¨ <b>${result.issue}</b> Êúü<br>`;
            statusMsg += `ÂºÄÂ•ñÂè∑Á†ÅÔºö<b>${result.numbers.slice(0, 6).map(n => String(n).padStart(2, '0')).join(' ')} + ${String(result.numbers[6]).padStart(2, '0')}</b><br>`;
            if (result.time) {
                statusMsg += `ÂºÄÂ•ñÊó∂Èó¥Ôºö${result.time}<br>`;
            }
            statusMsg += `<span style="font-size:11px;color:#888;">Êï∞ÊçÆÊù•Ê∫êÔºö${result.source}</span>`;
            
            showFetchStatus(statusMsg, 'success');
            
            // ÊòæÁ§∫È¢ÑËßà
            showParsePreview(result.numbers.slice(0, 6), result.numbers[6]);
            
            // ‰øùÂ≠òÈÖçÁΩÆ
            saveConfig();
        }
        
        // ÂàáÊç¢ËµîÁéáÈù¢Êùø
        function showOddsPanel(panelId) {
            // ÂàáÊç¢ËèúÂçïÈÄâ‰∏≠Áä∂ÊÄÅ
            document.querySelectorAll('.odds-menu-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // ÂàáÊç¢ÂÜÖÂÆπÈù¢Êùø
            document.querySelectorAll('.odds-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            document.getElementById('panel-' + panelId).classList.add('active');
        }
        
        function updateDisplay() {
            // Êõ¥Êñ∞ÂºÄÂ•ñÂè∑Á†ÅÊòæÁ§∫
            renderLotteryBalls();
        }
        
        function renderLotteryBalls() {
            const container = document.getElementById('lottery-balls');
            const typeNameEl = document.getElementById('lottery-type-name');
            const issueEl = document.getElementById('lottery-issue');
            
            // Êõ¥Êñ∞ÂΩ©ÁßçÂêçÁß∞ÂíåÊúüÂè∑
            const typeNames = { xam: 'Êñ∞Êæ≥', hk: 'È¶ôÊ∏Ø' };
            if (typeNameEl) typeNameEl.textContent = typeNames[appState.currentLotteryType] || 'Êñ∞Êæ≥';
            
            const currentData = appState.lotteryData[appState.currentLotteryType];
            if (issueEl) {
                if (currentData && currentData.issue) {
                    issueEl.textContent = 'Á¨¨' + currentData.issue + 'Êúü';
                } else {
                    issueEl.textContent = 'Á¨¨xxxÊúü';
                }
            }
            
            // Êõ¥Êñ∞ÂàáÊç¢ÊåâÈíÆÁä∂ÊÄÅ
            updateSwitchButtons();
            
            if (!appState.lotteryNumbers || appState.lotteryNumbers.length < 7 || appState.lotteryNumbers[0] === 0) {
                container.innerHTML = '<div class="lottery-empty">ËØ∑ÂÖàËÆæÁΩÆÂºÄÂ•ñÂè∑Á†Å</div>';
                return;
            }
            
            // Ê£ÄÊü•ÊòØÂê¶ÊòØÁõ¥Êí≠Ê®°ÂºèÔºàÂè™ÊúâÁõ¥Êí≠Âà∑Êñ∞Êó∂ÊâçÊúâÂä®ÁîªÔºâ
            const isLive = window.isLiveAnimationEnabled || false;
            
            let html = '';
            for (let i = 0; i < 6; i++) {
                const num = appState.lotteryNumbers[i];
                const color = getNumberColor(num);
                const shengxiao = getNumberShengxiao(num);
                const wuxing = getNumberWuxing(num);
                
                if (isLive) {
                    const delay = i * 0.15;
                    html += `
                        <div class="ball-wrapper">
                            <div class="ball ${color}" style="--delay:${delay}s">${String(num).padStart(2, '0')}</div>
                            <div class="ball-info">${shengxiao}/${wuxing}</div>
                        </div>
                    `;
                } else {
                    html += `
                        <div class="ball-wrapper">
                            <div class="ball ${color} no-anim">${String(num).padStart(2, '0')}</div>
                            <div class="ball-info">${shengxiao}/${wuxing}</div>
                        </div>
                    `;
                }
            }
            
            html += '<span class="ball-plus">+</span>';
            
            // ÁâπÁ†Å
            const special = appState.lotteryNumbers[6];
            const specialColor = getNumberColor(special);
            const specialShengxiao = getNumberShengxiao(special);
            const specialWuxing = getNumberWuxing(special);
            
            if (isLive) {
                const specialDelay = 6 * 0.15 + 0.2;
                html += `
                    <div class="ball-wrapper">
                        <div class="ball ${specialColor}" style="--delay:${specialDelay}s">${String(special).padStart(2, '0')}</div>
                        <div class="ball-info">${specialShengxiao}/${specialWuxing}</div>
                    </div>
                `;
            } else {
                html += `
                    <div class="ball-wrapper">
                        <div class="ball ${specialColor} no-anim">${String(special).padStart(2, '0')}</div>
                        <div class="ball-info">${specialShengxiao}/${specialWuxing}</div>
                    </div>
                `;
            }
            
            container.innerHTML = html;
            
            // ÈáçÁΩÆÁõ¥Êí≠Âä®ÁîªÊ†áÂøó
            window.isLiveAnimationEnabled = false;
        }
        
        // ÂàáÊç¢ÂΩ©Áßç
        function switchLotteryType(type) {
            appState.currentLotteryType = type;
            
            // Âä†ËΩΩÂØπÂ∫îÂΩ©ÁßçÁöÑÊï∞ÊçÆ
            const data = appState.lotteryData[type];
            if (data && data.numbers && data.numbers.length === 7) {
                appState.lotteryNumbers = data.numbers;
            } else {
                appState.lotteryNumbers = [];
            }
            
            // ‰øùÂ≠òÂπ∂Âà∑Êñ∞ÊòæÁ§∫
            saveConfig();
            renderLotteryBalls();
        }
        
        // ==================== ÂéÜÂè≤ËÆ∞ÂΩïÂäüËÉΩ ====================
        
        let currentHistoryType = 'xam';  // ÂΩìÂâçÂéÜÂè≤ËÆ∞ÂΩïÊòæÁ§∫ÁöÑÂΩ©Áßç
        
        // ÂàáÊç¢ÂéÜÂè≤ËÆ∞ÂΩïÂΩ©Áßç
        function switchHistoryType(type) {
            currentHistoryType = type;
            
            // Êõ¥Êñ∞ÊåâÈíÆÊ†∑Âºè
            const btnXam = document.getElementById('history-btn-xam');
            const btnHk = document.getElementById('history-btn-hk');
            
            if (btnXam && btnHk) {
                if (type === 'xam') {
                    btnXam.style.background = 'rgba(233,69,96,0.2)';
                    btnHk.style.background = 'transparent';
                } else {
                    btnHk.style.background = 'rgba(76,175,80,0.2)';
                    btnXam.style.background = 'transparent';
                }
            }
            
            renderHistoryList();
        }
        
        // Ê∏≤ÊüìÂéÜÂè≤ËÆ∞ÂΩïÂàóË°®
        function renderHistoryList() {
            const container = document.getElementById('history-list');
            if (!container) return;
            
            // Á°Æ‰øùÂéÜÂè≤ËÆ∞ÂΩïÁªìÊûÑÂ≠òÂú®
            if (!appState.lotteryHistory) {
                appState.lotteryHistory = { xam: [], hk: [] };
            }
            
            const history = appState.lotteryHistory[currentHistoryType] || [];
            
            if (history.length === 0) {
                container.innerHTML = '<div style="text-align:center;color:#666;font-size:12px;padding:20px;">ÊöÇÊó†ÂéÜÂè≤ËÆ∞ÂΩïÔºåËØ∑ÁÇπÂáª"ÊâãÂä®Ëé∑Âèñ"ÊåâÈíÆ</div>';
                return;
            }
            
            let html = '';
            history.forEach((item, index) => {
                const numbersStr = item.numbers.slice(0, 6).map(n => String(n).padStart(2, '0')).join(' ') + 
                                ' + ' + String(item.numbers[6]).padStart(2, '0');
                const isFirst = index === 0;
                
                // ËÆ°ÁÆóÊó•ÊúüÔºö‰ªéÊúüÂè∑Êé®ÁÆóÔºàÂÅáËÆæÊØèÂ§©‰∏ÄÊúüÔºå‰ªéÊúÄÊñ∞‰∏ÄÊúüÁöÑÊó•ÊúüÂæÄÂâçÊé®Ôºâ
                let dateStr = '';
                if (item.time) {
                    // Â¶ÇÊûúÊúâÊó∂Èó¥‰ø°ÊÅØÔºåÁõ¥Êé•‰ΩøÁî®
                    const match = item.time.match(/(\d{4}-\d{2}-\d{2})/);
                    if (match) {
                        dateStr = match[1].substring(5); // Âèñ MM-DD
                    }
                } else if (isFirst && appState.lotteryData[currentHistoryType]?.time) {
                    // ÊúÄÊñ∞‰∏ÄÊúü‰ΩøÁî®ÂΩìÂâçÊï∞ÊçÆÁöÑÊó∂Èó¥
                    const match = appState.lotteryData[currentHistoryType].time.match(/(\d{4}-\d{2}-\d{2})/);
                    if (match) {
                        dateStr = match[1].substring(5);
                    }
                }
                
                html += `
                    <div onclick="selectHistoryItem('${currentHistoryType}', ${index})" 
                        style="display:flex;justify-content:space-between;align-items:center;padding:8px;margin-bottom:4px;background:${isFirst ? 'rgba(233,69,96,0.15)' : 'rgba(255,255,255,0.05)'};border-radius:6px;cursor:pointer;border:1px solid ${isFirst ? 'rgba(233,69,96,0.3)' : 'transparent'};">
                        <div style="flex:1;">
                            <div style="font-size:11px;color:#888;margin-bottom:2px;">
                                Á¨¨${item.issue}Êúü
                                ${dateStr ? '<span style="color:#4CAF50;margin-left:6px;">' + dateStr + '</span>' : ''}
                                ${isFirst ? '<span style="color:#e94560;font-weight:bold;margin-left:6px;">ÊúÄÊñ∞</span>' : ''}
                            </div>
                            <div style="font-size:13px;color:#fff;font-family:monospace;">${numbersStr}</div>
                        </div>
                        <button onclick="event.stopPropagation();selectHistoryItem('${currentHistoryType}', ${index})" 
                                style="padding:4px 10px;background:linear-gradient(90deg,#3498db,#2980b9);color:white;border:none;border-radius:4px;font-size:11px;cursor:pointer;">ÈÄâÁî®</button>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        // ÈÄâÊã©ÂéÜÂè≤ËÆ∞ÂΩï
        function selectHistoryItem(type, index) {
            if (!appState.lotteryHistory || !appState.lotteryHistory[type]) return;
            
            const item = appState.lotteryHistory[type][index];
            if (!item || !item.numbers) return;
            
            // ËÆæÁΩÆ‰∏∫ÂΩìÂâçÊï∞ÊçÆ
            appState.lotteryNumbers = item.numbers.slice();
            appState.currentLotteryType = type;
            appState.lotteryData[type] = {
                numbers: item.numbers.slice(),
                issue: item.issue,
                time: item.time,
                source: item.source
            };
            
            // Â°´ÂÖ•ËæìÂÖ•Ê°Ü
            for (let i = 0; i < 6; i++) {
                const input = document.getElementById('num' + (i + 1));
                if (input) {
                    input.value = String(item.numbers[i]).padStart(2, '0');
                    updateInputColor(input, item.numbers[i], false);
                }
            }
            const specialInput = document.getElementById('num-special');
            if (specialInput) {
                specialInput.value = String(item.numbers[6]).padStart(2, '0');
                updateInputColor(specialInput, item.numbers[6], true);
            }
            
            // ÊòæÁ§∫È¢ÑËßà
            showParsePreview(item.numbers.slice(0, 6), item.numbers[6]);
            
            saveConfig();
            renderLotteryBalls();
            
            // Ëá™Âä®ËøîÂõû‰∏ªÈ°µÔºåÊòæÁ§∫ÁÆÄÁü≠ÊèêÁ§∫
            showPage('page-main');
            
            // ÊòæÁ§∫ÊàêÂäüÊèêÁ§∫Ôºà‰∏çÈòªÂ°ûÔºâ
            const toast = document.createElement('div');
            toast.innerHTML = `‚úÖ Â∑≤Â∫îÁî®Á¨¨${item.issue}Êúü`;
            toast.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.85);color:#4CAF50;padding:15px 25px;border-radius:10px;font-size:14px;z-index:9999;';
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 1500);
        }
        
        // Ê∑ªÂä†ÂéÜÂè≤ËÆ∞ÂΩïÔºàËé∑ÂèñÊñ∞Êï∞ÊçÆÊó∂Ë∞ÉÁî®Ôºâ
        function addToHistory(type, data) {
            if (!data || !data.numbers || data.numbers.length < 7) return;
            
            // Á°Æ‰øùÂéÜÂè≤ËÆ∞ÂΩïÁªìÊûÑÂ≠òÂú®
            if (!appState.lotteryHistory) {
                appState.lotteryHistory = { xam: [], hk: [] };
            }
            if (!appState.lotteryHistory[type]) {
                appState.lotteryHistory[type] = [];
            }
            
            const history = appState.lotteryHistory[type];
            
            // Ê£ÄÊü•ÊòØÂê¶Â∑≤Â≠òÂú®Áõ∏ÂêåÊúüÂè∑
            const existingIndex = history.findIndex(h => h.issue === data.issue);
            if (existingIndex !== -1) {
                // Â∑≤Â≠òÂú®ÔºåÊõ¥Êñ∞Êï∞ÊçÆ
                history[existingIndex] = {
                    numbers: data.numbers.slice(),
                    issue: data.issue,
                    time: data.time,
                    source: data.source
                };
            } else {
                // ‰∏çÂ≠òÂú®ÔºåÊ∑ªÂä†Âà∞ÊúÄÂâçÈù¢
                history.unshift({
                    numbers: data.numbers.slice(),
                    issue: data.issue,
                    time: data.time,
                    source: data.source
                });
                
                // ‰øùÊåÅÊúÄÂ§ö10Êúü
                if (history.length > 10) {
                    history.pop();
                }
            }
            
            saveConfig();
        }
        
        // ÊâπÈáèÊ∑ªÂä†ÂéÜÂè≤ËÆ∞ÂΩïÔºà‰ªéAPIÁöÑhistoryÂ≠óÊÆµËß£ÊûêÔºâ
        function addHistoryFromAPI(type, historyArray, latestOpenTime) {
            if (!historyArray || !Array.isArray(historyArray)) return;
            
            // Á°Æ‰øùÂéÜÂè≤ËÆ∞ÂΩïÁªìÊûÑÂ≠òÂú®
            if (!appState.lotteryHistory) {
                appState.lotteryHistory = { xam: [], hk: [] };
            }
            if (!appState.lotteryHistory[type]) {
                appState.lotteryHistory[type] = [];
            }
            
            // Ëß£ÊûêÊúÄÊñ∞ÁöÑÂºÄÂ•ñÊó•Êúü
            let latestDate = null;
            if (latestOpenTime) {
                const match = latestOpenTime.match(/(\d{4})-(\d{2})-(\d{2})/);
                if (match) {
                    latestDate = new Date(parseInt(match[1]), parseInt(match[2]) - 1, parseInt(match[3]));
                }
            }
            
            // Ëß£ÊûêÂéÜÂè≤ËÆ∞ÂΩïÊ†ºÂºè: "2025129 ÊúüÔºö49,19,28,10,17,45,01"
            const parsedHistory = [];
            for (let i = 0; i < Math.min(historyArray.length, 10); i++) {
                const item = historyArray[i];
                // ÂåπÈÖçÊ†ºÂºè: "ÊúüÂè∑ ÊúüÔºöÂè∑Á†Å"
                const match = item.match(/(\d+)\s*Êúü[Ôºö:]\s*([\d,]+)/);
                if (match) {
                    const issue = match[1];
                    const numbers = match[2].split(',').map(n => parseInt(n.trim()));
                    if (numbers.length === 7) {
                        let dateStr = '';
                        
                        if (type === 'xam') {
                            // Êñ∞Êæ≥Èó®ÔºöÊØèÂ§©‰∏ÄÊúüÔºåÂèØ‰ª•Êé®ÁÆóÊó•Êúü
                            if (latestDate) {
                                const date = new Date(latestDate);
                                date.setDate(date.getDate() - i);
                                dateStr = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
                            }
                        } else if (type === 'hk' && i === 0 && latestOpenTime) {
                            // È¶ôÊ∏ØÔºöÊØèÂë®‰∫å„ÄÅÂõõ„ÄÅÂÖ≠ÂºÄÂ•ñÔºåÂè™ÊúâÊúÄÊñ∞‰∏ÄÊúüÊòæÁ§∫Êó•Êúü
                            dateStr = latestOpenTime;
                        }
                        // È¶ôÊ∏ØÂéÜÂè≤ËÆ∞ÂΩï‰∏çÊòæÁ§∫Êó•ÊúüÔºàÂõ†‰∏∫ÊØèÂë®3ÊúüÔºåÊó†Ê≥ïÁÆÄÂçïÊé®ÁÆóÔºâ
                        
                        parsedHistory.push({
                            numbers: numbers,
                            issue: issue,
                            time: dateStr,
                            source: 'Marksix6ÂéÜÂè≤'
                        });
                    }
                }
            }
            
            // ÊõøÊç¢ÂéÜÂè≤ËÆ∞ÂΩï
            appState.lotteryHistory[type] = parsedHistory;
            saveConfig();
        }
        
        // Ëé∑ÂèñÂéÜÂè≤ÂºÄÂ•ñËÆ∞ÂΩï
        async function fetchHistoryData() {
            const api = LOTTERY_APIS.marksix6;
            
            // ÊòæÁ§∫Âä†ËΩΩÊèêÁ§∫
            const historyList = document.getElementById('history-list');
            if (historyList) {
                historyList.innerHTML = '<div style="text-align:center;color:#9b59b6;font-size:12px;padding:20px;">üîÑ Ê≠£Âú®Ëé∑ÂèñÂéÜÂè≤ËÆ∞ÂΩï...</div>';
            }
            
            try {
                // ‰ΩøÁî® fetchWithProxy Ëß£ÂÜ≥CORSÈóÆÈ¢ò
                const data = await fetchWithProxy(api.url);
                
                if (!data.lottery_data) {
                    throw new Error('Êï∞ÊçÆÊ†ºÂºèÈîôËØØ');
                }
                
                // Ëß£ÊûêÊñ∞Êæ≥Èó®ÂéÜÂè≤
                const xamLottery = data.lottery_data.find(l => l.name === 'Êñ∞Êæ≥Èó®ÂΩ©');
                if (xamLottery && xamLottery.history) {
                    addHistoryFromAPI('xam', xamLottery.history, xamLottery.openTime);
                }
                
                // Ëß£ÊûêÈ¶ôÊ∏ØÂéÜÂè≤
                const hkLottery = data.lottery_data.find(l => l.name === 'È¶ôÊ∏ØÂΩ©');
                if (hkLottery && hkLottery.history) {
                    addHistoryFromAPI('hk', hkLottery.history, hkLottery.openTime);
                }
                
                // Âà∑Êñ∞ÊòæÁ§∫
                renderHistoryList();
                
                // ÊòæÁ§∫ÊàêÂäüÊèêÁ§∫
                const toast = document.createElement('div');
                toast.innerHTML = '‚úÖ ÂéÜÂè≤ËÆ∞ÂΩïËé∑ÂèñÊàêÂäü';
                toast.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.8);color:#4CAF50;padding:15px 25px;border-radius:10px;font-size:14px;z-index:9999;';
                document.body.appendChild(toast);
                setTimeout(() => toast.remove(), 1500);
                
            } catch (e) {
                console.error('Ëé∑ÂèñÂéÜÂè≤ËÆ∞ÂΩïÂ§±Ë¥•:', e);
                if (historyList) {
                    historyList.innerHTML = '<div style="text-align:center;color:#e94560;font-size:12px;padding:20px;">‚ùå Ëé∑ÂèñÂ§±Ë¥•ÔºåËØ∑ÈáçËØï</div>';
                }
            }
        }
        
        // Â§çÂà∂ÂºÄÂ•ñÁªìÊûú
        function copyLotteryResult() {
            const currentData = appState.lotteryData[appState.currentLotteryType];
            if (!currentData || !currentData.numbers || currentData.numbers.length < 7) {
                alert('ÊöÇÊó†ÂºÄÂ•ñÁªìÊûúÂèØÂ§çÂà∂');
                return;
            }
            
            // ÁÆÄÂåñÂêçÁß∞ÔºöÊñ∞Â••„ÄÅÈ¶ôÂÖ≠
            const typeNames = { xam: 'Êñ∞Â••', hk: 'È¶ôÂÖ≠', am: 'Êæ≥Èó®' };
            const typeName = typeNames[appState.currentLotteryType] || 'ÂÖ≠Âêà';
            const numbers = currentData.numbers;
            
            // Âè∑Á†ÅÊ†ºÂºèÔºö‰∏§‰∏§ÂàÜÁªÑÔºåÁâπÁ†ÅÂâçÁî®"Áâπ"
            // Ê†ºÂºèÔºö31 26  44 21  22 34 Áâπ 16
            const n = numbers.map(num => String(num).padStart(2, '0'));
            const numbersStr = `${n[0]} ${n[1]}  ${n[2]} ${n[3]}  ${n[4]} ${n[5]} Áâπ ${n[6]}`;
            
            // ÁîüËÇñÊ†ºÂºèÔºö‰∏éÂè∑Á†ÅÂØπÈΩê
            // Ê†ºÂºèÔºöÁå™  Èæô  Áãó  È∏°  Áå¥  Áå¥      Ëôé
            const sx = numbers.map(num => getNumberShengxiao(num));
            const shengxiaoStr = `${sx[0]}  ${sx[1]}  ${sx[2]}  ${sx[3]}  ${sx[4]}  ${sx[5]}      ${sx[6]}`;
            
            // È¢úËâ≤Ê†ºÂºèÔºö‰∏éÂè∑Á†ÅÂØπÈΩê
            // Ê†ºÂºèÔºöËìù  Ëìù  Áªø  Áªø  Áªø  Á∫¢      Áªø
            const colorMap = { red: 'Á∫¢', blue: 'Ëìù', green: 'Áªø' };
            const colors = numbers.map(num => colorMap[getNumberColor(num)] || '?');
            const colorStr = `${colors[0]}  ${colors[1]}  ${colors[2]}  ${colors[3]}  ${colors[4]}  ${colors[5]}      ${colors[6]}`;
            
            // Êó∂Èó¥Ê†ºÂºèÔºàÂè™‰øùÁïôÊó•ÊúüÈÉ®ÂàÜÔºâ
            let dateStr = 'Êú™Áü•';
            if (currentData.time) {
                const match = currentData.time.match(/(\d{4}-\d{2}-\d{2})/);
                if (match) {
                    dateStr = match[1];
                }
            }
            
            const text = `„Äê${typeName}„ÄëÁ¨¨${currentData.issue}Êúü\nÂè∑Á†ÅÔºö${numbersStr}\nÁîüËÇñÔºö${shengxiaoStr}\nÈ¢úËâ≤Ôºö${colorStr}\nÊó∂Èó¥Ôºö${dateStr}`;
            
            // Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(text).then(() => {
                    showCopySuccess();
                }).catch(() => {
                    fallbackCopy(text);
                });
            } else {
                fallbackCopy(text);
            }
        }
        
        function fallbackCopy(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed';
            textarea.style.left = '-9999px';
            document.body.appendChild(textarea);
            textarea.select();
            try {
                document.execCommand('copy');
                showCopySuccess();
            } catch (e) {
                alert('Â§çÂà∂Â§±Ë¥•ÔºåËØ∑ÊâãÂä®Â§çÂà∂');
            }
            document.body.removeChild(textarea);
        }
        
        function showCopySuccess() {
            // ÊòæÁ§∫Â§çÂà∂ÊàêÂäüÊèêÁ§∫Ôºà2ÁßíÂêéËá™Âä®ÂÖ≥Èó≠Ôºâ
            const toast = document.createElement('div');
            toast.innerHTML = '‚úÖ Â∑≤Â§çÂà∂ÂºÄÂ•ñÁªìÊûú';
            toast.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.85);color:#4CAF50;padding:15px 25px;border-radius:10px;font-size:14px;z-index:9999;';
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 2000);  // 2ÁßíÂêéËá™Âä®ÂÖ≥Èó≠
        }
        
        // Êõ¥Êñ∞ÂàáÊç¢ÊåâÈíÆÁä∂ÊÄÅ
        function updateSwitchButtons() {
            const btnXam = document.getElementById('btn-xam');
            const btnHk = document.getElementById('btn-hk');
            
            if (btnXam && btnHk) {
                if (appState.currentLotteryType === 'xam') {
                    btnXam.style.background = '#e94560';
                    btnXam.style.color = '#fff';
                    btnHk.style.background = 'transparent';
                    btnHk.style.color = '#4CAF50';
                } else {
                    btnHk.style.background = '#4CAF50';
                    btnHk.style.color = '#fff';
                    btnXam.style.background = 'transparent';
                    btnXam.style.color = '#e94560';
                }
            }
        }
        
        function getNumberColor(num) {
            if (LHC_DATA.bose['Á∫¢Ê≥¢'].includes(num)) return 'red';
            if (LHC_DATA.bose['ËìùÊ≥¢'].includes(num)) return 'blue';
            if (LHC_DATA.bose['ÁªøÊ≥¢'].includes(num)) return 'green';
            return 'blue';
        }
        
        function getNumberShengxiao(num) {
            for (let [sx, nums] of Object.entries(LHC_DATA.shengxiao)) {
                if (nums.includes(num)) return sx;
            }
            return '';
        }
        
        function getNumberWuxing(num) {
            for (let [wx, nums] of Object.entries(LHC_DATA.wuxing)) {
                if (nums.includes(num)) return wx;
            }
            return '';
        }
        
        // ==================== ËµîÁéáËÆæÁΩÆ ====================
        function saveOdds() {
            // ‰øùÂ≠òÊâÄÊúâËµîÁéáËæìÂÖ•Ê°ÜÁöÑÂÄº
            saveOddsToStorage();
            
            showPage('page-main');
            alert('ËµîÁéáËÆæÁΩÆÂ∑≤‰øùÂ≠òÔºÅ');
        }
        
        // ==================== ÊøÄÊ¥ªÂäüËÉΩ ====================
        function checkLicense() {
            const statusEl = document.getElementById('license-status');
            
            // Ê£ÄÊü•ËØïÁî®Êúü
            let installTime = localStorage.getItem('lhc_install_time');
            if (!installTime) {
                installTime = Date.now().toString();
                localStorage.setItem('lhc_install_time', installTime);
            }
            
            const elapsed = Date.now() - parseInt(installTime);
            const daysLeft = Math.max(0, 7 - Math.floor(elapsed / (24 * 60 * 60 * 1000)));
            appState.trialDaysLeft = daysLeft;
            
            // Ê£ÄÊü•ÊøÄÊ¥ªÁä∂ÊÄÅ
            const licenseData = localStorage.getItem('lhc_license');
            if (licenseData) {
                const data = JSON.parse(licenseData);
                if (data.activated) {
                    appState.isActivated = true;
                    statusEl.textContent = 'Â∑≤ÊøÄÊ¥ª ‚úì';
                    statusEl.className = 'status-value active';
                    return;
                }
            }
            
            if (daysLeft > 0) {
                statusEl.textContent = `ËØïÁî®ÊúüÂâ©‰Ωô ${daysLeft} Â§©`;
                statusEl.className = 'status-value trial';
            } else {
                statusEl.textContent = 'ËØïÁî®ÊúüÂ∑≤ËøáÔºåËØ∑ÊøÄÊ¥ª';
                statusEl.className = 'status-value expired';
            }
        }
        
        function copyMachineCode() {
            navigator.clipboard.writeText(appState.machineCode).then(() => {
                alert('Êú∫Âô®Á†ÅÂ∑≤Â§çÂà∂ÔºÅ');
            }).catch(() => {
                const input = document.createElement('input');
                input.value = appState.machineCode;
                document.body.appendChild(input);
                input.select();
                document.execCommand('copy');
                document.body.removeChild(input);
                alert('Êú∫Âô®Á†ÅÂ∑≤Â§çÂà∂ÔºÅ');
            });
        }
        
        function activateLicense() {
            const code = document.getElementById('license-input').value.trim().toUpperCase();
            if (!code) {
                alert('ËØ∑ËæìÂÖ•ÊøÄÊ¥ªÁ†Å');
                return;
            }
            
            // ËøôÈáåÂÆûÁé∞ÊøÄÊ¥ªÈ™åËØÅÈÄªËæë
            // ÁÆÄÂçïÁ§∫‰æãÔºöÈ™åËØÅÊøÄÊ¥ªÁ†ÅÊ†ºÂºè
            if (code.length >= 16) {
                localStorage.setItem('lhc_license', JSON.stringify({
                    activated: true,
                    code: code,
                    time: Date.now()
                }));
                appState.isActivated = true;
                checkLicense();
                alert('ÊøÄÊ¥ªÊàêÂäüÔºÅ');
            } else {
                alert('ÊøÄÊ¥ªÁ†ÅÊó†ÊïàÔºåËØ∑Ê£ÄÊü•ÂêéÈáçËØï');
            }
        }
        
        // ==================== ÂèÇÁÖßË°®Ê∏≤Êüì ====================
        function renderReferenceTables() {
            // ÁîüËÇñË°®
            let sxHtml = '<tr><th>ÁîüËÇñ</th><th>ÂØπÂ∫îÂè∑Á†Å</th></tr>';
            for (let [sx, nums] of Object.entries(LHC_DATA.shengxiao)) {
                const numsStr = nums.map(n => {
                    const color = getNumberColor(n);
                    return `<span class="num-${color}">${String(n).padStart(2, '0')}</span>`;
                }).join(' ');
                sxHtml += `<tr><td>${sx}</td><td>${numsStr}</td></tr>`;
            }
            document.getElementById('ref-shengxiao').innerHTML = sxHtml;
            
            // ‰∫îË°åË°®
            let wxHtml = '<tr><th>‰∫îË°å</th><th>ÂØπÂ∫îÂè∑Á†Å</th></tr>';
            for (let [wx, nums] of Object.entries(LHC_DATA.wuxing)) {
                const numsStr = nums.map(n => {
                    const color = getNumberColor(n);
                    return `<span class="num-${color}">${String(n).padStart(2, '0')}</span>`;
                }).join(' ');
                wxHtml += `<tr><td>${wx}</td><td>${numsStr}</td></tr>`;
            }
            document.getElementById('ref-wuxing').innerHTML = wxHtml;
            
            // Ê≥¢Ëâ≤Ë°®
            let bsHtml = '<tr><th>Ê≥¢Ëâ≤</th><th>ÂØπÂ∫îÂè∑Á†Å</th></tr>';
            for (let [bs, nums] of Object.entries(LHC_DATA.bose)) {
                const colorClass = bs === 'Á∫¢Ê≥¢' ? 'red' : bs === 'ËìùÊ≥¢' ? 'blue' : 'green';
                const numsStr = nums.map(n => `<span class="num-${colorClass}">${String(n).padStart(2, '0')}</span>`).join(' ');
                bsHtml += `<tr><td>${bs}</td><td>${numsStr}</td></tr>`;
            }
            document.getElementById('ref-bose').innerHTML = bsHtml;
            
            // ÂÆ∂Á¶ΩÈáéÂÖΩË°®
            let jqHtml = '<tr><th>Á±ªÂûã</th><th>ÁîüËÇñ</th></tr>';
            for (let [type, sxList] of Object.entries(LHC_DATA.jiaqin)) {
                jqHtml += `<tr><td>${type}</td><td>${sxList.join(' ')}</td></tr>`;
            }
            document.getElementById('ref-jiaqin').innerHTML = jqHtml;
        }
        
        // ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
        // ‚ïë                    „ÄêÊ®°Âùó1„ÄëÊ†ºÂºèËß£ÊûêÊ®°Âùó                        ‚ïë
        // ‚ïë  Êñá‰ª∂ÂàÜÁ¶ªÊó∂ÊèêÂèñÂà∞: js/parser.js                                 ‚ïë
        // ‚ïë  ÂäüËÉΩ: Ëß£ÊûêÁî®Êà∑ËæìÂÖ•ÁöÑ‰∏ãÊ≥®ÊñáÊú¨ÔºåËØÜÂà´Áé©Ê≥ïÂíåÈáëÈ¢ù                    ‚ïë
        // ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
        
        // Â≠òÂÇ®Ëß£ÊûêÂêéÁöÑ‰∏ãÊ≥®Êï∞ÊçÆ
        let parsedBets = [];
        let calcResults = [];
        let parsedGroups = [];  // Â≠òÂÇ®ÂàÜÁªÑ‰ø°ÊÅØ
        let parsedLines = [];   // üÜï Â≠òÂÇ®Ë°åÁ∫ßÊï∞ÊçÆÔºàÁî®‰∫éÂ∞èÁ•®ÂºèÊ∏≤ÊüìÔºâ
        
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // „ÄêÂàÜÁªÑËß£ÊûêÁ≥ªÁªü v3.0„Äë‰∏•Ê†ºÁ©∫Ë°åÂàÜÁªÑ + Ë°åÁ∫ßËøΩË∏™ + ÂéüÊñáÁªëÂÆö
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        /**
         * Ëß£Êûê‰∏ãÊ≥®‰ø°ÊÅØÔºàÂÖ•Âè£ÂáΩÊï∞Ôºâ- ‰∏•Ê†ºÂàÜÁªÑ + Ë°åÁ∫ßËøΩË∏™
         * @param {string} input - Áî®Êà∑ËæìÂÖ•ÁöÑÂéüÂßãÊñáÊú¨
         * @param {boolean} returnGroups - ÊòØÂê¶ËøîÂõûÂàÜÁªÑ‰ø°ÊÅØ
         * @returns {Array} - Ëß£ÊûêÂêéÁöÑ‰∏ãÊ≥®ÂàóË°®ÔºàÂ∏¶ groupId, lineId, originalLineÔºâ
         */
        function parseBetInput(input, returnGroups = false) {
            const bets = [];
            parsedGroups = [];
            parsedLines = [];
            
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // „ÄêÈ¢ÑÂ§ÑÁêÜ„ÄëÁªü‰∏ÄÊç¢Ë°åÁ¨¶Ê†ºÂºèÔºåËß£ÂÜ≥ÂæÆ‰ø°/Ë∑®Âπ≥Âè∞Â§çÂà∂Á≤òË¥¥ÈóÆÈ¢ò
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            let normalizedInput = input
                .replace(/\r\n/g, '\n')     // WindowsÊç¢Ë°å ‚Üí Unix
                .replace(/\r/g, '\n')       // ËÄÅMacÊç¢Ë°å ‚Üí Unix
                .trim();                     // ÁßªÈô§È¶ñÂ∞æÁ©∫ÁôΩ
            
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // „ÄêÁ¨¨‰∏ÄÂ±ÇÂàáÂâ≤„Äë‰∏•Ê†ºÊåâÁ©∫Ë°åÂàÜÁªÑ v2.4.6
            // üÜï ÊîπËøõÔºöÈÄêË°åÊ£ÄÊµãÁ©∫Ë°åÔºàÂè™ÂåÖÂê´Á©∫ÁôΩÂ≠óÁ¨¶ÁöÑË°åÔºâÔºåÈÅøÂÖçË°åÈ¶ñÁ©∫Ê†ºÂπ≤Êâ∞ÂàÜÁªÑ
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            const allLines = normalizedInput.split('\n');
            const groupTexts = [];
            let currentGroup = [];
            
            for (const line of allLines) {
                const trimmedLine = line.trim();
                if (trimmedLine === '') {
                    // Á©∫Ë°åÔºöÂ¶ÇÊûúÂΩìÂâçÁªÑÊúâÂÜÖÂÆπÔºåÂàôÁªìÊùüÂΩìÂâçÁªÑ
                    if (currentGroup.length > 0) {
                        groupTexts.push(currentGroup.join('\n'));
                        currentGroup = [];
                    }
                } else {
                    // ÈùûÁ©∫Ë°åÔºöÊ∑ªÂä†Âà∞ÂΩìÂâçÁªÑÔºàÂ∑≤trimËøáÔºâ
                    currentGroup.push(trimmedLine);
                }
            }
            // Ê∑ªÂä†ÊúÄÂêé‰∏ÄÁªÑ
            if (currentGroup.length > 0) {
                groupTexts.push(currentGroup.join('\n'));
            }
            
            console.log(`üì¶ ÂàÜÁªÑÂàáÂâ≤ v2.4.6: Ê£ÄÊµãÂà∞ ${allLines.length} Ë°åÔºåÂàÜÊàê ${groupTexts.length} ÁªÑ`);
            
            console.log(`üì¶ ÂàÜÁªÑÂàáÂâ≤: ÂÖ± ${groupTexts.length} ‰∏™ÁªÑ`);
            
            let globalLineIndex = 0;  // ÂÖ®Â±ÄË°åÂè∑ÔºàÁî®‰∫éÂèçÈ¶àÈ°µÂÆö‰ΩçÔºâ
            
            groupTexts.forEach((groupText, groupIndex) => {
                const groupId = groupIndex + 1;
                
                // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                // „ÄêÁ¨¨‰∫åÂ±ÇÂàáÂâ≤„ÄëÁªÑÂÜÖÊåâÂçïÊç¢Ë°åÂàÜË°å
                // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                const lines = groupText.split('\n').map(l => l.trim()).filter(l => l);
                const groupBets = [];
                const groupLineData = [];
                
                console.log(`  üìã ÁªÑ${groupId}: ${lines.length}Ë°å`);
                
                lines.forEach((originalLine, lineIndexInGroup) => {
                    const lineId = `${groupId}-${lineIndexInGroup}`;  // ÂîØ‰∏ÄË°åÊ†áËØÜ
                    
                    // Â∞ùËØïËß£ÊûêËØ•Ë°å
                    let parsed = null;
                    let isError = false;
                    
                    try {
                        parsed = parseBetLine(originalLine);
                    } catch (e) {
                        console.warn(`    ‚ö†Ô∏è Ë°å${lineId}Ëß£ÊûêÂºÇÂ∏∏:`, e.message);
                        isError = true;
                    }
                    
                    // ÊûÑÂª∫Ë°åÁ∫ßÊï∞ÊçÆ
                    const lineData = {
                        lineId: lineId,
                        groupId: groupId,
                        lineIndexInGroup: lineIndexInGroup,
                        globalLineIndex: globalLineIndex,
                        originalLine: originalLine,  // üîë ÂÖ≥ÈîÆÔºö‰øùÁïôÂÆåÊï¥ÂéüÊñá
                        bets: [],
                        betCount: 0,
                        isError: isError,
                        parseError: isError ? 'Ëß£ÊûêÂ§±Ë¥•' : null
                    };
                    
                    if (parsed && parsed.length > 0) {
                        // Ëß£ÊûêÊàêÂäüÔºö‰∏∫ÊØè‰∏™betÁªëÂÆöË°åÁ∫ß‰ø°ÊÅØ
                        parsed.forEach((bet, betIndex) => {
                            bet.groupId = groupId;
                            bet.lineId = lineId;
                            bet.originalLine = originalLine;  // üîë ÊØè‰∏™betÈÉΩÁªëÂÆöÂéüÊñá
                            bet.globalLineIndex = globalLineIndex;
                            bet.betIndexInLine = betIndex;
                            
                            lineData.bets.push(bet);
                            groupBets.push(bet);
                            bets.push(bet);
                        });
                        lineData.betCount = parsed.length;
                        console.log(`    ‚úÖ Ë°å${lineId}: "${originalLine.substring(0,20)}..." ‚Üí ${parsed.length}Ê≥®`);
                    } else {
                        // Ëß£ÊûêÂ§±Ë¥•ÊàñÊó†ÁªìÊûúÔºöÁîüÊàêÂç†‰ΩçÂØπË±°
                        const placeholderBet = {
                            type: 'Êú™ËØÜÂà´',
                            value: '',
                            amount: 0,
                            groupId: groupId,
                            lineId: lineId,
                            originalLine: originalLine,  // üîë ‰øùÁïôÂéüÊñáÔºÅ
                            globalLineIndex: globalLineIndex,
                            betIndexInLine: 0,
                            isError: true,
                            parseError: 'Êú™ËÉΩËß£ÊûêÂá∫ÊúâÊïà‰∏ãÊ≥®'
                        };
                        lineData.bets.push(placeholderBet);
                        lineData.betCount = 0;
                        lineData.isError = true;
                        groupBets.push(placeholderBet);
                        bets.push(placeholderBet);
                        console.log(`    ‚ùå Ë°å${lineId}: "${originalLine.substring(0,20)}..." ‚Üí Êú™ËØÜÂà´`);
                    }
                    
                    parsedLines.push(lineData);
                    groupLineData.push(lineData);
                    globalLineIndex++;
                });
                
                // ‰øùÂ≠òÂàÜÁªÑ‰ø°ÊÅØ
                parsedGroups.push({
                    id: groupId,
                    rawText: groupText,
                    lines: groupLineData,
                    bets: groupBets,
                    betCount: groupBets.filter(b => !b.isError).length,
                    lineCount: lines.length
                });
            });
            
            console.log(`üìä Ëß£ÊûêÂÆåÊàê: ${parsedGroups.length}ÁªÑ, ${parsedLines.length}Ë°å, ${bets.length}Ê≥®`);
            
            if (returnGroups) {
                return { bets, groups: parsedGroups, lines: parsedLines };
            }
            return bets;
        }
        
        /**
         * üÜï Â≠§ÂÑøË°åÊ£ÄÊµã - ËØÜÂà´ÂèØËÉΩÊòØÊâãËØØÊç¢Ë°åÁöÑË°å
         * ËßÑÂàôÔºöÂÖ®ÊòØÊï∞Â≠ó/ÂàÜÈöîÁ¨¶Ôºå‰∏îÊ≤°ÊúâÈáëÈ¢ùÂÖ≥ÈîÆËØçÔºàÂêÑ/ÂÖÉ/x/XÔºâ
         * @param {string} input - Áî®Êà∑ËæìÂÖ•
         * @returns {Array} - Ê£ÄÊµãÂà∞ÁöÑÂ≠§ÂÑøË°å‰ø°ÊÅØ
         */
        function detectOrphanLines(input) {
            const orphans = [];
            const lines = input.split('\n');
            
            // ÈáëÈ¢ùÂÖ≥ÈîÆËØçÊ≠£Âàô
            const amountKeywords = /[ÂêÑÂÖÉxX√óÂùóÈí±]/;
            // Á∫ØÊï∞Â≠ó/ÂàÜÈöîÁ¨¶Ë°åÊ≠£ÂàôÔºàÂÖÅËÆ∏Á©∫Ê†º„ÄÅÈÄóÂè∑„ÄÅÁÇπ„ÄÅÊñúÊù†Ôºâ
            const pureNumberLine = /^[\d\s,Ôºå.„ÄÇ\/\-]+$/;
            
            for (let i = 0; i < lines.length; i++) {
                const line = lines[i].trim();
                if (!line) continue;
                
                // Ê£ÄÊü•ÊòØÂê¶ÊòØÁ∫ØÊï∞Â≠óË°åÔºàÊ≤°ÊúâÈáëÈ¢ùÂÖ≥ÈîÆËØçÔºâ
                if (pureNumberLine.test(line) && !amountKeywords.test(line)) {
                    // Ê£ÄÊü•‰∏ã‰∏ÄË°åÊòØÂê¶Â≠òÂú®‰∏îÊúâÈáëÈ¢ù
                    const nextLine = lines[i + 1]?.trim() || '';
                    
                    // Âè™ÊúâÂΩì‰∏ã‰∏ÄË°åÊúâÂÜÖÂÆπÊó∂ÊâçÊ†áËÆ∞‰∏∫Â≠§ÂÑøË°å
                    if (nextLine && amountKeywords.test(nextLine)) {
                        orphans.push({
                            lineIndex: i,
                            lineNumber: i + 1,  // ‰∫∫Á±ªÂèØËØªÁöÑË°åÂè∑
                            content: line,
                            nextLineContent: nextLine,
                            suggestMerge: true
                        });
                    }
                }
            }
            
            return orphans;
        }
        
        /**
         * üÜï ÊòæÁ§∫Â≠§ÂÑøË°åÁ°ÆËÆ§ÂºπÁ™ó
         * @param {Array} orphans - Ê£ÄÊµãÂà∞ÁöÑÂ≠§ÂÑøË°å
         * @param {string} input - ÂéüÂßãËæìÂÖ•
         * @returns {Promise<string>} - Â§ÑÁêÜÂêéÁöÑËæìÂÖ•
         */
        function showOrphanConfirmDialog(orphans, input) {
            return new Promise((resolve) => {
                if (orphans.length === 0) {
                    resolve(input);
                    return;
                }
                
                const orphan = orphans[0];  // ‰∏ÄÊ¨°Â§ÑÁêÜ‰∏Ä‰∏™
                
                const dialogHtml = `
                    <div style="text-align:left;">
                        <div style="background:rgba(255,193,7,0.2);padding:12px;border-radius:8px;margin-bottom:12px;border-left:3px solid #ffc107;">
                            <div style="color:#ffc107;font-weight:bold;margin-bottom:8px;">‚ö†Ô∏è Ê£ÄÊµãÂà∞ÂèØËÉΩÁöÑÊñ≠Ë°å</div>
                            <div style="font-size:12px;color:#aaa;margin-bottom:4px;">Á¨¨ ${orphan.lineNumber} Ë°å‰ºº‰πéÂè™ÊúâÂè∑Á†ÅÔºåÊ≤°ÊúâÈáëÈ¢ùÔºö</div>
                        </div>
                        
                        <div style="background:rgba(0,0,0,0.3);padding:10px;border-radius:6px;margin-bottom:10px;font-family:monospace;">
                            <div style="color:#888;font-size:10px;margin-bottom:2px;">Á¨¨${orphan.lineNumber}Ë°å:</div>
                            <div style="color:#fbbf24;font-size:14px;font-weight:bold;">${orphan.content}</div>
                            <div style="color:#444;margin:4px 0;">‚Üì (Êç¢Ë°å)</div>
                            <div style="color:#888;font-size:10px;margin-bottom:2px;">Á¨¨${orphan.lineNumber + 1}Ë°å:</div>
                            <div style="color:#fff;font-size:14px;">${orphan.nextLineContent}</div>
                        </div>
                        
                        <div style="font-size:12px;color:#888;margin-bottom:12px;">
                            üí° <strong>Âª∫ËÆÆ</strong>ÔºöÂ¶ÇÊûúÊòØÊâãËØØÊç¢Ë°åÔºåÂèØ‰ª•ÂêàÂπ∂Ëøô‰∏§Ë°å
                        </div>
                        
                        <div style="display:flex;gap:10px;">
                            <button onclick="window._orphanResolve('merge')" style="flex:1;padding:10px;background:linear-gradient(135deg,#4caf50,#45a049);color:white;border:none;border-radius:6px;font-weight:bold;cursor:pointer;">
                                ‚úÖ ÂêàÂπ∂Ëøô‰∏§Ë°å
                            </button>
                            <button onclick="window._orphanResolve('keep')" style="flex:1;padding:10px;background:rgba(255,255,255,0.1);color:#aaa;border:1px solid #444;border-radius:6px;cursor:pointer;">
                                ‰øùÊåÅÂéüÊ†∑
                            </button>
                        </div>
                    </div>
                `;
                
                showCustomModal('üîç Êñ≠Ë°åÊ£ÄÊµã', dialogHtml);
                
                window._orphanResolve = (action) => {
                    closeCustomModal();
                    
                    if (action === 'merge') {
                        // ÂêàÂπ∂ÔºöÂà†Èô§ËØ•Ë°åÁöÑÊç¢Ë°åÁ¨¶
                        const lines = input.split('\n');
                        lines[orphan.lineIndex] = lines[orphan.lineIndex] + ' ' + lines[orphan.lineIndex + 1];
                        lines.splice(orphan.lineIndex + 1, 1);
                        const newInput = lines.join('\n');
                        
                        // Êõ¥Êñ∞ËæìÂÖ•Ê°Ü
                        document.getElementById('bet-input').value = newInput;
                        showAutoCloseToast('‚úÖ Â∑≤ÂêàÂπ∂Á¨¨' + orphan.lineNumber + 'Ë°å', 2000);
                        
                        // ÈÄíÂΩíÊ£ÄÊµãÂâ©‰ΩôÂ≠§ÂÑøË°å
                        const remainingOrphans = detectOrphanLines(newInput);
                        if (remainingOrphans.length > 0) {
                            showOrphanConfirmDialog(remainingOrphans, newInput).then(resolve);
                        } else {
                            resolve(newInput);
                        }
                    } else {
                        // ‰øùÊåÅÂéüÊ†∑ÔºåÁªßÁª≠Ê£ÄÊµã‰∏ã‰∏Ä‰∏™
                        const remainingOrphans = orphans.slice(1);
                        if (remainingOrphans.length > 0) {
                            showOrphanConfirmDialog(remainingOrphans, input).then(resolve);
                        } else {
                            resolve(input);
                        }
                    }
                };
            });
        }
        
        // Ëé∑ÂèñÊ†ºÂºèËÆæÁΩÆ
        // API Key Â∑≤ÁßªËá≥ÈòøÈáå‰∫ëÂáΩÊï∞ÁéØÂ¢ÉÂèòÈáèÔºåÂâçÁ´Ø‰∏çÂÜçÂ≠òÂÇ®
        function getFormatSettings() {
            try {
                const saved = JSON.parse(localStorage.getItem('lhc_format_settings') || '{}');
                // AIÈÖçÁΩÆÔºöKeyÂú®ÂêéÁ´ØÔºåÂâçÁ´ØÂè™ÈúÄË¶ÅÁü•ÈÅìÊòØÂê¶ÂêØÁî®Âíå‰ΩøÁî®Âì™‰∏™Ê®°Âûã
                // „Äê‰øÆÂ§ç„Äë‰ºòÂÖà‰ªé ai_provider ËØªÂèñÁî®Êà∑ÂàáÊç¢ÁöÑÊ®°ÂûãÈÄâÊã©
                saved.aiProvider = localStorage.getItem('ai_provider') || saved.aiProvider || 'openrouter';
                if (saved.aiEnabled === undefined) {
                    saved.aiEnabled = true; // ÈªòËÆ§ÂêØÁî®
                }
                return saved;
            } catch(e) {
                return {
                    aiEnabled: true,
                    aiProvider: localStorage.getItem('ai_provider') || 'openrouter'
                };
            }
        }
        
        // Ëß£ÊûêËá™ÂÆö‰πâÂÖ≥ÈîÆËØç
        function parseCustomKeywords(line, settings) {
            const bets = [];
            const keywords = (settings.customKeywords || '').split('\n').filter(k => k.trim());
            
            for (const kw of keywords) {
                const [key, playType] = kw.split('=').map(s => s.trim());
                if (key && playType && line.includes(key)) {
                    // ÊèêÂèñÂÖ≥ÈîÆËØçÂêéÈù¢ÁöÑÊï∞Â≠ó‰Ωú‰∏∫ÈáëÈ¢ù
                    const amountMatch = line.match(new RegExp(key + '.*?(\\d+)'));
                    if (amountMatch) {
                        // ÊèêÂèñÂèØËÉΩÁöÑÂè∑Á†ÅÊàñÁîüËÇñ
                        const numMatch = line.match(/(\d+)/g);
                        if (numMatch && numMatch.length >= 2) {
                            bets.push({ 
                                type: playType, 
                                value: numMatch[0], 
                                number: parseInt(numMatch[0]),
                                amount: parseInt(numMatch[numMatch.length - 1]), 
                                raw: line 
                            });
                            return bets;
                        }
                    }
                }
            }
            return null;
        }
        
        // Â¢ûÂº∫ÁâàËß£ÊûêÂçïË°å‰∏ãÊ≥®
        function parseBetLine(line) {
            const bets = [];
            const settings = getFormatSettings();
            const shengxiaoList = ['Èº†', 'Áâõ', 'Ëôé', 'ÂÖî', 'Èæô', 'Ëõá', 'È©¨', 'Áæä', 'Áå¥', 'È∏°', 'Áãó', 'Áå™'];
            
            // „ÄêÂÖ≥ÈîÆ‰øÆÂ§ç„ÄëÈ¢ÑÂ§ÑÁêÜÔºöÂÖ®ËßíËΩ¨ÂçäËßíÔºàËß£ÂÜ≥ÊâãÊú∫ËæìÂÖ•ÈóÆÈ¢òÔºâ
            if (typeof normalizeFullWidth === 'function') {
                line = normalizeFullWidth(line);
            }
            
            // È¢ÑÂ§ÑÁêÜÔºöËΩ¨Êç¢‰∏≠ÊñáÊï∞Â≠ó
            if (settings.cnNumber !== false) {
            line = convertChineseNumber(line);
            }
            
            // È¢ÑÂ§ÑÁêÜÔºöÊ∏ÖÁêÜÂ§ö‰ΩôÁ©∫Ê†º
            if (settings.ignoreSpace !== false) {
                line = line.replace(/\s+/g, ' ').trim();
            }
            
            // È¢ÑÂ§ÑÁêÜÔºöÂêåÈü≥Â≠óÁ∫†Ê≠£
            if (settings.autoCorrect !== false) {
                line = correctHomophones(line);
            }
            
            // ‰ºòÂÖàÊ£ÄÊü•Ëá™ÂÆö‰πâÂÖ≥ÈîÆËØç
            const customResult = parseCustomKeywords(line, settings);
            if (customResult && customResult.length > 0) {
                return customResult;
            }
            
            // ========== Ê®°Âºè1: Â§öÂè∑Á†ÅÂêÑ‰∏ãÊ≥® ==========
            // "31.34ÂêÑ20" Êàñ "31 34ÂêÑ20" Êàñ "31,34ÂêÑ20"
            if (settings.tplMultiNum !== false) {
                const multiMatch = line.match(/^(\d+[\s.,Ôºå„ÄÅ]+\d+(?:[\s.,Ôºå„ÄÅ]+\d+)*)ÂêÑ(\d+)ÂÖÉ?$/);
            if (multiMatch) {
                    const nums = multiMatch[1].split(/[\s.,Ôºå„ÄÅ]+/).map(n => parseInt(n));
                const amount = parseInt(multiMatch[2]);
                for (const num of nums) {
                        if (num >= 1 && num <= 49) {
                    bets.push({ type: 'ÁâπÁ†Å', number: num, amount: amount, raw: line });
                }
                    }
                    if (bets.length) return bets;
                }
            }
            
            // ========== Ê®°Âºè2: ÁâπÁ†Å‰∏ãÊ≥® ==========
            // "Áâπ43 20ÂÖÉ" "ÁâπÁ†Å 05 100" "Áâπ43 20"
            if (settings.tplTema !== false) {
                const temaMatch = line.match(/ÁâπÁ†Å?\s*(\d+)\s*[,Ôºå]?\s*(\d+)ÂÖÉ?/);
            if (temaMatch) {
                bets.push({ type: 'ÁâπÁ†Å', number: parseInt(temaMatch[1]), amount: parseInt(temaMatch[2]), raw: line });
                return bets;
                }
            }
            
            // ========== Ê®°Âºè3: XË°®Á§∫ÈáëÈ¢ù ==========
            // "46,45,X50" "22Ôºå33ÔºåX15" "È∏°Èº†Áå¥X10"
            if (settings.tplXAmount !== false) {
                // Êï∞Â≠ó+XÈáëÈ¢ù
                const xNumMatch = line.match(/(\d+(?:[,Ôºå„ÄÅ\s]+\d+)*)[,Ôºå„ÄÅ\s]*[Xx](\d+)/);
                if (xNumMatch) {
                    const nums = xNumMatch[1].split(/[,Ôºå„ÄÅ\s]+/).map(n => parseInt(n)).filter(n => n >= 1 && n <= 49);
                    const amount = parseInt(xNumMatch[2]);
                    for (const num of nums) {
                        bets.push({ type: 'ÁâπÁ†Å', number: num, amount: amount, raw: line });
                    }
                    if (bets.length) return bets;
                }
                
                // ÁîüËÇñ+XÈáëÈ¢ù
                const xSxMatch = line.match(/([Èº†ÁâõËôéÂÖîÈæôËõáÈ©¨ÁæäÁå¥È∏°ÁãóÁå™]+)[Xx](\d+)/);
                if (xSxMatch) {
                    const animals = xSxMatch[1].split('');
                    const amount = parseInt(xSxMatch[2]);
                    for (const sx of animals) {
                        if (shengxiaoList.includes(sx)) {
                            bets.push({ type: 'ÁîüËÇñ', value: sx, amount: amount, raw: line });
                        }
                    }
                    if (bets.length) return bets;
                }
            }
            
            // ========== Ê®°Âºè4: ‰π∞ÁîüËÇñ ==========
            // "‰π∞Áå™ÂêÑ10" "‰π∞ÈæôÂêÑ20" "‰π∞Áå™10"
            if (settings.tplShengxiao !== false) {
                const buyMatch = line.match(/‰π∞([Èº†ÁâõËôéÂÖîÈæôËõáÈ©¨ÁæäÁå¥È∏°ÁãóÁå™]+)ÂêÑ?(\d+)ÂÖÉ?/);
                if (buyMatch) {
                    const animals = buyMatch[1].split('');
                    const amount = parseInt(buyMatch[2]);
                    for (const sx of animals) {
                        if (shengxiaoList.includes(sx)) {
                            bets.push({ type: 'ÁîüËÇñ', value: sx, amount: amount, raw: line });
                        }
                    }
                    if (bets.length) return bets;
                }
                
                // ÂçïÁã¨ÁîüËÇñ "Èæô 200" "Áå™200"
            for (const sx of shengxiaoList) {
                    const sxMatch = line.match(new RegExp(`^${sx}\\s*(\\d+)ÂÖÉ?$`));
                if (sxMatch) {
                    bets.push({ type: 'ÁîüËÇñ', value: sx, amount: parseInt(sxMatch[1]), raw: line });
                    return bets;
                    }
                }
            }
            
            // ========== Ê®°Âºè5: Â∞æÊï∞‰∏ãÊ≥® ==========
            // "5Â∞æ100" "Â∞æ5 100"
            if (settings.tplWei !== false) {
                const weiMatch = line.match(/(\d)Â∞æ\s*(\d+)ÂÖÉ?/) || line.match(/Â∞æ(\d)\s*(\d+)ÂÖÉ?/);
                if (weiMatch) {
                    bets.push({ type: 'Â∞æÊï∞', value: weiMatch[1], amount: parseInt(weiMatch[2]), raw: line });
                    return bets;
                }
            }
            
            // ========== Ê®°Âºè6: Â§öËÇñ‰∏ãÊ≥® ==========
            // "ÂÖ≠ËÇñÈº†ÁæäÈ∏°ÁâõÈ©¨‰∫å200" "‰∏âËÇñÈæôËôéËõá100"
            if (settings.tplDuoxiao !== false) {
                const duoxiaoMatch = line.match(/([‰∏Ä‰∫å‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅ]+ËÇñ|ËÇñ)([Èº†ÁâõËôéÂÖîÈæôËõáÈ©¨ÁæäÁå¥È∏°ÁãóÁå™]+)\s*(\d+)ÂÖÉ?/);
                if (duoxiaoMatch) {
                    const animals = duoxiaoMatch[2].split('');
                    const amount = parseInt(duoxiaoMatch[3]);
                    for (const sx of animals) {
                        if (shengxiaoList.includes(sx)) {
                            bets.push({ type: 'Â§öËÇñ', value: sx, amount: amount, raw: line });
                        }
                    }
                    if (bets.length) return bets;
                }
            }
            
            // ========== Ê®°Âºè7: Âπ≥ÁâπÁîüËÇñ ==========
            // "Âπ≥ÁâπÁå¥È∏°ÂêÑ200" "Âπ≥ÁâπÁå™100"
            if (settings.tplPingte !== false) {
                const pingteMatch = line.match(/Âπ≥Áâπ([Èº†ÁâõËôéÂÖîÈæôËõáÈ©¨ÁæäÁå¥È∏°ÁãóÁå™]+)ÂêÑ?(\d+)ÂÖÉ?/);
                if (pingteMatch) {
                    const animals = pingteMatch[1].split('');
                    const amount = parseInt(pingteMatch[2]);
                    for (const sx of animals) {
                        if (shengxiaoList.includes(sx)) {
                            bets.push({ type: 'Âπ≥ÁâπÁîüËÇñ', value: sx, amount: amount, raw: line });
                        }
                    }
                    if (bets.length) return bets;
                }
            }
            
            // ========== Ê®°Âºè8: Ê≥¢Ëâ≤ ==========
            // "Á∫¢Ê≥¢ 50" "Á∫¢ 50" "ËìùÊ≥¢100"
            if (settings.tplBose !== false) {
                const boseMatch = line.match(/(Á∫¢|Ëìù|Áªø)Ê≥¢?\s*(\d+)ÂÖÉ?/);
            if (boseMatch) {
                bets.push({ type: 'Ê≥¢Ëâ≤', value: boseMatch[1] + 'Ê≥¢', amount: parseInt(boseMatch[2]), raw: line });
                return bets;
                }
            }
            
            // ========== Ê®°Âºè9: ‰∏§Èù¢ÔºàÂ§ßÂ∞èÂçïÂèåÔºâ ==========
            // "Â§ß 100" "Â∞è100" "ÂçïÂèåÂêÑ50"
            if (settings.tplDxds !== false) {
                const dxdsMatch = line.match(/^(Â§ß|Â∞è|Âçï|Âèå)\s*(\d+)ÂÖÉ?$/);
            if (dxdsMatch) {
                bets.push({ type: '‰∏§Èù¢', value: dxdsMatch[1], amount: parseInt(dxdsMatch[2]), raw: line });
                return bets;
                }
                
                // "ÂçïÂèåÂêÑ50"
                const dxdsGeMatch = line.match(/(Â§ßÂ∞è|ÂçïÂèå)ÂêÑ(\d+)ÂÖÉ?/);
                if (dxdsGeMatch) {
                    const types = dxdsGeMatch[1].split('');
                    const amount = parseInt(dxdsGeMatch[2]);
                    for (const t of types) {
                        bets.push({ type: '‰∏§Èù¢', value: t, amount: amount, raw: line });
                    }
                    if (bets.length) return bets;
                }
            }
            
            // ========== Ê®°Âºè10: Á∫ØÊï∞Â≠ó+ÈáëÈ¢ù ==========
            // "43 20" ÁÆÄÂÜôÂΩ¢Âºè
            const simpleMatch = line.match(/^(\d{1,2})\s+(\d+)ÂÖÉ?$/);
            if (simpleMatch) {
                const num = parseInt(simpleMatch[1]);
                if (num >= 1 && num <= 49) {
                    bets.push({ type: 'ÁâπÁ†Å', number: num, amount: parseInt(simpleMatch[2]), raw: line });
                    return bets;
                }
            }
            
            // ========== Ê®°Âºè11: Â§öÁîüËÇñÂêÑ‰∏ãÊ≥® ==========
            // "Èº†ÁæäÈ∏°ÁâõÈ©¨ÂêÑ200"
            const multiSxMatch = line.match(/^([Èº†ÁâõËôéÂÖîÈæôËõáÈ©¨ÁæäÁå¥È∏°ÁãóÁå™]{2,})ÂêÑ(\d+)ÂÖÉ?$/);
            if (multiSxMatch) {
                const animals = multiSxMatch[1].split('');
                const amount = parseInt(multiSxMatch[2]);
                for (const sx of animals) {
                    if (shengxiaoList.includes(sx)) {
                        bets.push({ type: 'ÁîüËÇñ', value: sx, amount: amount, raw: line });
                    }
                }
                if (bets.length) return bets;
            }
            
            return null;
        }
        
        // ÂêåÈü≥Â≠óÁ∫†Ê≠£
        function correctHomophones(str) {
            const corrections = {
                'Áå™': ['‰∏ª', 'Êú±', 'Áè†', 'ËØ∏'],
                'Áâõ': ['Â¶û', 'Á∫Ω', 'ÈíÆ'],
                'Ëôé': ['Êà∑', 'Ê≤™', 'Êä§'],
                'Èæô': ['ÈöÜ', 'ËÅã', 'Á¨º'],
                'Ëõá': ['Ëàç', 'Ê∂â', 'ËÆæ'],
                'È©¨': ['Â¶à', 'Á†Å', 'Áéõ','Âêó'],
                'Áæä': ['Èò≥', 'Êâ¨', 'Êù®', 'Ê¥ã'],
                'Áå¥': ['‰æØ', 'ÂÄô', 'Âñâ'],
                'È∏°': ['Êú∫', 'Âü∫', 'ÊøÄ', 'Âèä'],
                'Áãó': ['Â§ü', 'Ë¥≠', 'ÊûÑ', 'Ê≤ü'],
                'Èº†': ['Êöë', 'Êï∞', 'Â±û', 'ÁΩ≤'],
                'ÂÖî': ['Âêê', 'Âõæ', 'Âúü', 'ÈÄî']
            };
            
            for (const [correct, wrongs] of Object.entries(corrections)) {
                for (const wrong of wrongs) {
                    str = str.replace(new RegExp(wrong, 'g'), correct);
                }
            }
            return str;
        }
        
        // ËΩ¨Êç¢‰∏≠ÊñáÊï∞Â≠óÔºàÊô∫ËÉΩÁâàÔºöÊ≠£Á°ÆÂ§ÑÁêÜÂêÑÁßç‰∏≠ÊñáÊï∞Â≠óÊ†ºÂºèÔºâ
        function convertChineseNumber(str) {
            // ÂÆö‰πâ‰∏≠ÊñáÊï∞Â≠óÊò†Â∞Ñ
            const digitMap = {'Èõ∂':0,'‰∏Ä':1,'‰∫å':2,'‰∏§':2,'‰∏â':3,'Âõõ':4,'‰∫î':5,'ÂÖ≠':6,'‰∏É':7,'ÂÖ´':8,'‰πù':9};
            
            // Â§ÑÁêÜÂÆåÊï¥ÁöÑ‰∏≠ÊñáÊï∞Â≠óÔºàÂ¶Ç"‰∫åÂçÅ‰∫î"„ÄÅ"‰∏ÄÁôæ‰∫åÂçÅ"Á≠âÔºâ
            function parseChineseNum(cnStr) {
                let result = 0;
                let temp = 0;
                
                for (let i = 0; i < cnStr.length; i++) {
                    const char = cnStr[i];
                    if (digitMap[char] !== undefined) {
                        temp = digitMap[char];
                    } else if (char === 'ÂçÅ') {
                        if (temp === 0 && i === 0) temp = 1; // "ÂçÅ"ÂºÄÂ§¥Ë°®Á§∫10
                        result += temp * 10;
                        temp = 0;
                    } else if (char === 'Áôæ') {
                        result += temp * 100;
                        temp = 0;
                    } else if (char === 'ÂçÉ') {
                        result += temp * 1000;
                        temp = 0;
                    }
                }
                result += temp; // Âä†‰∏äÊúÄÂêéÁöÑ‰∏™‰ΩçÊï∞
                return result;
            }
            
            // ÂåπÈÖç‰∏≠ÊñáÊï∞Â≠ó‰∏≤Âπ∂ÊõøÊç¢
            // ÂåπÈÖçÊ®°ÂºèÔºöËøûÁª≠ÁöÑ‰∏≠ÊñáÊï∞Â≠óÂ≠óÁ¨¶
            const cnNumPattern = /[Èõ∂‰∏Ä‰∫å‰∏§‰∏âÂõõ‰∫îÂÖ≠‰∏ÉÂÖ´‰πùÂçÅÁôæÂçÉ]+/g;
            
            str = str.replace(cnNumPattern, (match) => {
                const num = parseChineseNum(match);
                return num.toString();
            });
            
            return str;
        }
        
        // ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
        // ‚ïë                    „ÄêÊ®°Âùó2„ÄëËÆ°ÁÆóÈÄªËæëÊ®°Âùó                        ‚ïë
        // ‚ïë  Êñá‰ª∂ÂàÜÁ¶ªÊó∂ÊèêÂèñÂà∞: js/calculator.js                             ‚ïë
        // ‚ïë  ÂäüËÉΩ: Ê†πÊçÆÂºÄÂ•ñÂè∑Á†ÅÂíå‰∏ãÊ≥®‰ø°ÊÅØËÆ°ÁÆó‰∏≠Â•ñÁªìÊûú                        ‚ïë
        // ‚ïë  üÜï v3.0 ËÆ°ÁÆóÈÄªËæëÂ∑≤ËøÅÁßªÂà∞ÂêéÁ´ØÔºåÂâçÁ´ØÂè™ÂÅöÂ±ïÁ§∫                      ‚ïë
        // ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
        
        /**
         * üÜï v3.4 Ëé∑ÂèñËµîÁéáÈÖçÁΩÆÔºàËΩ¨Êç¢‰∏∫ÂêéÁ´ØÊ†ºÂºèÔºâ
         * üÜï v3.11.2 Ê∑ªÂä† PT2-PT5 Âπ≥ÁâπËøûËÇñËµîÁéá
         * @returns {Object} ËµîÁéáÈÖçÁΩÆ
         */
        function getOddsConfig() {
            const savedOdds = JSON.parse(localStorage.getItem('lhc_odds') || '{}');
            return {
                r1: parseFloat(savedOdds['odds-tema']) || 43,        // ÁâπÁ†ÅÂÄçÁéá
                r2: parseFloat(savedOdds['odds-shengxiao']) || 12,   // ÁîüËÇñÂÄçÁéá
                r3: parseFloat(savedOdds['odds-pingte1']) || 11,     // Âπ≥Áâπ‰∏ÄËÇñ(PT1)ÂÄçÁéá
                r_pt2: parseFloat(savedOdds['odds-pingte2x']) || 26, // Âπ≥Áâπ‰∫åËøûËÇñ(PT2)ÂÄçÁéá
                r_pt3: parseFloat(savedOdds['odds-pingte3x']) || 66, // Âπ≥Áâπ‰∏âËøûËÇñ(PT3/‰∏âÂèã)ÂÄçÁéá
                r_pt4: parseFloat(savedOdds['odds-pingte4x']) || 180,// Âπ≥ÁâπÂõõËøûËÇñ(PT4)ÂÄçÁéá
                r_pt5: parseFloat(savedOdds['odds-pingte5x']) || 500,// Âπ≥Áâπ‰∫îËøûËÇñ(PT5)ÂÄçÁéá
                r_dxds: parseFloat(savedOdds['odds-dxds']) || 1.98   // Â§ßÂ∞èÂçïÂèåÂÄçÁéá
            };
        }
        
